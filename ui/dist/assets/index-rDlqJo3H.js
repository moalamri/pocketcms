var ki=Object.defineProperty;var Oi=(n,e,t)=>e in n?ki(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var rn=(n,e,t)=>(Oi(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function V(){}const lt=n=>n;function st(n,e){for(const t in e)n[t]=e[t];return n}function Zs(n){return n()}function Bn(){return Object.create(null)}function ce(n){n.forEach(Zs)}function me(n){return typeof n=="function"}function fe(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function vi(n){return Object.keys(n).length===0}function Bs(n,...e){if(n==null){for(const s of e)s(void 0);return V}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Zt(n,e,t){n.$$.on_destroy.push(Bs(e,t))}function Nt(n,e,t,s){if(n){const r=Ys(n,e,t,s);return n[0](r)}}function Ys(n,e,t,s){return n[1]&&s?st(t.ctx.slice(),n[1](s(e))):t.ctx}function xt(n,e,t,s){if(n[2]&&s){const r=n[2](s(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|r[a];return i}return e.dirty|r}return e.dirty}function Dt(n,e,t,s,r,i){if(r){const o=Ys(e,t,s,i);n.p(o,r)}}function Mt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let s=0;s<t;s++)e[s]=-1;return e}return-1}function Re(n){return n&&me(n.destroy)?n.destroy:V}const Js=typeof window<"u";let Bt=Js?()=>window.performance.now():()=>Date.now(),Mn=Js?n=>requestAnimationFrame(n):V;const qe=new Set;function Ks(n){qe.forEach(e=>{e.c(n)||(qe.delete(e),e.f())}),qe.size!==0&&Mn(Ks)}function Yt(n){let e;return qe.size===0&&Mn(Ks),{promise:new Promise(t=>{qe.add(e={c:n,f:t})}),abort(){qe.delete(e)}}}function I(n,e){n.appendChild(e)}function Gs(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Ti(n){const e=C("style");return e.textContent="/* empty */",Ei(Gs(n),e),e.sheet}function Ei(n,e){return I(n.head||n,e),e.sheet}function $(n,e,t){n.insertBefore(e,t||null)}function D(n){n.parentNode&&n.parentNode.removeChild(n)}function _i(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function C(n){return document.createElement(n)}function He(n){return document.createTextNode(n)}function j(){return He(" ")}function Jt(){return He("")}function ut(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function Qs(n){return function(e){return e.preventDefault(),n.call(this,e)}}function k(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ci(n){return Array.from(n.childNodes)}function Xs(n,e){e=""+e,n.data!==e&&(n.data=e)}function $t(n,e){n.value=e??""}function z(n,e,t){n.classList.toggle(e,!!t)}function er(n,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:s})}function At(n,e){return new n(e)}const Lt=new Map;let Rt=0;function Ii(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Ni(n,e){const t={stylesheet:Ti(e),rules:{}};return Lt.set(n,t),t}function rt(n,e,t,s,r,i,o,a=0){const l=16.666/s;let u=`{
`;for(let y=0;y<=1;y+=l){const g=e+(t-e)*i(y);u+=y*100+`%{${o(g,1-g)}}
`}const c=u+`100% {${o(t,1-t)}}
}`,f=`__svelte_${Ii(c)}_${a}`,h=Gs(n),{stylesheet:d,rules:m}=Lt.get(h)||Ni(h,n);m[f]||(m[f]=!0,d.insertRule(`@keyframes ${f} ${c}`,d.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${f} ${s}ms linear ${r}ms 1 both`,Rt+=1,f}function it(n,e){const t=(n.style.animation||"").split(", "),s=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=t.length-s.length;r&&(n.style.animation=s.join(", "),Rt-=r,Rt||xi())}function xi(){Mn(()=>{Rt||(Lt.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&D(e)}),Lt.clear())})}function Di(n,e,t,s){if(!e)return V;const r=n.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return V;const{delay:i=0,duration:o=300,easing:a=lt,start:l=Bt()+i,end:u=l+o,tick:c=V,css:f}=t(n,{from:e,to:r},s);let h=!0,d=!1,m;function p(){f&&(m=rt(n,0,1,o,i,a,f)),i||(d=!0)}function y(){f&&it(n,m),h=!1}return Yt(g=>{if(!d&&g>=l&&(d=!0),d&&g>=u&&(c(1,0),y()),!h)return!1;if(d){const N=g-l,R=0+1*a(N/o);c(R,1-R)}return!0}),p(),c(0,1),y}function Mi(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,r=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,tr(n,r)}}function tr(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),r=s.transform==="none"?"":s.transform;n.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let ot;function tt(n){ot=n}function Kt(){if(!ot)throw new Error("Function called outside component initialization");return ot}function $i(n){Kt().$$.on_mount.push(n)}function Ai(n){Kt().$$.after_update.push(n)}function Li(n){Kt().$$.on_destroy.push(n)}function Ri(){const n=Kt();return(e,t,{cancelable:s=!1}={})=>{const r=n.$$.callbacks[e];if(r){const i=er(e,t,{cancelable:s});return r.slice().forEach(o=>{o.call(n,i)}),!i.defaultPrevented}return!0}}function wn(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const Fe=[],bn=[];let We=[];const Yn=[],nr=Promise.resolve();let Sn=!1;function sr(){Sn||(Sn=!0,nr.then(ir))}function rr(){return sr(),nr}function de(n){We.push(n)}const on=new Set;let Me=0;function ir(){if(Me!==0)return;const n=ot;do{try{for(;Me<Fe.length;){const e=Fe[Me];Me++,tt(e),Fi(e.$$)}}catch(e){throw Fe.length=0,Me=0,e}for(tt(null),Fe.length=0,Me=0;bn.length;)bn.pop()();for(let e=0;e<We.length;e+=1){const t=We[e];on.has(t)||(on.add(t),t())}We.length=0}while(Fe.length);for(;Yn.length;)Yn.pop()();Sn=!1,on.clear(),tt(n)}function Fi(n){if(n.fragment!==null){n.update(),ce(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(de)}}function Pi(n){const e=[],t=[];We.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),We=e}let Ge;function $n(){return Ge||(Ge=Promise.resolve(),Ge.then(()=>{Ge=null})),Ge}function Ie(n,e,t){n.dispatchEvent(er(`${e?"intro":"outro"}${t}`))}const Tt=new Set;let ue;function ze(){ue={r:0,c:[],p:ue}}function Ze(){ue.r||ce(ue.c),ue=ue.p}function F(n,e){n&&n.i&&(Tt.delete(n),n.i(e))}function q(n,e,t,s){if(n&&n.o){if(Tt.has(n))return;Tt.add(n),ue.c.push(()=>{Tt.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const An={duration:0};function qi(n,e,t){const s={direction:"in"};let r=e(n,t,s),i=!1,o,a,l=0;function u(){o&&it(n,o)}function c(){const{delay:h=0,duration:d=300,easing:m=lt,tick:p=V,css:y}=r||An;y&&(o=rt(n,0,1,d,h,m,y,l++)),p(0,1);const g=Bt()+h,N=g+d;a&&a.abort(),i=!0,de(()=>Ie(n,!0,"start")),a=Yt(R=>{if(i){if(R>=N)return p(1,0),Ie(n,!0,"end"),u(),i=!1;if(R>=g){const O=m((R-g)/d);p(O,1-O)}}return i})}let f=!1;return{start(){f||(f=!0,it(n),me(r)?(r=r(s),$n().then(c)):c())},invalidate(){f=!1},end(){i&&(u(),i=!1)}}}function Wi(n,e,t){const s={direction:"out"};let r=e(n,t,s),i=!0,o;const a=ue;a.r+=1;let l;function u(){const{delay:c=0,duration:f=300,easing:h=lt,tick:d=V,css:m}=r||An;m&&(o=rt(n,1,0,f,c,h,m));const p=Bt()+c,y=p+f;de(()=>Ie(n,!1,"start")),"inert"in n&&(l=n.inert,n.inert=!0),Yt(g=>{if(i){if(g>=y)return d(0,1),Ie(n,!1,"end"),--a.r||ce(a.c),!1;if(g>=p){const N=h((g-p)/f);d(1-N,N)}}return i})}return me(r)?$n().then(()=>{r=r(s),u()}):u(),{end(c){c&&"inert"in n&&(n.inert=l),c&&r.tick&&r.tick(1,0),i&&(o&&it(n,o),i=!1)}}}function Ft(n,e,t,s){let i=e(n,t,{direction:"both"}),o=s?0:1,a=null,l=null,u=null,c;function f(){u&&it(n,u)}function h(m,p){const y=m.b-o;return p*=Math.abs(y),{a:o,b:m.b,d:y,duration:p,start:m.start,end:m.start+p,group:m.group}}function d(m){const{delay:p=0,duration:y=300,easing:g=lt,tick:N=V,css:R}=i||An,O={start:Bt()+p,b:m};m||(O.group=ue,ue.r+=1),"inert"in n&&(m?c!==void 0&&(n.inert=c):(c=n.inert,n.inert=!0)),a||l?l=O:(R&&(f(),u=rt(n,o,m,y,p,g,R)),m&&N(0,1),a=h(O,y),de(()=>Ie(n,m,"start")),Yt(v=>{if(l&&v>l.start&&(a=h(l,y),l=null,Ie(n,a.b,"start"),R&&(f(),u=rt(n,o,a.b,a.duration,0,g,i.css))),a){if(v>=a.end)N(o=a.b,1-o),Ie(n,a.b,"end"),l||(a.b?f():--a.group.r||ce(a.group.c)),a=null;else if(v>=a.start){const S=v-a.start;o=a.a+a.d*g(S/a.duration),N(o,1-o)}}return!!(a||l)}))}return{run(m){me(i)?$n().then(()=>{i=i({direction:m?"in":"out"}),d(m)}):d(m)},end(){f(),a=l=null}}}function Pt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Vi(n,e){q(n,1,1,()=>{e.delete(n.key)})}function Ui(n,e){n.f(),Vi(n,e)}function ji(n,e,t,s,r,i,o,a,l,u,c,f){let h=n.length,d=i.length,m=h;const p={};for(;m--;)p[n[m].key]=m;const y=[],g=new Map,N=new Map,R=[];for(m=d;m--;){const _=f(r,i,m),A=t(_);let P=o.get(A);P?s&&R.push(()=>P.p(_,e)):(P=u(A,_),P.c()),g.set(A,y[m]=P),A in p&&N.set(A,Math.abs(m-p[A]))}const O=new Set,v=new Set;function S(_){F(_,1),_.m(a,c),o.set(_.key,_),c=_.first,d--}for(;h&&d;){const _=y[d-1],A=n[h-1],P=_.key,le=A.key;_===A?(c=_.first,h--,d--):g.has(le)?!o.has(P)||O.has(P)?S(_):v.has(le)?h--:N.get(P)>N.get(le)?(v.add(P),S(_)):(O.add(le),h--):(l(A,o),h--)}for(;h--;){const _=n[h];g.has(_.key)||l(_,o)}for(;d;)S(y[d-1]);return ce(R),y}function qt(n,e){const t={},s={},r={$$scope:1};let i=n.length;for(;i--;){const o=n[i],a=e[i];if(a){for(const l in o)l in a||(s[l]=1);for(const l in a)r[l]||(t[l]=a[l],r[l]=1);n[i]=a}else for(const l in o)r[l]=1}for(const o in s)o in t||(t[o]=void 0);return t}function Wt(n){return typeof n=="object"&&n!==null?n:{}}function oe(n){n&&n.c()}function te(n,e,t){const{fragment:s,after_update:r}=n.$$;s&&s.m(e,t),de(()=>{const i=n.$$.on_mount.map(Zs).filter(me);n.$$.on_destroy?n.$$.on_destroy.push(...i):ce(i),n.$$.on_mount=[]}),r.forEach(de)}function ne(n,e){const t=n.$$;t.fragment!==null&&(Pi(t.after_update),ce(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Hi(n,e){n.$$.dirty[0]===-1&&(Fe.push(n),sr(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function pe(n,e,t,s,r,i,o=null,a=[-1]){const l=ot;tt(n);const u=n.$$={fragment:null,ctx:[],props:i,update:V,not_equal:r,bound:Bn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Bn(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(n,e.props||{},(f,h,...d)=>{const m=d.length?d[0]:h;return u.ctx&&r(u.ctx[f],u.ctx[f]=m)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](m),c&&Hi(n,f)),h}):[],u.update(),c=!0,ce(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const f=Ci(e.target);u.fragment&&u.fragment.l(f),f.forEach(D)}else u.fragment&&u.fragment.c();e.intro&&F(n.$$.fragment),te(n,e.target,e.anchor),ir()}tt(l)}class ye{constructor(){rn(this,"$$");rn(this,"$$set")}$destroy(){ne(this,1),this.$destroy=V}$on(e,t){if(!me(t))return V;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!vi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const zi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(zi);const $e=[];function or(n,e){return{subscribe:ct(n,e).subscribe}}function ct(n,e=V){let t;const s=new Set;function r(a){if(fe(n,a)&&(n=a,t)){const l=!$e.length;for(const u of s)u[1](),$e.push(u,n);if(l){for(let u=0;u<$e.length;u+=2)$e[u][0]($e[u+1]);$e.length=0}}}function i(a){r(a(n))}function o(a,l=V){const u=[a,l];return s.add(u),s.size===1&&(t=e(r,i)||V),a(n),()=>{s.delete(u),s.size===0&&t&&(t(),t=null)}}return{set:r,update:i,subscribe:o}}function ar(n,e,t){const s=!Array.isArray(n),r=s?[n]:n;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return or(t,(o,a)=>{let l=!1;const u=[];let c=0,f=V;const h=()=>{if(c)return;f();const m=e(s?u[0]:u,o,a);i?o(m):f=me(m)?m:V},d=r.map((m,p)=>Bs(m,y=>{u[p]=y,c&=~(1<<p),l&&h()},()=>{c|=1<<p}));return l=!0,h(),function(){ce(d),f(),l=!1}})}function lr(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,s,r,i,o=[],a="",l=n.split("/");for(l[0]||l.shift();r=l.shift();)t=r[0],t==="*"?(o.push("wild"),a+="/(.*)"):t===":"?(s=r.indexOf("?",1),i=r.indexOf(".",1),o.push(r.substring(1,~s?s:~i?i:r.length)),a+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~s?"?":"")+"\\"+r.substring(i))):a+="/"+r;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}function Zi(n){let e,t,s;const r=[n[2]];var i=n[0];function o(a,l){let u={};for(let c=0;c<r.length;c+=1)u=st(u,r[c]);return l!==void 0&&l&4&&(u=st(u,qt(r,[Wt(a[2])]))),{props:u}}return i&&(e=At(i,o(n)),e.$on("routeEvent",n[7])),{c(){e&&oe(e.$$.fragment),t=Jt()},m(a,l){e&&te(e,a,l),$(a,t,l),s=!0},p(a,l){if(l&1&&i!==(i=a[0])){if(e){ze();const u=e;q(u.$$.fragment,1,0,()=>{ne(u,1)}),Ze()}i?(e=At(i,o(a,l)),e.$on("routeEvent",a[7]),oe(e.$$.fragment),F(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else if(i){const u=l&4?qt(r,[Wt(a[2])]):{};e.$set(u)}},i(a){s||(e&&F(e.$$.fragment,a),s=!0)},o(a){e&&q(e.$$.fragment,a),s=!1},d(a){a&&D(t),e&&ne(e,a)}}}function Bi(n){let e,t,s;const r=[{params:n[1]},n[2]];var i=n[0];function o(a,l){let u={};for(let c=0;c<r.length;c+=1)u=st(u,r[c]);return l!==void 0&&l&6&&(u=st(u,qt(r,[l&2&&{params:a[1]},l&4&&Wt(a[2])]))),{props:u}}return i&&(e=At(i,o(n)),e.$on("routeEvent",n[6])),{c(){e&&oe(e.$$.fragment),t=Jt()},m(a,l){e&&te(e,a,l),$(a,t,l),s=!0},p(a,l){if(l&1&&i!==(i=a[0])){if(e){ze();const u=e;q(u.$$.fragment,1,0,()=>{ne(u,1)}),Ze()}i?(e=At(i,o(a,l)),e.$on("routeEvent",a[6]),oe(e.$$.fragment),F(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else if(i){const u=l&6?qt(r,[l&2&&{params:a[1]},l&4&&Wt(a[2])]):{};e.$set(u)}},i(a){s||(e&&F(e.$$.fragment,a),s=!0)},o(a){e&&q(e.$$.fragment,a),s=!1},d(a){a&&D(t),e&&ne(e,a)}}}function Yi(n){let e,t,s,r;const i=[Bi,Zi],o=[];function a(l,u){return l[1]?0:1}return e=a(n),t=o[e]=i[e](n),{c(){t.c(),s=Jt()},m(l,u){o[e].m(l,u),$(l,s,u),r=!0},p(l,[u]){let c=e;e=a(l),e===c?o[e].p(l,u):(ze(),q(o[c],1,1,()=>{o[c]=null}),Ze(),t=o[e],t?t.p(l,u):(t=o[e]=i[e](l),t.c()),F(t,1),t.m(s.parentNode,s))},i(l){r||(F(t),r=!0)},o(l){q(t),r=!1},d(l){l&&D(s),o[e].d(l)}}}function Jn(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let s="";return t>-1&&(s=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:s}}const Gt=or(null,function(e){e(Jn());const t=()=>{e(Jn())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});ar(Gt,n=>n.location);const Ji=ar(Gt,n=>n.querystring),Kn=ct(void 0);async function ft(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await rr();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function an(n,e){if(e=Qn(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Gn(n,e),{update(t){t=Qn(t),Gn(n,t)}}}function Ki(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Gn(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",s=>{s.preventDefault(),e.disabled||Gi(s.currentTarget.getAttribute("href"))})}function Qn(n){return n&&typeof n=="string"?{href:n}:n||{}}function Gi(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function Qi(n,e,t){let{routes:s={}}=e,{prefix:r=""}=e,{restoreScrollState:i=!1}=e;class o{constructor(v,S){if(!S||typeof S!="function"&&(typeof S!="object"||S._sveltesparouter!==!0))throw Error("Invalid component object");if(!v||typeof v=="string"&&(v.length<1||v.charAt(0)!="/"&&v.charAt(0)!="*")||typeof v=="object"&&!(v instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:_,keys:A}=lr(v);this.path=v,typeof S=="object"&&S._sveltesparouter===!0?(this.component=S.component,this.conditions=S.conditions||[],this.userData=S.userData,this.props=S.props||{}):(this.component=()=>Promise.resolve(S),this.conditions=[],this.props={}),this._pattern=_,this._keys=A}match(v){if(r){if(typeof r=="string")if(v.startsWith(r))v=v.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const P=v.match(r);if(P&&P[0])v=v.substr(P[0].length)||"/";else return null}}const S=this._pattern.exec(v);if(S===null)return null;if(this._keys===!1)return S;const _={};let A=0;for(;A<this._keys.length;){try{_[this._keys[A]]=decodeURIComponent(S[A+1]||"")||null}catch{_[this._keys[A]]=null}A++}return _}async checkConditions(v){for(let S=0;S<this.conditions.length;S++)if(!await this.conditions[S](v))return!1;return!0}}const a=[];s instanceof Map?s.forEach((O,v)=>{a.push(new o(v,O))}):Object.keys(s).forEach(O=>{a.push(new o(O,s[O]))});let l=null,u=null,c={};const f=Ri();async function h(O,v){await rr(),f(O,v)}let d=null,m=null;i&&(m=O=>{O.state&&(O.state.__svelte_spa_router_scrollY||O.state.__svelte_spa_router_scrollX)?d=O.state:d=null},window.addEventListener("popstate",m),Ai(()=>{Ki(d)}));let p=null,y=null;const g=Gt.subscribe(async O=>{p=O;let v=0;for(;v<a.length;){const S=a[v].match(O.location);if(!S){v++;continue}const _={route:a[v].path,location:O.location,querystring:O.querystring,userData:a[v].userData,params:S&&typeof S=="object"&&Object.keys(S).length?S:null};if(!await a[v].checkConditions(_)){t(0,l=null),y=null,h("conditionsFailed",_);return}h("routeLoading",Object.assign({},_));const A=a[v].component;if(y!=A){A.loading?(t(0,l=A.loading),y=A,t(1,u=A.loadingParams),t(2,c={}),h("routeLoaded",Object.assign({},_,{component:l,name:l.name,params:u}))):(t(0,l=null),y=null);const P=await A();if(O!=p)return;t(0,l=P&&P.default||P),y=A}S&&typeof S=="object"&&Object.keys(S).length?t(1,u=S):t(1,u=null),t(2,c=a[v].props),h("routeLoaded",Object.assign({},_,{component:l,name:l.name,params:u})).then(()=>{Kn.set(u)});return}t(0,l=null),y=null,Kn.set(void 0)});Li(()=>{g(),m&&window.removeEventListener("popstate",m)});function N(O){wn.call(this,n,O)}function R(O){wn.call(this,n,O)}return n.$$set=O=>{"routes"in O&&t(3,s=O.routes),"prefix"in O&&t(4,r=O.prefix),"restoreScrollState"in O&&t(5,i=O.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,u,c,s,r,i,N,R]}class Xi extends ye{constructor(e){super(),pe(this,e,Qi,Yi,fe,{routes:3,prefix:4,restoreScrollState:5})}}const Et=[];let ur;function cr(n){const e=n.pattern.test(ur);Xn(n,n.className,e),Xn(n,n.inactiveClassName,!e)}function Xn(n,e,t){(e||"").split(" ").forEach(s=>{s&&(n.node.classList.remove(s),t&&n.node.classList.add(s))})}Gt.subscribe(n=>{ur=n.location+(n.querystring?"?"+n.querystring:""),Et.map(cr)});function es(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?lr(e.path):{pattern:e.path},s={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return Et.push(s),cr(s),{destroy(){Et.splice(Et.indexOf(s),1)}}}function Ln(n){const e=n-1;return e*e*e+1}function eo(n,{delay:e=0,duration:t=400,easing:s=lt}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:i=>`opacity: ${i*r}`}}function kn(n,{delay:e=0,duration:t=400,easing:s=Ln,axis:r="y"}={}){const i=getComputedStyle(n),o=+i.opacity,a=r==="y"?"height":"width",l=parseFloat(i[a]),u=r==="y"?["top","bottom"]:["left","right"],c=u.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),f=parseFloat(i[`padding${c[0]}`]),h=parseFloat(i[`padding${c[1]}`]),d=parseFloat(i[`margin${c[0]}`]),m=parseFloat(i[`margin${c[1]}`]),p=parseFloat(i[`border${c[0]}Width`]),y=parseFloat(i[`border${c[1]}Width`]);return{delay:e,duration:t,easing:s,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*o};${a}: ${g*l}px;padding-${u[0]}: ${g*f}px;padding-${u[1]}: ${g*h}px;margin-${u[0]}: ${g*d}px;margin-${u[1]}: ${g*m}px;border-${u[0]}-width: ${g*p}px;border-${u[1]}-width: ${g*y}px;`}}function ts(n,{delay:e=0,duration:t=400,easing:s=Ln,start:r=0,opacity:i=0}={}){const o=getComputedStyle(n),a=+o.opacity,l=o.transform==="none"?"":o.transform,u=1-r,c=a*(1-i);return{delay:e,duration:t,easing:s,css:(f,h)=>`
			transform: ${l} scale(${1-u*h});
			opacity: ${a-c*h}
		`}}function to(n,{from:e,to:t},s={}){const r=getComputedStyle(n),i=r.transform==="none"?"":r.transform,[o,a]=r.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*o/t.width-(t.left+o),u=e.top+e.height*a/t.height-(t.top+a),{delay:c=0,duration:f=d=>Math.sqrt(d)*120,easing:h=Ln}=s;return{delay:c,duration:me(f)?f(Math.sqrt(l*l+u*u)):f,easing:h,css:(d,m)=>{const p=m*l,y=m*u,g=d+m*e.width/t.width,N=d+m*e.height/t.height;return`transform: ${i} translate(${p}px, ${y}px) scale(${g}, ${N});`}}}class xe extends Error{}class no extends xe{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class so extends xe{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class ro extends xe{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Pe extends xe{}class fr extends xe{constructor(e){super(`Invalid unit ${e}`)}}class Y extends xe{}class ge extends xe{constructor(){super("Zone is an abstract class")}}const w="numeric",ae="short",K="long",Vt={year:w,month:w,day:w},dr={year:w,month:ae,day:w},io={year:w,month:ae,day:w,weekday:ae},hr={year:w,month:K,day:w},mr={year:w,month:K,day:w,weekday:K},pr={hour:w,minute:w},yr={hour:w,minute:w,second:w},gr={hour:w,minute:w,second:w,timeZoneName:ae},wr={hour:w,minute:w,second:w,timeZoneName:K},br={hour:w,minute:w,hourCycle:"h23"},Sr={hour:w,minute:w,second:w,hourCycle:"h23"},kr={hour:w,minute:w,second:w,hourCycle:"h23",timeZoneName:ae},Or={hour:w,minute:w,second:w,hourCycle:"h23",timeZoneName:K},vr={year:w,month:w,day:w,hour:w,minute:w},Tr={year:w,month:w,day:w,hour:w,minute:w,second:w},Er={year:w,month:ae,day:w,hour:w,minute:w},_r={year:w,month:ae,day:w,hour:w,minute:w,second:w},oo={year:w,month:ae,day:w,weekday:ae,hour:w,minute:w},Cr={year:w,month:K,day:w,hour:w,minute:w,timeZoneName:ae},Ir={year:w,month:K,day:w,hour:w,minute:w,second:w,timeZoneName:ae},Nr={year:w,month:K,day:w,weekday:K,hour:w,minute:w,timeZoneName:K},xr={year:w,month:K,day:w,weekday:K,hour:w,minute:w,second:w,timeZoneName:K};class dt{get type(){throw new ge}get name(){throw new ge}get ianaName(){return this.name}get isUniversal(){throw new ge}offsetName(e,t){throw new ge}formatOffset(e,t){throw new ge}offset(e){throw new ge}equals(e){throw new ge}get isValid(){throw new ge}}let ln=null;class Qt extends dt{static get instance(){return ln===null&&(ln=new Qt),ln}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:s}){return qr(e,t,s)}formatOffset(e,t){return nt(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let _t={};function ao(n){return _t[n]||(_t[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),_t[n]}const lo={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function uo(n,e){const t=n.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,i,o,a,l,u,c]=s;return[o,r,i,a,l,u,c]}function co(n,e){const t=n.formatToParts(e),s=[];for(let r=0;r<t.length;r++){const{type:i,value:o}=t[r],a=lo[i];i==="era"?s[a]=o:T(a)||(s[a]=parseInt(o,10))}return s}let yt={};class he extends dt{static create(e){return yt[e]||(yt[e]=new he(e)),yt[e]}static resetCache(){yt={},_t={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=he.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:s}){return qr(e,t,s,this.name)}formatOffset(e,t){return nt(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const s=ao(this.name);let[r,i,o,a,l,u,c]=s.formatToParts?co(s,t):uo(s,t);a==="BC"&&(r=-Math.abs(r)+1);const h=en({year:r,month:i,day:o,hour:l===24?0:l,minute:u,second:c,millisecond:0});let d=+t;const m=d%1e3;return d-=m>=0?m:1e3+m,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let ns={};function fo(n,e={}){const t=JSON.stringify([n,e]);let s=ns[t];return s||(s=new Intl.ListFormat(n,e),ns[t]=s),s}let On={};function vn(n,e={}){const t=JSON.stringify([n,e]);let s=On[t];return s||(s=new Intl.DateTimeFormat(n,e),On[t]=s),s}let Tn={};function ho(n,e={}){const t=JSON.stringify([n,e]);let s=Tn[t];return s||(s=new Intl.NumberFormat(n,e),Tn[t]=s),s}let En={};function mo(n,e={}){const{base:t,...s}=e,r=JSON.stringify([n,s]);let i=En[r];return i||(i=new Intl.RelativeTimeFormat(n,e),En[r]=i),i}let et=null;function po(){return et||(et=new Intl.DateTimeFormat().resolvedOptions().locale,et)}let ss={};function yo(n){let e=ss[n];if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,ss[n]=e}return e}function go(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let s,r;try{s=vn(n).resolvedOptions(),r=n}catch{const l=n.substring(0,t);s=vn(l).resolvedOptions(),r=l}const{numberingSystem:i,calendar:o}=s;return[r,i,o]}}function wo(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function bo(n){const e=[];for(let t=1;t<=12;t++){const s=E.utc(2009,t,1);e.push(n(s))}return e}function So(n){const e=[];for(let t=1;t<=7;t++){const s=E.utc(2016,11,13+t);e.push(n(s))}return e}function gt(n,e,t,s){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):s(e)}function ko(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class Oo{constructor(e,t,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:r,floor:i,...o}=s;if(!t||Object.keys(o).length>0){const a={useGrouping:!1,...s};s.padTo>0&&(a.minimumIntegerDigits=s.padTo),this.inf=ho(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):qn(e,3);return H(t,this.padTo)}}}class vo{constructor(e,t,s){this.opts=s,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&he.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||r,this.dtf=vn(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:s}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class To{constructor(e,t,s){this.opts={style:"long",...s},!t&&Fr()&&(this.rtf=mo(e,s))}format(e,t){return this.rtf?this.rtf.format(e,t):Ho(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Eo={firstDay:1,minimalDays:4,weekend:[6,7]};class L{static fromOpts(e){return L.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,s,r,i=!1){const o=e||U.defaultLocale,a=o||(i?"en-US":po()),l=t||U.defaultNumberingSystem,u=s||U.defaultOutputCalendar,c=_n(r)||U.defaultWeekSettings;return new L(a,l,u,c,o)}static resetCache(){et=null,On={},Tn={},En={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:s,weekSettings:r}={}){return L.create(e,t,s,r)}constructor(e,t,s,r,i){const[o,a,l]=go(e);this.locale=o,this.numberingSystem=t||a||null,this.outputCalendar=s||l||null,this.weekSettings=r,this.intl=wo(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ko(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:L.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,_n(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return gt(this,e,Ur,()=>{const s=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=bo(i=>this.extract(i,s,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return gt(this,e,zr,()=>{const s=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=So(i=>this.extract(i,s,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return gt(this,void 0,()=>Zr,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[E.utc(2016,11,13,9),E.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return gt(this,e,Br,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[E.utc(-40,1,1),E.utc(2017,1,1)].map(s=>this.extract(s,t,"era"))),this.eraCache[e]})}extract(e,t,s){const r=this.dtFormatter(e,t),i=r.formatToParts(),o=i.find(a=>a.type.toLowerCase()===s);return o?o.value:null}numberFormatter(e={}){return new Oo(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new vo(e,this.intl,t)}relFormatter(e={}){return new To(this.intl,this.isEnglish(),e)}listFormatter(e={}){return fo(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Pr()?yo(this.locale):Eo}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let un=null;class B extends dt{static get utcInstance(){return un===null&&(un=new B(0)),un}static instance(e){return e===0?B.utcInstance:new B(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new B(tn(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${nt(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${nt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return nt(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class _o extends dt{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Se(n,e){if(T(n)||n===null)return e;if(n instanceof dt)return n;if(No(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Qt.instance:t==="utc"||t==="gmt"?B.utcInstance:B.parseSpecifier(t)||he.create(n)}else return Ne(n)?B.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new _o(n)}let rs=()=>Date.now(),is="system",os=null,as=null,ls=null,us=60,cs,fs=null;class U{static get now(){return rs}static set now(e){rs=e}static set defaultZone(e){is=e}static get defaultZone(){return Se(is,Qt.instance)}static get defaultLocale(){return os}static set defaultLocale(e){os=e}static get defaultNumberingSystem(){return as}static set defaultNumberingSystem(e){as=e}static get defaultOutputCalendar(){return ls}static set defaultOutputCalendar(e){ls=e}static get defaultWeekSettings(){return fs}static set defaultWeekSettings(e){fs=_n(e)}static get twoDigitCutoffYear(){return us}static set twoDigitCutoffYear(e){us=e%100}static get throwOnInvalid(){return cs}static set throwOnInvalid(e){cs=e}static resetCaches(){L.resetCache(),he.resetCache()}}class ie{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Dr=[0,31,59,90,120,151,181,212,243,273,304,334],Mr=[0,31,60,91,121,152,182,213,244,274,305,335];function X(n,e){return new ie("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function Rn(n,e,t){const s=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const r=s.getUTCDay();return r===0?7:r}function $r(n,e,t){return t+(ht(n)?Mr:Dr)[e-1]}function Ar(n,e){const t=ht(n)?Mr:Dr,s=t.findIndex(i=>i<e),r=e-t[s];return{month:s+1,day:r}}function Fn(n,e){return(n-e+7)%7+1}function Ut(n,e=4,t=1){const{year:s,month:r,day:i}=n,o=$r(s,r,i),a=Fn(Rn(s,r,i),t);let l=Math.floor((o-a+14-e)/7),u;return l<1?(u=s-1,l=at(u,e,t)):l>at(s,e,t)?(u=s+1,l=1):u=s,{weekYear:u,weekNumber:l,weekday:a,...nn(n)}}function ds(n,e=4,t=1){const{weekYear:s,weekNumber:r,weekday:i}=n,o=Fn(Rn(s,1,e),t),a=Ve(s);let l=r*7+i-o-7+e,u;l<1?(u=s-1,l+=Ve(u)):l>a?(u=s+1,l-=Ve(s)):u=s;const{month:c,day:f}=Ar(u,l);return{year:u,month:c,day:f,...nn(n)}}function cn(n){const{year:e,month:t,day:s}=n,r=$r(e,t,s);return{year:e,ordinal:r,...nn(n)}}function hs(n){const{year:e,ordinal:t}=n,{month:s,day:r}=Ar(e,t);return{year:e,month:s,day:r,...nn(n)}}function ms(n,e){if(!T(n.localWeekday)||!T(n.localWeekNumber)||!T(n.localWeekYear)){if(!T(n.weekday)||!T(n.weekNumber)||!T(n.weekYear))throw new Pe("Cannot mix locale-based week fields with ISO-based week fields");return T(n.localWeekday)||(n.weekday=n.localWeekday),T(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),T(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Co(n,e=4,t=1){const s=Xt(n.weekYear),r=ee(n.weekNumber,1,at(n.weekYear,e,t)),i=ee(n.weekday,1,7);return s?r?i?!1:X("weekday",n.weekday):X("week",n.weekNumber):X("weekYear",n.weekYear)}function Io(n){const e=Xt(n.year),t=ee(n.ordinal,1,Ve(n.year));return e?t?!1:X("ordinal",n.ordinal):X("year",n.year)}function Lr(n){const e=Xt(n.year),t=ee(n.month,1,12),s=ee(n.day,1,jt(n.year,n.month));return e?t?s?!1:X("day",n.day):X("month",n.month):X("year",n.year)}function Rr(n){const{hour:e,minute:t,second:s,millisecond:r}=n,i=ee(e,0,23)||e===24&&t===0&&s===0&&r===0,o=ee(t,0,59),a=ee(s,0,59),l=ee(r,0,999);return i?o?a?l?!1:X("millisecond",r):X("second",s):X("minute",t):X("hour",e)}function T(n){return typeof n>"u"}function Ne(n){return typeof n=="number"}function Xt(n){return typeof n=="number"&&n%1===0}function No(n){return typeof n=="string"}function xo(n){return Object.prototype.toString.call(n)==="[object Date]"}function Fr(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Pr(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Do(n){return Array.isArray(n)?n:[n]}function ps(n,e,t){if(n.length!==0)return n.reduce((s,r)=>{const i=[e(r),r];return s&&t(s[0],i[0])===s[0]?s:i},null)[1]}function Mo(n,e){return e.reduce((t,s)=>(t[s]=n[s],t),{})}function je(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function _n(n){if(n==null)return null;if(typeof n!="object")throw new Y("Week settings must be an object");if(!ee(n.firstDay,1,7)||!ee(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!ee(e,1,7)))throw new Y("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function ee(n,e,t){return Xt(n)&&n>=e&&n<=t}function $o(n,e){return n-e*Math.floor(n/e)}function H(n,e=2){const t=n<0;let s;return t?s="-"+(""+-n).padStart(e,"0"):s=(""+n).padStart(e,"0"),s}function be(n){if(!(T(n)||n===null||n===""))return parseInt(n,10)}function Te(n){if(!(T(n)||n===null||n===""))return parseFloat(n)}function Pn(n){if(!(T(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function qn(n,e,t=!1){const s=10**e;return(t?Math.trunc:Math.round)(n*s)/s}function ht(n){return n%4===0&&(n%100!==0||n%400===0)}function Ve(n){return ht(n)?366:365}function jt(n,e){const t=$o(e-1,12)+1,s=n+(e-t)/12;return t===2?ht(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function en(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function ys(n,e,t){return-Fn(Rn(n,1,e),t)+e-1}function at(n,e=4,t=1){const s=ys(n,e,t),r=ys(n+1,e,t);return(Ve(n)-s+r)/7}function Cn(n){return n>99?n:n>U.twoDigitCutoffYear?1900+n:2e3+n}function qr(n,e,t,s=null){const r=new Date(n),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(i.timeZone=s);const o={timeZoneName:e,...i},a=new Intl.DateTimeFormat(t,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function tn(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const s=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-s:s;return t*60+r}function Wr(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Y(`Invalid unit value ${n}`);return e}function Ht(n,e){const t={};for(const s in n)if(je(n,s)){const r=n[s];if(r==null)continue;t[e(s)]=Wr(r)}return t}function nt(n,e){const t=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return`${r}${H(t,2)}:${H(s,2)}`;case"narrow":return`${r}${t}${s>0?`:${s}`:""}`;case"techie":return`${r}${H(t,2)}${H(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function nn(n){return Mo(n,["hour","minute","second","millisecond"])}const Ao=["January","February","March","April","May","June","July","August","September","October","November","December"],Vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Lo=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ur(n){switch(n){case"narrow":return[...Lo];case"short":return[...Vr];case"long":return[...Ao];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const jr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Hr=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ro=["M","T","W","T","F","S","S"];function zr(n){switch(n){case"narrow":return[...Ro];case"short":return[...Hr];case"long":return[...jr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Zr=["AM","PM"],Fo=["Before Christ","Anno Domini"],Po=["BC","AD"],qo=["B","A"];function Br(n){switch(n){case"narrow":return[...qo];case"short":return[...Po];case"long":return[...Fo];default:return null}}function Wo(n){return Zr[n.hour<12?0:1]}function Vo(n,e){return zr(e)[n.weekday-1]}function Uo(n,e){return Ur(e)[n.month-1]}function jo(n,e){return Br(e)[n.year<0?0:1]}function Ho(n,e,t="always",s=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&i){const f=n==="days";switch(e){case 1:return f?"tomorrow":`next ${r[n][0]}`;case-1:return f?"yesterday":`last ${r[n][0]}`;case 0:return f?"today":`this ${r[n][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,u=r[n],c=s?l?u[1]:u[2]||u[1]:l?r[n][0]:n;return o?`${a} ${c} ago`:`in ${a} ${c}`}function gs(n,e){let t="";for(const s of n)s.literal?t+=s.val:t+=e(s.val);return t}const zo={D:Vt,DD:dr,DDD:hr,DDDD:mr,t:pr,tt:yr,ttt:gr,tttt:wr,T:br,TT:Sr,TTT:kr,TTTT:Or,f:vr,ff:Er,fff:Cr,ffff:Nr,F:Tr,FF:_r,FFF:Ir,FFFF:xr};class Z{static create(e,t={}){return new Z(e,t)}static parseFormat(e){let t=null,s="",r=!1;const i=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(s.length>0&&i.push({literal:r||/^\s+$/.test(s),val:s}),t=null,s="",r=!r):r||a===t?s+=a:(s.length>0&&i.push({literal:/^\s+$/.test(s),val:s}),s=a,t=a)}return s.length>0&&i.push({literal:r||/^\s+$/.test(s),val:s}),i}static macroTokenToFormatOpts(e){return zo[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return H(e,t);const s={...this.opts};return t>0&&(s.padTo=t),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,t){const s=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(d,m)=>this.loc.extract(e,d,m),o=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",a=()=>s?Wo(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,m)=>s?Uo(e,d):i(m?{month:d}:{month:d,day:"numeric"},"month"),u=(d,m)=>s?Vo(e,d):i(m?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),c=d=>{const m=Z.macroTokenToFormatOpts(d);return m?this.formatWithSystemDefault(e,m):d},f=d=>s?jo(e,d):i({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(d)}};return gs(Z.parseFormat(t),h)}formatDurationFromString(e,t){const s=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>u=>{const c=s(u);return c?this.num(l.get(c),u.length):u},i=Z.parseFormat(t),o=i.reduce((l,{literal:u,val:c})=>u?l:l.concat(c),[]),a=e.shiftTo(...o.map(s).filter(l=>l));return gs(i,r(a))}}const Yr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Be(...n){const e=n.reduce((t,s)=>t+s.source,"");return RegExp(`^${e}$`)}function Ye(...n){return e=>n.reduce(([t,s,r],i)=>{const[o,a,l]=i(e,r);return[{...t,...o},a||s,l]},[{},null,1]).slice(0,2)}function Je(n,...e){if(n==null)return[null,null];for(const[t,s]of e){const r=t.exec(n);if(r)return s(r)}return[null,null]}function Jr(...n){return(e,t)=>{const s={};let r;for(r=0;r<n.length;r++)s[n[r]]=be(e[t+r]);return[s,null,t+r]}}const Kr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zo=`(?:${Kr.source}?(?:\\[(${Yr.source})\\])?)?`,Wn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Gr=RegExp(`${Wn.source}${Zo}`),Vn=RegExp(`(?:T${Gr.source})?`),Bo=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Yo=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Jo=/(\d{4})-?(\d{3})/,Ko=Jr("weekYear","weekNumber","weekDay"),Go=Jr("year","ordinal"),Qo=/(\d{4})-(\d\d)-(\d\d)/,Qr=RegExp(`${Wn.source} ?(?:${Kr.source}|(${Yr.source}))?`),Xo=RegExp(`(?: ${Qr.source})?`);function Ue(n,e,t){const s=n[e];return T(s)?t:be(s)}function ea(n,e){return[{year:Ue(n,e),month:Ue(n,e+1,1),day:Ue(n,e+2,1)},null,e+3]}function Ke(n,e){return[{hours:Ue(n,e,0),minutes:Ue(n,e+1,0),seconds:Ue(n,e+2,0),milliseconds:Pn(n[e+3])},null,e+4]}function mt(n,e){const t=!n[e]&&!n[e+1],s=tn(n[e+1],n[e+2]),r=t?null:B.instance(s);return[{},r,e+3]}function pt(n,e){const t=n[e]?he.create(n[e]):null;return[{},t,e+1]}const ta=RegExp(`^T?${Wn.source}$`),na=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function sa(n){const[e,t,s,r,i,o,a,l,u]=n,c=e[0]==="-",f=l&&l[0]==="-",h=(d,m=!1)=>d!==void 0&&(m||d&&c)?-d:d;return[{years:h(Te(t)),months:h(Te(s)),weeks:h(Te(r)),days:h(Te(i)),hours:h(Te(o)),minutes:h(Te(a)),seconds:h(Te(l),l==="-0"),milliseconds:h(Pn(u),f)}]}const ra={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Un(n,e,t,s,r,i,o){const a={year:e.length===2?Cn(be(e)):be(e),month:Vr.indexOf(t)+1,day:be(s),hour:be(r),minute:be(i)};return o&&(a.second=be(o)),n&&(a.weekday=n.length>3?jr.indexOf(n)+1:Hr.indexOf(n)+1),a}const ia=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function oa(n){const[,e,t,s,r,i,o,a,l,u,c,f]=n,h=Un(e,r,s,t,i,o,a);let d;return l?d=ra[l]:u?d=0:d=tn(c,f),[h,new B(d)]}function aa(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const la=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ua=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ca=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ws(n){const[,e,t,s,r,i,o,a]=n;return[Un(e,r,s,t,i,o,a),B.utcInstance]}function fa(n){const[,e,t,s,r,i,o,a]=n;return[Un(e,a,t,s,r,i,o),B.utcInstance]}const da=Be(Bo,Vn),ha=Be(Yo,Vn),ma=Be(Jo,Vn),pa=Be(Gr),Xr=Ye(ea,Ke,mt,pt),ya=Ye(Ko,Ke,mt,pt),ga=Ye(Go,Ke,mt,pt),wa=Ye(Ke,mt,pt);function ba(n){return Je(n,[da,Xr],[ha,ya],[ma,ga],[pa,wa])}function Sa(n){return Je(aa(n),[ia,oa])}function ka(n){return Je(n,[la,ws],[ua,ws],[ca,fa])}function Oa(n){return Je(n,[na,sa])}const va=Ye(Ke);function Ta(n){return Je(n,[ta,va])}const Ea=Be(Qo,Xo),_a=Be(Qr),Ca=Ye(Ke,mt,pt);function Ia(n){return Je(n,[Ea,Xr],[_a,Ca])}const bs="Invalid Duration",ei={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Na={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...ei},Q=146097/400,Ae=146097/4800,xa={years:{quarters:4,months:12,weeks:Q/7,days:Q,hours:Q*24,minutes:Q*24*60,seconds:Q*24*60*60,milliseconds:Q*24*60*60*1e3},quarters:{months:3,weeks:Q/28,days:Q/4,hours:Q*24/4,minutes:Q*24*60/4,seconds:Q*24*60*60/4,milliseconds:Q*24*60*60*1e3/4},months:{weeks:Ae/7,days:Ae,hours:Ae*24,minutes:Ae*24*60,seconds:Ae*24*60*60,milliseconds:Ae*24*60*60*1e3},...ei},Ce=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Da=Ce.slice(0).reverse();function we(n,e,t=!1){const s={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new x(s)}function ti(n,e){let t=e.milliseconds??0;for(const s of Da.slice(1))e[s]&&(t+=e[s]*n[s].milliseconds);return t}function Ss(n,e){const t=ti(n,e)<0?-1:1;Ce.reduceRight((s,r)=>{if(T(e[r]))return s;if(s){const i=e[s]*t,o=n[r][s],a=Math.floor(i/o);e[r]+=a*t,e[s]-=a*o*t}return r},null),Ce.reduce((s,r)=>{if(T(e[r]))return s;if(s){const i=e[s]%1;e[s]-=i,e[r]+=i*n[s][r]}return r},null)}function Ma(n){const e={};for(const[t,s]of Object.entries(n))s!==0&&(e[t]=s);return e}class x{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let s=t?xa:Na;e.matrix&&(s=e.matrix),this.values=e.values,this.loc=e.loc||L.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(e,t){return x.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Y(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new x({values:Ht(e,x.normalizeUnit),loc:L.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Ne(e))return x.fromMillis(e);if(x.isDuration(e))return e;if(typeof e=="object")return x.fromObject(e);throw new Y(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[s]=Oa(e);return s?x.fromObject(s,t):x.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[s]=Ta(e);return s?x.fromObject(s,t):x.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Y("need to specify a reason the Duration is invalid");const s=e instanceof ie?e:new ie(e,t);if(U.throwOnInvalid)throw new ro(s);return new x({invalid:s})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new fr(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const s={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Z.create(this.loc,s).formatDurationFromString(this,e):bs}toHuman(e={}){if(!this.isValid)return bs;const t=Ce.map(s=>{const r=this.values[s];return T(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(r)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=qn(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},E.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ti(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=x.fromDurationLike(e),s={};for(const r of Ce)(je(t.values,r)||je(this.values,r))&&(s[r]=t.get(r)+this.get(r));return we(this,{values:s},!0)}minus(e){if(!this.isValid)return this;const t=x.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const s of Object.keys(this.values))t[s]=Wr(e(this.values[s],s));return we(this,{values:t},!0)}get(e){return this[x.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Ht(e,x.normalizeUnit)};return we(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:s,matrix:r}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:s};return we(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ss(this.matrix,e),we(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Ma(this.normalize().shiftToAll().toObject());return we(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>x.normalizeUnit(o));const t={},s={},r=this.toObject();let i;for(const o of Ce)if(e.indexOf(o)>=0){i=o;let a=0;for(const u in s)a+=this.matrix[u][o]*s[u],s[u]=0;Ne(r[o])&&(a+=r[o]);const l=Math.trunc(a);t[o]=l,s[o]=(a*1e3-l*1e3)/1e3}else Ne(r[o])&&(s[o]=r[o]);for(const o in s)s[o]!==0&&(t[i]+=o===i?s[o]:s[o]/this.matrix[i][o]);return Ss(this.matrix,t),we(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return we(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(s,r){return s===void 0||s===0?r===void 0||r===0:s===r}for(const s of Ce)if(!t(this.values[s],e.values[s]))return!1;return!0}}const Le="Invalid Interval";function $a(n,e){return!n||!n.isValid?W.invalid("missing or invalid start"):!e||!e.isValid?W.invalid("missing or invalid end"):e<n?W.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class W{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Y("need to specify a reason the Interval is invalid");const s=e instanceof ie?e:new ie(e,t);if(U.throwOnInvalid)throw new so(s);return new W({invalid:s})}static fromDateTimes(e,t){const s=Xe(e),r=Xe(t),i=$a(s,r);return i??new W({start:s,end:r})}static after(e,t){const s=x.fromDurationLike(t),r=Xe(e);return W.fromDateTimes(r,r.plus(s))}static before(e,t){const s=x.fromDurationLike(t),r=Xe(e);return W.fromDateTimes(r.minus(s),r)}static fromISO(e,t){const[s,r]=(e||"").split("/",2);if(s&&r){let i,o;try{i=E.fromISO(s,t),o=i.isValid}catch{o=!1}let a,l;try{a=E.fromISO(r,t),l=a.isValid}catch{l=!1}if(o&&l)return W.fromDateTimes(i,a);if(o){const u=x.fromISO(r,t);if(u.isValid)return W.after(i,u)}else if(l){const u=x.fromISO(s,t);if(u.isValid)return W.before(a,u)}}return W.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const s=this.start.startOf(e,t);let r;return t!=null&&t.useLocaleWeeks?r=this.end.reconfigure({locale:s.locale}):r=this.end,r=r.startOf(e,t),Math.floor(r.diff(s,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?W.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Xe).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),s=[];let{s:r}=this,i=0;for(;r<this.e;){const o=t[i]||this.e,a=+o>+this.e?this.e:o;s.push(W.fromDateTimes(r,a)),r=a,i+=1}return s}splitBy(e){const t=x.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s}=this,r=1,i;const o=[];for(;s<this.e;){const a=this.start.plus(t.mapUnits(l=>l*r));i=+a>+this.e?this.e:a,o.push(W.fromDateTimes(s,i)),s=i,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return t>=s?null:W.fromDateTimes(t,s)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return W.fromDateTimes(t,s)}static merge(e){const[t,s]=e.sort((r,i)=>r.s-i.s).reduce(([r,i],o)=>i?i.overlaps(o)||i.abutsStart(o)?[r,i.union(o)]:[r.concat([i]),o]:[r,o],[[],null]);return s&&t.push(s),t}static xor(e){let t=null,s=0;const r=[],i=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...i),a=o.sort((l,u)=>l.time-u.time);for(const l of a)s+=l.type==="s"?1:-1,s===1?t=l.time:(t&&+t!=+l.time&&r.push(W.fromDateTimes(t,l.time)),t=null);return W.merge(r)}difference(...e){return W.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Le}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Vt,t={}){return this.isValid?Z.create(this.s.loc.clone(t),e).formatInterval(this):Le}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Le}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Le}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Le}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Le}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):x.invalid(this.invalidReason)}mapEndpoints(e){return W.fromDateTimes(e(this.s),e(this.e))}}class wt{static hasDST(e=U.defaultZone){const t=E.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return he.isValidZone(e)}static normalizeZone(e){return Se(e,U.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||L.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||L.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||L.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:s=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||L.create(t,s,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:s=null,locObj:r=null,outputCalendar:i="gregory"}={}){return(r||L.create(t,s,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:s=null,locObj:r=null}={}){return(r||L.create(t,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:s=null,locObj:r=null}={}){return(r||L.create(t,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return L.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return L.create(t,null,"gregory").eras(e)}static features(){return{relative:Fr(),localeWeek:Pr()}}}function ks(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=t(e)-t(n);return Math.floor(x.fromMillis(s).as("days"))}function Aa(n,e,t){const s=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const c=ks(l,u);return(c-c%7)/7}],["days",ks]],r={},i=n;let o,a;for(const[l,u]of s)t.indexOf(l)>=0&&(o=l,r[l]=u(n,e),a=i.plus(r),a>e?(r[l]--,n=i.plus(r),n>e&&(a=n,r[l]--,n=i.plus(r))):n=a);return[n,r,a,o]}function La(n,e,t,s){let[r,i,o,a]=Aa(n,e,t);const l=e-r,u=t.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);u.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(i[a]=(i[a]||0)+l/(o-r)));const c=x.fromObject(i,s);return u.length>0?x.fromMillis(l,s).shiftTo(...u).plus(c):c}const jn={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Os={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ra=jn.hanidec.replace(/[\[|\]]/g,"").split("");function Fa(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const s=n.charCodeAt(t);if(n[t].search(jn.hanidec)!==-1)e+=Ra.indexOf(n[t]);else for(const r in Os){const[i,o]=Os[r];s>=i&&s<=o&&(e+=s-i)}}return parseInt(e,10)}else return e}function se({numberingSystem:n},e=""){return new RegExp(`${jn[n||"latn"]}${e}`)}const Pa="missing Intl.DateTimeFormat.formatToParts support";function M(n,e=t=>t){return{regex:n,deser:([t])=>e(Fa(t))}}const qa=" ",ni=`[ ${qa}]`,si=new RegExp(ni,"g");function Wa(n){return n.replace(/\./g,"\\.?").replace(si,ni)}function vs(n){return n.replace(/\./g,"").replace(si," ").toLowerCase()}function re(n,e){return n===null?null:{regex:RegExp(n.map(Wa).join("|")),deser:([t])=>n.findIndex(s=>vs(t)===vs(s))+e}}function Ts(n,e){return{regex:n,deser:([,t,s])=>tn(t,s),groups:e}}function bt(n){return{regex:n,deser:([e])=>e}}function Va(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ua(n,e){const t=se(e),s=se(e,"{2}"),r=se(e,"{3}"),i=se(e,"{4}"),o=se(e,"{6}"),a=se(e,"{1,2}"),l=se(e,"{1,3}"),u=se(e,"{1,6}"),c=se(e,"{1,9}"),f=se(e,"{2,4}"),h=se(e,"{4,6}"),d=y=>({regex:RegExp(Va(y.val)),deser:([g])=>g,literal:!0}),p=(y=>{if(n.literal)return d(y);switch(y.val){case"G":return re(e.eras("short"),0);case"GG":return re(e.eras("long"),0);case"y":return M(u);case"yy":return M(f,Cn);case"yyyy":return M(i);case"yyyyy":return M(h);case"yyyyyy":return M(o);case"M":return M(a);case"MM":return M(s);case"MMM":return re(e.months("short",!0),1);case"MMMM":return re(e.months("long",!0),1);case"L":return M(a);case"LL":return M(s);case"LLL":return re(e.months("short",!1),1);case"LLLL":return re(e.months("long",!1),1);case"d":return M(a);case"dd":return M(s);case"o":return M(l);case"ooo":return M(r);case"HH":return M(s);case"H":return M(a);case"hh":return M(s);case"h":return M(a);case"mm":return M(s);case"m":return M(a);case"q":return M(a);case"qq":return M(s);case"s":return M(a);case"ss":return M(s);case"S":return M(l);case"SSS":return M(r);case"u":return bt(c);case"uu":return bt(a);case"uuu":return M(t);case"a":return re(e.meridiems(),0);case"kkkk":return M(i);case"kk":return M(f,Cn);case"W":return M(a);case"WW":return M(s);case"E":case"c":return M(t);case"EEE":return re(e.weekdays("short",!1),1);case"EEEE":return re(e.weekdays("long",!1),1);case"ccc":return re(e.weekdays("short",!0),1);case"cccc":return re(e.weekdays("long",!0),1);case"Z":case"ZZ":return Ts(new RegExp(`([+-]${a.source})(?::(${s.source}))?`),2);case"ZZZ":return Ts(new RegExp(`([+-]${a.source})(${s.source})?`),2);case"z":return bt(/[a-z_+-/]{1,256}?/i);case" ":return bt(/[^\S\n\r]/);default:return d(y)}})(n)||{invalidReason:Pa};return p.token=n,p}const ja={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Ha(n,e,t){const{type:s,value:r}=n;if(s==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const i=e[s];let o=s;s==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let a=ja[o];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function za(n){return[`^${n.map(t=>t.regex).reduce((t,s)=>`${t}(${s.source})`,"")}$`,n]}function Za(n,e,t){const s=n.match(e);if(s){const r={};let i=1;for(const o in t)if(je(t,o)){const a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(s.slice(i,i+l))),i+=l}return[s,r]}else return[s,{}]}function Ba(n){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,s;return T(n.z)||(t=he.create(n.z)),T(n.Z)||(t||(t=new B(n.Z)),s=n.Z),T(n.q)||(n.M=(n.q-1)*3+1),T(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),T(n.u)||(n.S=Pn(n.u)),[Object.keys(n).reduce((i,o)=>{const a=e(o);return a&&(i[a]=n[o]),i},{}),t,s]}let fn=null;function Ya(){return fn||(fn=E.fromMillis(1555555555555)),fn}function Ja(n,e){if(n.literal)return n;const t=Z.macroTokenToFormatOpts(n.val),s=oi(t,e);return s==null||s.includes(void 0)?n:s}function ri(n,e){return Array.prototype.concat(...n.map(t=>Ja(t,e)))}function ii(n,e,t){const s=ri(Z.parseFormat(t),n),r=s.map(o=>Ua(o,n)),i=r.find(o=>o.invalidReason);if(i)return{input:e,tokens:s,invalidReason:i.invalidReason};{const[o,a]=za(r),l=RegExp(o,"i"),[u,c]=Za(e,l,a),[f,h,d]=c?Ba(c):[null,null,void 0];if(je(c,"a")&&je(c,"H"))throw new Pe("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:s,regex:l,rawMatches:u,matches:c,result:f,zone:h,specificOffset:d}}}function Ka(n,e,t){const{result:s,zone:r,specificOffset:i,invalidReason:o}=ii(n,e,t);return[s,r,i,o]}function oi(n,e){if(!n)return null;const s=Z.create(e,n).dtFormatter(Ya()),r=s.formatToParts(),i=s.resolvedOptions();return r.map(o=>Ha(o,n,i))}const dn="Invalid DateTime",Es=864e13;function St(n){return new ie("unsupported zone",`the zone "${n.name}" is not supported`)}function hn(n){return n.weekData===null&&(n.weekData=Ut(n.c)),n.weekData}function mn(n){return n.localWeekData===null&&(n.localWeekData=Ut(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function Ee(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new E({...t,...e,old:t})}function ai(n,e,t){let s=n-e*60*1e3;const r=t.offset(s);if(e===r)return[s,e];s-=(r-e)*60*1e3;const i=t.offset(s);return r===i?[s,r]:[n-Math.min(r,i)*60*1e3,Math.max(r,i)]}function kt(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Ct(n,e,t){return ai(en(n),e,t)}function _s(n,e){const t=n.o,s=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...n.c,year:s,month:r,day:Math.min(n.c.day,jt(s,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=x.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=en(i);let[l,u]=ai(a,t,n.zone);return o!==0&&(l+=o,u=n.zone.offset(l)),{ts:l,o:u}}function Qe(n,e,t,s,r,i){const{setZone:o,zone:a}=t;if(n&&Object.keys(n).length!==0||e){const l=e||a,u=E.fromObject(n,{...t,zone:l,specificOffset:i});return o?u:u.setZone(a)}else return E.invalid(new ie("unparsable",`the input "${r}" can't be parsed as ${s}`))}function Ot(n,e,t=!0){return n.isValid?Z.create(L.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function pn(n,e){const t=n.c.year>9999||n.c.year<0;let s="";return t&&n.c.year>=0&&(s+="+"),s+=H(n.c.year,t?6:4),e?(s+="-",s+=H(n.c.month),s+="-",s+=H(n.c.day)):(s+=H(n.c.month),s+=H(n.c.day)),s}function Cs(n,e,t,s,r,i){let o=H(n.c.hour);return e?(o+=":",o+=H(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=":")):o+=H(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=H(n.c.second),(n.c.millisecond!==0||!s)&&(o+=".",o+=H(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!i?o+="Z":n.o<0?(o+="-",o+=H(Math.trunc(-n.o/60)),o+=":",o+=H(Math.trunc(-n.o%60))):(o+="+",o+=H(Math.trunc(n.o/60)),o+=":",o+=H(Math.trunc(n.o%60)))),i&&(o+="["+n.zone.ianaName+"]"),o}const li={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ga={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Qa={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ui=["year","month","day","hour","minute","second","millisecond"],Xa=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],el=["year","ordinal","hour","minute","second","millisecond"];function tl(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new fr(n);return e}function Is(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return tl(n)}}function Ns(n,e){const t=Se(e.zone,U.defaultZone),s=L.fromObject(e),r=U.now();let i,o;if(T(n.year))i=r;else{for(const u of ui)T(n[u])&&(n[u]=li[u]);const a=Lr(n)||Rr(n);if(a)return E.invalid(a);const l=t.offset(r);[i,o]=Ct(n,l,t)}return new E({ts:i,zone:t,loc:s,o})}function xs(n,e,t){const s=T(t.round)?!0:t.round,r=(o,a)=>(o=qn(o,s||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,a)),i=o=>t.calendary?e.hasSame(n,o)?0:e.startOf(o).diff(n.startOf(o),o).get(o):e.diff(n,o).get(o);if(t.unit)return r(i(t.unit),t.unit);for(const o of t.units){const a=i(o);if(Math.abs(a)>=1)return r(a,o)}return r(n>e?-0:0,t.units[t.units.length-1])}function Ds(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class E{constructor(e){const t=e.zone||U.defaultZone;let s=e.invalid||(Number.isNaN(e.ts)?new ie("invalid input"):null)||(t.isValid?null:St(t));this.ts=T(e.ts)?U.now():e.ts;let r=null,i=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,i]=[e.old.c,e.old.o];else{const a=t.offset(this.ts);r=kt(this.ts,a),s=Number.isNaN(r.year)?new ie("invalid input"):null,r=s?null:r,i=s?null:a}this._zone=t,this.loc=e.loc||L.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static now(){return new E({})}static local(){const[e,t]=Ds(arguments),[s,r,i,o,a,l,u]=t;return Ns({year:s,month:r,day:i,hour:o,minute:a,second:l,millisecond:u},e)}static utc(){const[e,t]=Ds(arguments),[s,r,i,o,a,l,u]=t;return e.zone=B.utcInstance,Ns({year:s,month:r,day:i,hour:o,minute:a,second:l,millisecond:u},e)}static fromJSDate(e,t={}){const s=xo(e)?e.valueOf():NaN;if(Number.isNaN(s))return E.invalid("invalid input");const r=Se(t.zone,U.defaultZone);return r.isValid?new E({ts:s,zone:r,loc:L.fromObject(t)}):E.invalid(St(r))}static fromMillis(e,t={}){if(Ne(e))return e<-Es||e>Es?E.invalid("Timestamp out of range"):new E({ts:e,zone:Se(t.zone,U.defaultZone),loc:L.fromObject(t)});throw new Y(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Ne(e))return new E({ts:e*1e3,zone:Se(t.zone,U.defaultZone),loc:L.fromObject(t)});throw new Y("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const s=Se(t.zone,U.defaultZone);if(!s.isValid)return E.invalid(St(s));const r=L.fromObject(t),i=Ht(e,Is),{minDaysInFirstWeek:o,startOfWeek:a}=ms(i,r),l=U.now(),u=T(t.specificOffset)?s.offset(l):t.specificOffset,c=!T(i.ordinal),f=!T(i.year),h=!T(i.month)||!T(i.day),d=f||h,m=i.weekYear||i.weekNumber;if((d||c)&&m)throw new Pe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&c)throw new Pe("Can't mix ordinal dates with month/day");const p=m||i.weekday&&!d;let y,g,N=kt(l,u);p?(y=Xa,g=Ga,N=Ut(N,o,a)):c?(y=el,g=Qa,N=cn(N)):(y=ui,g=li);let R=!1;for(const le of y){const Si=i[le];T(Si)?R?i[le]=g[le]:i[le]=N[le]:R=!0}const O=p?Co(i,o,a):c?Io(i):Lr(i),v=O||Rr(i);if(v)return E.invalid(v);const S=p?ds(i,o,a):c?hs(i):i,[_,A]=Ct(S,u,s),P=new E({ts:_,zone:s,o:A,loc:r});return i.weekday&&d&&e.weekday!==P.weekday?E.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${P.toISO()}`):P}static fromISO(e,t={}){const[s,r]=ba(e);return Qe(s,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[s,r]=Sa(e);return Qe(s,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[s,r]=ka(e);return Qe(s,r,t,"HTTP",t)}static fromFormat(e,t,s={}){if(T(e)||T(t))throw new Y("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=s,o=L.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[a,l,u,c]=Ka(o,e,t);return c?E.invalid(c):Qe(a,l,s,`format ${t}`,e,u)}static fromString(e,t,s={}){return E.fromFormat(e,t,s)}static fromSQL(e,t={}){const[s,r]=Ia(e);return Qe(s,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Y("need to specify a reason the DateTime is invalid");const s=e instanceof ie?e:new ie(e,t);if(U.throwOnInvalid)throw new no(s);return new E({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const s=oi(e,L.fromObject(t));return s?s.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return ri(Z.parseFormat(e),L.fromObject(t)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?hn(this).weekYear:NaN}get weekNumber(){return this.isValid?hn(this).weekNumber:NaN}get weekday(){return this.isValid?hn(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?mn(this).weekday:NaN}get localWeekNumber(){return this.isValid?mn(this).weekNumber:NaN}get localWeekYear(){return this.isValid?mn(this).weekYear:NaN}get ordinal(){return this.isValid?cn(this.c).ordinal:NaN}get monthShort(){return this.isValid?wt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?wt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?wt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?wt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,s=en(this.c),r=this.zone.offset(s-e),i=this.zone.offset(s+e),o=this.zone.offset(s-r*t),a=this.zone.offset(s-i*t);if(o===a)return[this];const l=s-o*t,u=s-a*t,c=kt(l,o),f=kt(u,a);return c.hour===f.hour&&c.minute===f.minute&&c.second===f.second&&c.millisecond===f.millisecond?[Ee(this,{ts:l}),Ee(this,{ts:u})]:[this]}get isInLeapYear(){return ht(this.year)}get daysInMonth(){return jt(this.year,this.month)}get daysInYear(){return this.isValid?Ve(this.year):NaN}get weeksInWeekYear(){return this.isValid?at(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?at(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:s,calendar:r}=Z.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:s,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(B.instance(e),t)}toLocal(){return this.setZone(U.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:s=!1}={}){if(e=Se(e,U.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||s){const i=e.offset(this.ts),o=this.toObject();[r]=Ct(o,i,e)}return Ee(this,{ts:r,zone:e})}else return E.invalid(St(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:s}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:s});return Ee(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Ht(e,Is),{minDaysInFirstWeek:s,startOfWeek:r}=ms(t,this.loc),i=!T(t.weekYear)||!T(t.weekNumber)||!T(t.weekday),o=!T(t.ordinal),a=!T(t.year),l=!T(t.month)||!T(t.day),u=a||l,c=t.weekYear||t.weekNumber;if((u||o)&&c)throw new Pe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Pe("Can't mix ordinal dates with month/day");let f;i?f=ds({...Ut(this.c,s,r),...t},s,r):T(t.ordinal)?(f={...this.toObject(),...t},T(t.day)&&(f.day=Math.min(jt(f.year,f.month),f.day))):f=hs({...cn(this.c),...t});const[h,d]=Ct(f,this.o,this.zone);return Ee(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const t=x.fromDurationLike(e);return Ee(this,_s(this,t))}minus(e){if(!this.isValid)return this;const t=x.fromDurationLike(e).negate();return Ee(this,_s(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const s={},r=x.normalizeUnit(e);switch(r){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(r==="weeks")if(t){const i=this.loc.getStartOfWeek(),{weekday:o}=this;o<i&&(s.weekNumber=this.weekNumber-1),s.weekday=i}else s.weekday=1;if(r==="quarters"){const i=Math.ceil(this.month/3);s.month=(i-1)*3+1}return this.set(s)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Z.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):dn}toLocaleString(e=Vt,t={}){return this.isValid?Z.create(this.loc.clone(t),e).formatDateTime(this):dn}toLocaleParts(e={}){return this.isValid?Z.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:s=!1,includeOffset:r=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=pn(this,o);return a+="T",a+=Cs(this,o,t,s,r,i),a}toISODate({format:e="extended"}={}){return this.isValid?pn(this,e==="extended"):null}toISOWeekDate(){return Ot(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:s=!0,includePrefix:r=!1,extendedZone:i=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+Cs(this,o==="extended",t,e,s,i):null}toRFC2822(){return Ot(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ot(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?pn(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:s=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(s&&(r+=" "),t?r+="z":e&&(r+="ZZ")),Ot(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():dn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",s={}){if(!this.isValid||!e.isValid)return x.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...s},i=Do(t).map(x.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,u=La(a,l,i,r);return o?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(E.now(),e,t)}until(e){return this.isValid?W.fromDateTimes(this,e):this}hasSame(e,t,s){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,s)<=r&&r<=i.endOf(t,s)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||E.fromObject({},{zone:this.zone}),s=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(r=e.unit,i=void 0),xs(t,this.plus(s),{...e,numeric:"always",units:r,unit:i})}toRelativeCalendar(e={}){return this.isValid?xs(e.base||E.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(E.isDateTime))throw new Y("min requires all arguments be DateTimes");return ps(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(E.isDateTime))throw new Y("max requires all arguments be DateTimes");return ps(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,s={}){const{locale:r=null,numberingSystem:i=null}=s,o=L.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return ii(o,e,t)}static fromStringExplain(e,t,s={}){return E.fromFormatExplain(e,t,s)}static get DATE_SHORT(){return Vt}static get DATE_MED(){return dr}static get DATE_MED_WITH_WEEKDAY(){return io}static get DATE_FULL(){return hr}static get DATE_HUGE(){return mr}static get TIME_SIMPLE(){return pr}static get TIME_WITH_SECONDS(){return yr}static get TIME_WITH_SHORT_OFFSET(){return gr}static get TIME_WITH_LONG_OFFSET(){return wr}static get TIME_24_SIMPLE(){return br}static get TIME_24_WITH_SECONDS(){return Sr}static get TIME_24_WITH_SHORT_OFFSET(){return kr}static get TIME_24_WITH_LONG_OFFSET(){return Or}static get DATETIME_SHORT(){return vr}static get DATETIME_SHORT_WITH_SECONDS(){return Tr}static get DATETIME_MED(){return Er}static get DATETIME_MED_WITH_SECONDS(){return _r}static get DATETIME_MED_WITH_WEEKDAY(){return oo}static get DATETIME_FULL(){return Cr}static get DATETIME_FULL_WITH_SECONDS(){return Ir}static get DATETIME_HUGE(){return Nr}static get DATETIME_HUGE_WITH_SECONDS(){return xr}}function Xe(n){if(E.isDateTime(n))return n;if(n&&n.valueOf&&Ne(n.valueOf()))return E.fromJSDate(n);if(n&&typeof n=="object")return E.fromObject(n);throw new Y(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const nl=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],sl=[".mp4",".avi",".mov",".3gp",".wmv"],rl=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],il=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];let ke=class b{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||b.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||(e==null?void 0:e.isContentEditable)}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return b.isInput(e)||t==="button"||t==="a"||t==="details"||(e==null?void 0:e.tabIndex)>=0}static hasNonEmptyProps(e){for(let t in e)if(!b.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!b.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let s=e.length-1;s>=0;s--)if(e[s]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let s=e.length-1;s>=0;s--)if(e[s]==t){e.splice(s,1);break}}static pushUnique(e,t){b.inArray(e,t)||e.push(t)}static findByKey(e,t,s){e=Array.isArray(e)?e:[];for(let r in e)if(e[r][t]==s)return e[r];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const s={};for(let r in e)s[e[r][t]]=s[e[r][t]]||[],s[e[r][t]].push(e[r]);return s}static removeByKey(e,t,s){for(let r in e)if(e[r][t]==s){e.splice(r,1);break}}static pushOrReplaceByKey(e,t,s="id"){for(let r=e.length-1;r>=0;r--)if(e[r][s]==t[s]){e[r]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const s={};for(const r of e)s[r[t]]=r;return Object.values(s)}static filterRedactedProps(e,t="******"){const s=JSON.parse(JSON.stringify(e||{}));for(let r in s)typeof s[r]=="object"&&s[r]!==null?s[r]=b.filterRedactedProps(s[r],t):s[r]===t&&delete s[r];return s}static getNestedVal(e,t,s=null,r="."){let i=e||{},o=(t||"").split(r);for(const a of o){if(!b.isObject(i)&&!Array.isArray(i)||typeof i[a]>"u")return s;i=i[a]}return i}static setByPath(e,t,s,r="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let i=e,o=t.split(r),a=o.pop();for(const l of o)(!b.isObject(i)&&!Array.isArray(i)||!b.isObject(i[l])&&!Array.isArray(i[l]))&&(i[l]={}),i=i[l];i[a]=s}static deleteByPath(e,t,s="."){let r=e||{},i=(t||"").split(s),o=i.pop();for(const a of i)(!b.isObject(r)&&!Array.isArray(r)||!b.isObject(r[a])&&!Array.isArray(r[a]))&&(r[a]={}),r=r[a];Array.isArray(r)?r.splice(o,1):b.isObject(r)&&delete r[o],i.length>0&&(Array.isArray(r)&&!r.length||b.isObject(r)&&!Object.keys(r).length)&&(Array.isArray(e)&&e.length>0||b.isObject(e)&&Object.keys(e).length>0)&&b.deleteByPath(e,i.join(s),s)}static randomString(e=10){let t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}static randomSecret(e=15){if(typeof crypto>"u")return b.randomString(e);const t=new Uint8Array(e);crypto.getRandomValues(t);const s="-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let r="";for(let i=0;i<e;i++)r+=s.charAt(t[i]%s.length);return r}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let s=e[e.length-1];s!=="."&&s!=="?"&&s!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,s=!0){return e=""+e,e.length<=t?e:e.substring(0,t)+(s?"...":"")}static truncateObject(e){const t={};for(let s in e){let r=e[s];typeof r=="string"&&(r=b.truncate(r,150,!0)),t[s]=r}return t}static slugify(e,t="_",s=[".","=","-"]){if(e==="")return"";const r={a:/а|à|á|å|â/gi,b:/б/gi,c:/ц|ç/gi,d:/д/gi,e:/е|è|é|ê|ẽ|ë/gi,f:/ф/gi,g:/г/gi,h:/х/gi,i:/й|и|ì|í|î/gi,j:/ж/gi,k:/к/gi,l:/л/gi,m:/м/gi,n:/н|ñ/gi,o:/о|ò|ó|ô|ø/gi,p:/п/gi,q:/я/gi,r:/р/gi,s:/с/gi,t:/т/gi,u:/ю|ù|ú|ů|û/gi,v:/в/gi,w:/в/gi,x:/ь/gi,y:/ъ/gi,z:/з/gi,ae:/ä|æ/gi,oe:/ö/gi,ue:/ü/gi,Ae:/Ä/gi,Ue:/Ü/gi,Oe:/Ö/gi,ss:/ß/gi,and:/&/gi};for(let i in r)e=e.replace(r[i],i);return e.replace(new RegExp("["+s.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const s=[],r=(e||"").replaceAll("\\"+t,"{_PB_ESCAPED_}").split(t).map(i=>i.replaceAll("{_PB_ESCAPED_}",t));for(let i of r)i=i.trim(),b.isEmpty(i)||s.push(i);return s}static joinNonEmpty(e,t=", "){e=e||[];const s=[],r=t.length>1?t.trim():t;for(let i of e)i=typeof i=="string"?i.trim():"",b.isEmpty(i)||s.push(i.replaceAll(r,"\\"+r));return s.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},s=t[e.length]||t[19];return E.fromFormat(e,s,{zone:"UTC"})}return E.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return b.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return b.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(s=>{console.warn("Failed to copy.",s)})}static download(e,t){const s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download",t),s.setAttribute("target","_blank"),s.click(),s.remove()}static downloadJson(e,t){t=t.endsWith(".json")?t:t+".json";const s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(s);b.download(r,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const s=decodeURIComponent(atob(t));return JSON.parse(s)||{}}catch(s){console.warn("Failed to parse JWT payload data.",s)}return{}}static hasImageExtension(e){return e=e||"",!!nl.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return e=e||"",!!sl.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return e=e||"",!!rl.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return e=e||"",!!il.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return b.hasImageExtension(e)?"image":b.hasDocumentExtension(e)?"document":b.hasVideoExtension(e)?"video":b.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,s=100){return new Promise(r=>{let i=new FileReader;i.onload=function(o){let a=new Image;a.onload=function(){let l=document.createElement("canvas"),u=l.getContext("2d"),c=a.width,f=a.height;return l.width=t,l.height=s,u.drawImage(a,c>f?(c-f)/2:0,0,c>f?f:c,c>f?f:c,0,0,t,s),r(l.toDataURL(e.type))},a.src=o.target.result},i.readAsDataURL(e)})}static addValueToFormData(e,t,s){if(!(typeof s>"u"))if(b.isEmpty(s))e.append(t,"");else if(Array.isArray(s))for(const r of s)b.addValueToFormData(e,t,r);else s instanceof File?e.append(t,s):s instanceof Date?e.append(t,s.toISOString()):b.isObject(s)?e.append(t,JSON.stringify(s)):e.append(t,""+s)}static dummyCollectionRecord(e){var l,u,c,f,h,d,m;const t=(e==null?void 0:e.schema)||[],s=(e==null?void 0:e.type)==="auth",r=(e==null?void 0:e.type)==="view",i={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};s&&(i.username="username123",i.verified=!1,i.emailVisibility=!0,i.email="test@example.com"),(!r||b.extractColumnsFromQuery((l=e==null?void 0:e.options)==null?void 0:l.query).includes("created"))&&(i.created="2022-01-01 01:00:00.123Z"),(!r||b.extractColumnsFromQuery((u=e==null?void 0:e.options)==null?void 0:u.query).includes("updated"))&&(i.updated="2022-01-01 23:59:59.456Z");for(const p of t){let y=null;p.type==="number"?y=123:p.type==="date"?y="2022-01-01 10:00:00.123Z":p.type==="bool"?y=!0:p.type==="email"?y="test@example.com":p.type==="url"?y="https://example.com":p.type==="json"?y="JSON":p.type==="file"?(y="filename.jpg",((c=p.options)==null?void 0:c.maxSelect)!==1&&(y=[y])):p.type==="select"?(y=(h=(f=p.options)==null?void 0:f.values)==null?void 0:h[0],((d=p.options)==null?void 0:d.maxSelect)!==1&&(y=[y])):p.type==="relation"?(y="RELATION_RECORD_ID",((m=p.options)==null?void 0:m.maxSelect)!==1&&(y=[y])):y="test",i[p.name]=y}return i}static dummyCollectionSchemaData(e){var r,i,o,a;const t=(e==null?void 0:e.schema)||[],s={};for(const l of t){let u=null;if(l.type==="number")u=123;else if(l.type==="date")u="2022-01-01 10:00:00.123Z";else if(l.type==="bool")u=!0;else if(l.type==="email")u="test@example.com";else if(l.type==="url")u="https://example.com";else if(l.type==="json")u="JSON";else{if(l.type==="file")continue;l.type==="select"?(u=(i=(r=l.options)==null?void 0:r.values)==null?void 0:i[0],((o=l.options)==null?void 0:o.maxSelect)!==1&&(u=[u])):l.type==="relation"?(u="RELATION_RECORD_ID",((a=l.options)==null?void 0:a.maxSelect)!==1&&(u=[u])):u="test"}s[l.name]=u}return s}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,s=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let u in e)if(u!=="schema"&&JSON.stringify(e[u])!==JSON.stringify(t[u]))return!0;const r=Array.isArray(e.schema)?e.schema:[],i=Array.isArray(t.schema)?t.schema:[],o=r.filter(u=>(u==null?void 0:u.id)&&!b.findByKey(i,"id",u.id)),a=i.filter(u=>(u==null?void 0:u.id)&&!b.findByKey(r,"id",u.id)),l=i.filter(u=>{const c=b.isObject(u)&&b.findByKey(r,"id",u.id);if(!c)return!1;for(let f in c)if(JSON.stringify(u[f])!=JSON.stringify(c[f]))return!0;return!1});return!!(a.length||l.length||s&&o.length)}static sortCollections(e=[]){const t=[],s=[],r=[];for(const o of e)o.type==="auth"?t.push(o):o.type==="base"?s.push(o):r.push(o);function i(o,a){return o.name>a.name?1:o.name<a.name?-1:0}return[].concat(t.sort(i),s.sort(i),r.sort(i))}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){const e=["DIV","P","A","EM","B","STRONG","H1","H2","H3","H4","H5","H6","TABLE","TR","TD","TH","TBODY","THEAD","TFOOT","BR","HR","Q","SUP","SUB","DEL","IMG","OL","UL","LI","CODE"];function t(r){let i=r.parentNode;for(;r.firstChild;)i.insertBefore(r.firstChild,r);i.removeChild(r)}function s(r){if(r){for(const i of r.children)s(i);e.includes(r.tagName)?(r.removeAttribute("style"),r.removeAttribute("class")):t(r)}}return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],codesample_global_prismjs:!0,codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"CSS",value:"css"},{text:"SQL",value:"sql"},{text:"JavaScript",value:"javascript"},{text:"Go",value:"go"},{text:"Dart",value:"dart"},{text:"Zig",value:"zig"},{text:"Rust",value:"rust"},{text:"Lua",value:"lua"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"},{text:"Markdown",value:"markdown"},{text:"Swift",value:"swift"},{text:"Kotlin",value:"kotlin"},{text:"Elixir",value:"elixir"},{text:"Scala",value:"scala"},{text:"Julia",value:"julia"},{text:"Haskell",value:"haskell"}],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image_picker table codesample direction | code fullscreen",paste_postprocess:(r,i)=>{s(i.node)},file_picker_types:"image",file_picker_callback:(r,i,o)=>{const a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept","image/*"),a.addEventListener("change",l=>{const u=l.target.files[0],c=new FileReader;c.addEventListener("load",()=>{if(!tinymce)return;const f="blobid"+new Date().getTime(),h=tinymce.activeEditor.editorUpload.blobCache,d=c.result.split(",")[1],m=h.create(f,u,d);h.add(m),r(m.blobUri(),{title:u.name})}),c.readAsDataURL(u)}),a.click()},setup:r=>{r.on("keydown",o=>{(o.ctrlKey||o.metaKey)&&o.code=="KeyS"&&r.formElement&&(o.preventDefault(),o.stopPropagation(),r.formElement.dispatchEvent(new KeyboardEvent("keydown",o)))});const i="tinymce_last_direction";r.on("init",()=>{var a;const o=(a=window==null?void 0:window.localStorage)==null?void 0:a.getItem(i);!r.isDirty()&&r.getContent()==""&&o=="rtl"&&r.execCommand("mceDirectionRTL")}),r.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:o=>{o([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var l;(l=window==null?void 0:window.localStorage)==null||l.setItem(i,"ltr"),r.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var l;(l=window==null?void 0:window.localStorage)==null||l.setItem(i,"rtl"),r.execCommand("mceDirectionRTL")}}])}}),r.ui.registry.addMenuButton("image_picker",{icon:"image",fetch:o=>{o([{type:"menuitem",text:"From collection",icon:"gallery",onAction:()=>{r.dispatch("collections_file_picker",{})}},{type:"menuitem",text:"Inline",icon:"browse",onAction:()=>{r.execCommand("mceImage")}}])}})}}}static displayValue(e,t,s="N/A"){e=e||{},t=t||[];let r=[];for(const o of t){let a=e[o];typeof a>"u"||(a=b.stringifyValue(a,s),r.push(a))}if(r.length>0)return r.join(", ");const i=["title","name","slug","email","username","nickname","label","heading","message","key","identifier","id"];for(const o of i){let a=b.stringifyValue(e[o],"");if(a)return a}return s}static stringifyValue(e,t="N/A",s=150){if(b.isEmpty(e))return t;if(typeof e=="number")return""+e;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?b.plainText(e):e,b.truncate(e,s)||t;if(Array.isArray(e)&&typeof e[0]!="object")return b.truncate(e.join(","),s);if(typeof e=="object")try{return b.truncate(JSON.stringify(e),s)||t}catch{return t}return e}static extractColumnsFromQuery(e){var o;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const s=e.match(/select\s+([\s\S]+)\s+from/),r=((o=s==null?void 0:s[1])==null?void 0:o.split(","))||[],i=[];for(let a of r){const l=a.trim().split(" ").pop();l!=""&&l!=t&&i.push(l.replace(/[\'\"\`\[\]\s]/g,""))}return i}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let s=[t+"id"];if(e.type==="view")for(let i of b.extractColumnsFromQuery(e.options.query))b.pushUnique(s,t+i);else e.type==="auth"?(s.push(t+"username"),s.push(t+"email"),s.push(t+"emailVisibility"),s.push(t+"verified"),s.push(t+"created"),s.push(t+"updated")):(s.push(t+"created"),s.push(t+"updated"));const r=e.schema||[];for(const i of r)b.pushUnique(s,t+i.name);return s}static getCollectionAutocompleteKeys(e,t,s="",r=0){var a,l,u;let i=e.find(c=>c.name==t||c.id==t);if(!i||r>=4)return[];i.schema=i.schema||[];let o=b.getAllCollectionIdentifiers(i,s);for(const c of i.schema){const f=s+c.name;if(c.type=="relation"&&((a=c.options)!=null&&a.collectionId)){const h=b.getCollectionAutocompleteKeys(e,c.options.collectionId,f+".",r+1);h.length&&(o=o.concat(h))}((l=c.options)==null?void 0:l.maxSelect)!=1&&["select","file","relation"].includes(c.type)&&(o.push(f+":each"),o.push(f+":length"))}for(const c of e){c.schema=c.schema||[];for(const f of c.schema)if(f.type=="relation"&&((u=f.options)==null?void 0:u.collectionId)==i.id){const h=s+c.name+"_via_"+f.name,d=b.getCollectionAutocompleteKeys(e,c.id,h+".",r+2);d.length&&(o=o.concat(d))}}return o}static getCollectionJoinAutocompleteKeys(e){const t=[];for(const s of e){const r="@collection."+s.name+".",i=b.getCollectionAutocompleteKeys(e,s.name,r);for(const o of i)t.push(o)}return t}static getRequestAutocompleteKeys(e,t){const s=[];s.push("@request.context"),s.push("@request.method"),s.push("@request.query."),s.push("@request.data."),s.push("@request.headers."),s.push("@request.auth.id"),s.push("@request.auth.collectionId"),s.push("@request.auth.collectionName"),s.push("@request.auth.verified"),s.push("@request.auth.username"),s.push("@request.auth.email"),s.push("@request.auth.emailVisibility"),s.push("@request.auth.created"),s.push("@request.auth.updated");const r=e.filter(i=>i.type==="auth");for(const i of r){const o=b.getCollectionAutocompleteKeys(e,i.id,"@request.auth.");for(const a of o)b.pushUnique(s,a)}if(t){const i=["created","updated"],o=b.getCollectionAutocompleteKeys(e,t,"@request.data.");for(const a of o){s.push(a);const l=a.split(".");l.length===3&&l[2].indexOf(":")===-1&&!i.includes(l[2])&&s.push(a+":isset")}}return s}static parseIndex(e){var l,u,c,f,h;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},r=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s*\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gim.exec((e||"").trim());if((r==null?void 0:r.length)!=7)return t;const i=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((l=r[1])==null?void 0:l.trim().toLowerCase())==="unique",t.optional=!b.isEmpty((u=r[2])==null?void 0:u.trim());const o=(r[3]||"").split(".");o.length==2?(t.schemaName=o[0].replace(i,""),t.indexName=o[1].replace(i,"")):(t.schemaName="",t.indexName=o[0].replace(i,"")),t.tableName=(r[4]||"").replace(i,"");const a=(r[5]||"").replace(/,(?=[^\(]*\))/gim,"{PB_TEMP}").split(",");for(let d of a){d=d.trim().replaceAll("{PB_TEMP}",",");const p=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gim.exec(d);if((p==null?void 0:p.length)!=4)continue;const y=(f=(c=p[1])==null?void 0:c.trim())==null?void 0:f.replace(i,"");y&&t.columns.push({name:y,collate:p[2]||"",sort:((h=p[3])==null?void 0:h.toUpperCase())||""})}return t.where=r[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+b.randomString(7)}\` `,t+=`ON \`${e.tableName}\` (`;const s=e.columns.filter(r=>!!(r!=null&&r.name));return s.length>1&&(t+=`
  `),t+=s.map(r=>{let i="";return r.name.includes("(")||r.name.includes(" ")?i+=r.name:i+="`"+r.name+"`",r.collate&&(i+=" COLLATE "+r.collate),r.sort&&(i+=" "+r.sort.toUpperCase()),i}).join(`,
  `),s.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const s=b.parseIndex(e);return s.tableName=t,b.buildIndex(s)}static replaceIndexColumn(e,t,s){if(t===s)return e;const r=b.parseIndex(e);let i=!1;for(let o of r.columns)o.name===t&&(o.name=s,i=!0);return i?b.buildIndex(r):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const s=["=","!=","~","!~",">",">=","<","<="];for(const r of s)if(e.includes(r))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(r=>`${r}~${e}`).join("||")}static normalizeLogsFilter(e,t=[]){return b.normalizeSearchFilter(e,["level","message","data"].concat(t))}static initCollection(e){return Object.assign({id:"",created:"",updated:"",name:"",type:"base",system:!1,listRule:null,viewRule:null,createRule:null,updateRule:null,deleteRule:null,schema:[],indexes:[],options:{}},e)}static initSchemaField(e){return Object.assign({id:"",name:"",type:"text",system:!1,required:!1,options:{}},e)}static triggerResize(){window.dispatchEvent(new Event("resize"))}static getHashQueryParams(){let e="";const t=window.location.hash.indexOf("?");return t>-1&&(e=window.location.hash.substring(t+1)),Object.fromEntries(new URLSearchParams(e))}static replaceHashQueryParams(e){e=e||{};let t="",s=window.location.hash;const r=s.indexOf("?");r>-1&&(t=s.substring(r+1),s=s.substring(0,r));const i=new URLSearchParams(t);for(let l in e){const u=e[l];u===null?i.delete(l):i.set(l,u)}t=i.toString(),t!=""&&(s+="?"+t);let o=window.location.href;const a=o.indexOf("#");a>-1&&(o=o.substring(0,a)),window.location.replace(o+s)}};const sn=ct([]);function ol(n,e=4500){return al(n,"error",e)}function al(n,e,t){t=t||4e3;const s={message:n,type:e,duration:t,timeout:setTimeout(()=>{ci(s)},t)};sn.update(r=>(Hn(r,s.message),ke.pushOrReplaceByKey(r,s,"message"),r))}function ci(n){sn.update(e=>(Hn(e,n),e))}function ll(){sn.update(n=>{for(let e of n)Hn(n,e);return[]})}function Hn(n,e){let t;typeof e=="string"?t=ke.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),ke.removeByKey(n,"message",t.message))}function Ms(n,e,t){const s=n.slice();return s[2]=e[t],s}function ul(n){let e;return{c(){e=C("i"),k(e,"class","ri-alert-line")},m(t,s){$(t,e,s)},d(t){t&&D(e)}}}function cl(n){let e;return{c(){e=C("i"),k(e,"class","ri-error-warning-line")},m(t,s){$(t,e,s)},d(t){t&&D(e)}}}function fl(n){let e;return{c(){e=C("i"),k(e,"class","ri-checkbox-circle-line")},m(t,s){$(t,e,s)},d(t){t&&D(e)}}}function dl(n){let e;return{c(){e=C("i"),k(e,"class","ri-information-line")},m(t,s){$(t,e,s)},d(t){t&&D(e)}}}function $s(n,e){let t,s,r,i,o=e[2].message+"",a,l,u,c,f,h,d,m=V,p,y,g;function N(S,_){return S[2].type==="info"?dl:S[2].type==="success"?fl:S[2].type==="warning"?cl:ul}let R=N(e),O=R(e);function v(){return e[1](e[2])}return{key:n,first:null,c(){t=C("div"),s=C("div"),O.c(),r=j(),i=C("div"),a=He(o),l=j(),u=C("button"),u.innerHTML='<i class="ri-close-line"></i>',c=j(),k(s,"class","icon"),k(i,"class","content"),k(u,"type","button"),k(u,"class","close"),k(t,"class","alert txt-break"),z(t,"alert-info",e[2].type=="info"),z(t,"alert-success",e[2].type=="success"),z(t,"alert-danger",e[2].type=="error"),z(t,"alert-warning",e[2].type=="warning"),this.first=t},m(S,_){$(S,t,_),I(t,s),O.m(s,null),I(t,r),I(t,i),I(i,a),I(t,l),I(t,u),I(t,c),p=!0,y||(g=ut(u,"click",Qs(v)),y=!0)},p(S,_){e=S,R!==(R=N(e))&&(O.d(1),O=R(e),O&&(O.c(),O.m(s,null))),(!p||_&1)&&o!==(o=e[2].message+"")&&Xs(a,o),(!p||_&1)&&z(t,"alert-info",e[2].type=="info"),(!p||_&1)&&z(t,"alert-success",e[2].type=="success"),(!p||_&1)&&z(t,"alert-danger",e[2].type=="error"),(!p||_&1)&&z(t,"alert-warning",e[2].type=="warning")},r(){d=t.getBoundingClientRect()},f(){Mi(t),m(),tr(t,d)},a(){m(),m=Di(t,d,to,{duration:150})},i(S){p||(S&&de(()=>{p&&(h&&h.end(1),f=qi(t,kn,{duration:150}),f.start())}),p=!0)},o(S){f&&f.invalidate(),S&&(h=Wi(t,eo,{duration:150})),p=!1},d(S){S&&D(t),O.d(),S&&h&&h.end(),y=!1,g()}}}function hl(n){let e,t=[],s=new Map,r,i=Pt(n[0]);const o=a=>a[2].message;for(let a=0;a<i.length;a+=1){let l=Ms(n,i,a),u=o(l);s.set(u,t[a]=$s(u,l))}return{c(){e=C("div");for(let a=0;a<t.length;a+=1)t[a].c();k(e,"class","toasts-wrapper")},m(a,l){$(a,e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);r=!0},p(a,[l]){if(l&1){i=Pt(a[0]),ze();for(let u=0;u<t.length;u+=1)t[u].r();t=ji(t,l,o,1,a,i,s,e,Ui,$s,null,Ms);for(let u=0;u<t.length;u+=1)t[u].a();Ze()}},i(a){if(!r){for(let l=0;l<i.length;l+=1)F(t[l]);r=!0}},o(a){for(let l=0;l<t.length;l+=1)q(t[l]);r=!1},d(a){a&&D(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function ml(n,e,t){let s;return Zt(n,sn,i=>t(0,s=i)),[s,i=>ci(i)]}class pl extends ye{constructor(e){super(),pe(this,e,ml,hl,fe,{})}}const fi=ct({});function In(n){fi.set(n||{})}function yn(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}class G extends Error{constructor(e){var t,s,r,i;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,G.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof G||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(i=(r=(s=this.originalError)==null?void 0:s.cause)==null?void 0:r.message)!=null&&i.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const vt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function yl(n,e){const t={};if(typeof n!="string")return t;const s=Object.assign({},e||{}).decode||gl;let r=0;for(;r<n.length;){const i=n.indexOf("=",r);if(i===-1)break;let o=n.indexOf(";",r);if(o===-1)o=n.length;else if(o<i){r=n.lastIndexOf(";",i-1)+1;continue}const a=n.slice(r,i).trim();if(t[a]===void 0){let l=n.slice(i+1,o).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{t[a]=s(l)}catch{t[a]=l}}r=o+1}return t}function As(n,e,t){const s=Object.assign({},t||{}),r=s.encode||wl;if(!vt.test(n))throw new TypeError("argument name is invalid");const i=r(e);if(i&&!vt.test(i))throw new TypeError("argument val is invalid");let o=n+"="+i;if(s.maxAge!=null){const a=s.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(s.domain){if(!vt.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain="+s.domain}if(s.path){if(!vt.test(s.path))throw new TypeError("option path is invalid");o+="; Path="+s.path}if(s.expires){if(!function(l){return Object.prototype.toString.call(l)==="[object Date]"||l instanceof Date}(s.expires)||isNaN(s.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.priority)switch(typeof s.priority=="string"?s.priority.toLowerCase():s.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function gl(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function wl(n){return encodeURIComponent(n)}let di;function It(n){if(n)try{const e=decodeURIComponent(di(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function hi(n,e=0){let t=It(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}di=typeof atob=="function"?atob:n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,s,r=0,i=0,o="";s=e.charAt(i++);~s&&(t=r%4?64*t+s:s,r++%4)?o+=String.fromCharCode(255&t>>(-2*r&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return o};const Ls="pb_auth";class bl{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!hi(this.token)}get isAdmin(){return It(this.token).type==="admin"}get isAuthRecord(){return It(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=Ls){const s=yl(e||"")[t]||"";let r={};try{r=JSON.parse(s),(typeof r===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)}exportToCookie(e,t=Ls){var l,u;const s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=It(this.token);s.expires=r!=null&&r.exp?new Date(1e3*r.exp):new Date("1970-01-01"),e=Object.assign({},s,e);const i={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let o=As(t,JSON.stringify(i),e);const a=typeof Blob<"u"?new Blob([o]).size:o.length;if(i.model&&a>4096){i.model={id:(l=i==null?void 0:i.model)==null?void 0:l.id,email:(u=i==null?void 0:i.model)==null?void 0:u.email};const c=["collectionId","username","verified"];for(const f in this.model)c.includes(f)&&(i.model[f]=this.model[f]);o=As(t,JSON.stringify(i),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let s=this._onChangeCallbacks.length-1;s>=0;s--)if(this._onChangeCallbacks[s]==e)return delete this._onChangeCallbacks[s],void this._onChangeCallbacks.splice(s,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class mi extends bl{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let s=t;typeof t!="string"&&(s=JSON.stringify(t)),window.localStorage.setItem(e,s)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class De{constructor(e){this.client=e}}class Sl extends De{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,s){return s=Object.assign({method:"POST",body:{email:e,template:t}},s),this.client.send("/api/settings/test/email",s).then(()=>!0)}async generateAppleClientSecret(e,t,s,r,i,o){return o=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:s,privateKey:r,duration:i}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}class zn extends De{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let s=500;return(t=Object.assign({},e,t)).batch&&(s=t.batch,delete t.batch),this._getFullList(s,t)}async getList(e=1,t=30,s){return(s=Object.assign({method:"GET"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(this.baseCrudPath,s).then(r=>{var i;return r.items=((i=r.items)==null?void 0:i.map(o=>this.decode(o)))||[],r})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(s=>{var r;if(!((r=s==null?void 0:s.items)!=null&&r.length))throw new G({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]})}async getOne(e,t){if(!e)throw new G({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(s=>this.decode(s))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(s=>this.decode(s))}async update(e,t,s){return s=Object.assign({method:"PATCH",body:t},s),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),s).then(r=>this.decode(r))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let s=[],r=async i=>this.getList(i,e||500,t).then(o=>{const a=o.items;return s=s.concat(a),a.length==o.perPage?r(i+1):s});return r(1)}}function J(n,e,t,s){const r=s!==void 0;return r||t!==void 0?r?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,s),e):Object.assign(e,t):e}function gn(n){var e;(e=n._resetAutoRefresh)==null||e.call(n)}class kl extends zn{get baseCrudPath(){return"/api/admins"}async update(e,t,s){return super.update(e,t,s).then(r=>{var i,o;return((i=this.client.authStore.model)==null?void 0:i.id)===r.id&&((o=this.client.authStore.model)==null?void 0:o.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,r),r})}async delete(e,t){return super.delete(e,t).then(s=>{var r,i;return s&&((r=this.client.authStore.model)==null?void 0:r.id)===e&&((i=this.client.authStore.model)==null?void 0:i.collectionId)===void 0&&this.client.authStore.clear(),s})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,s,r){let i={method:"POST",body:{identity:e,password:t}};i=J("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",i,s,r);const o=i.autoRefreshThreshold;delete i.autoRefreshThreshold,i.autoRefresh||gn(this.client);let a=await this.client.send(this.baseCrudPath+"/auth-with-password",i);return a=this.authResponse(a),o&&function(u,c,f,h){gn(u);const d=u.beforeSend,m=u.authStore.model,p=u.authStore.onChange((y,g)=>{(!y||(g==null?void 0:g.id)!=(m==null?void 0:m.id)||(g!=null&&g.collectionId||m!=null&&m.collectionId)&&(g==null?void 0:g.collectionId)!=(m==null?void 0:m.collectionId))&&gn(u)});u._resetAutoRefresh=function(){p(),u.beforeSend=d,delete u._resetAutoRefresh},u.beforeSend=async(y,g)=>{var v;const N=u.authStore.token;if((v=g.query)!=null&&v.autoRefresh)return d?d(y,g):{url:y,sendOptions:g};let R=u.authStore.isValid;if(R&&hi(u.authStore.token,c))try{await f()}catch{R=!1}R||await h();const O=g.headers||{};for(let S in O)if(S.toLowerCase()=="authorization"&&N==O[S]&&u.authStore.token){O[S]=u.authStore.token;break}return g.headers=O,d?d(y,g):{url:y,sendOptions:g}}}(this.client,o,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},i))),a}async authRefresh(e,t){let s={method:"POST"};return s=J("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",s,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",s).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,s){let r={method:"POST",body:{email:e}};return r=J("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,s),this.client.send(this.baseCrudPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,s,r,i){let o={method:"POST",body:{token:e,password:t,passwordConfirm:s}};return o=J("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",o,r,i),this.client.send(this.baseCrudPath+"/confirm-password-reset",o).then(()=>!0)}}const Ol=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function pi(n){if(n){n.query=n.query||{};for(let e in n)Ol.includes(e)||(n.query[e]=n[e],delete n[e])}}class yi extends De{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,s){var o;if(!e)throw new Error("topic must be set.");let r=e;if(s){pi(s);const a="options="+encodeURIComponent(JSON.stringify({query:s.query,headers:s.headers}));r+=(r.includes("?")?"&":"?")+a}const i=function(a){const l=a;let u;try{u=JSON.parse(l==null?void 0:l.data)}catch{}t(u||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(i),this.isConnected?this.subscriptions[r].length===1?await this.submitSubscriptions():(o=this.eventSource)==null||o.addEventListener(r,i):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,i)}async unsubscribe(e){var s;let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let i in r)if(this.hasSubscriptionListeners(i)){for(let o of this.subscriptions[i])(s=this.eventSource)==null||s.removeEventListener(i,o);delete this.subscriptions[i],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var s;let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let i of this.subscriptions[r])(s=this.eventSource)==null||s.removeEventListener(r,i);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var i;let s=!1;const r=this.getSubscriptionsByTopic(e);for(let o in r){if(!Array.isArray(this.subscriptions[o])||!this.subscriptions[o].length)continue;let a=!1;for(let l=this.subscriptions[o].length-1;l>=0;l--)this.subscriptions[o][l]===t&&(a=!0,delete this.subscriptions[o][l],this.subscriptions[o].splice(l,1),(i=this.eventSource)==null||i.removeEventListener(o,t));a&&(this.subscriptions[o].length||delete this.subscriptions[o],s||this.hasSubscriptionListeners(o)||(s=!0))}this.hasSubscriptionListeners()?s&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,s;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let r in this.subscriptions)if((s=this.subscriptions[r])!=null&&s.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let s in this.subscriptions)(s+"?").startsWith(e)&&(t[s]=this.subscriptions[s]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let s=3;for(;this.hasUnsentSubscriptions()&&s>0;)s--,await this.submitSubscriptions()}).then(()=>{for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const s=this.getSubscriptionsByTopic("PB_CONNECT");for(let r in s)for(let i of s[r])i(e)}).catch(s=>{this.clientId="",this.connectErrorHandler(s)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let s of this.pendingConnects)s.reject(new G(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[]}}}class vl extends zn{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,s){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,s)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const s=Object.assign({},e,t);return super.getFullList(s)}async getList(e=1,t=30,s){return super.getList(e,t,s)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,s){return super.update(e,t,s).then(r=>{var i,o,a;return((i=this.client.authStore.model)==null?void 0:i.id)!==(r==null?void 0:r.id)||((o=this.client.authStore.model)==null?void 0:o.collectionId)!==this.collectionIdOrName&&((a=this.client.authStore.model)==null?void 0:a.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,r),r})}async delete(e,t){return super.delete(e,t).then(s=>{var r,i,o;return!s||((r=this.client.authStore.model)==null?void 0:r.id)!==e||((i=this.client.authStore.model)==null?void 0:i.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),s})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,s,r){let i={method:"POST",body:{identity:e,password:t}};return i=J("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",i,s,r),this.client.send(this.baseCollectionPath+"/auth-with-password",i).then(o=>this.authResponse(o))}async authWithOAuth2Code(e,t,s,r,i,o,a){let l={method:"POST",body:{provider:e,code:t,codeVerifier:s,redirectUrl:r,createData:i}};return l=J("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",l,o,a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",l).then(u=>this.authResponse(u))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},s=(await this.listAuthMethods()).authProviders.find(l=>l.name===t.provider);if(!s)throw new G(new Error(`Missing or invalid provider "${t.provider}".`));const r=this.client.buildUrl("/api/oauth2-redirect"),i=new yi(this.client);let o=null;function a(){o==null||o.close(),i.unsubscribe()}return t.urlCallback||(o=Rs(void 0)),new Promise(async(l,u)=>{var c;try{await i.subscribe("@oauth2",async m=>{const p=i.clientId;try{if(!m.state||p!==m.state)throw new Error("State parameters don't match.");const y=Object.assign({},t);delete y.provider,delete y.scopes,delete y.createData,delete y.urlCallback;const g=await this.authWithOAuth2Code(s.name,m.code,s.codeVerifier,r,t.createData,y);l(g)}catch(y){u(new G(y))}a()});const f={state:i.clientId};(c=t.scopes)!=null&&c.length&&(f.scope=t.scopes.join(" "));const h=this._replaceQueryParams(s.authUrl+r,f);await(t.urlCallback||function(m){o?o.location.href=m:o=Rs(m)})(h)}catch(f){a(),u(new G(f))}})}async authRefresh(e,t){let s={method:"POST"};return s=J("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",s,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",s).then(r=>this.authResponse(r))}async requestPasswordReset(e,t,s){let r={method:"POST",body:{email:e}};return r=J("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,s),this.client.send(this.baseCollectionPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,s,r,i){let o={method:"POST",body:{token:e,password:t,passwordConfirm:s}};return o=J("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,r,i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}async requestVerification(e,t,s){let r={method:"POST",body:{email:e}};return r=J("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",r,t,s),this.client.send(this.baseCollectionPath+"/request-verification",r).then(()=>!0)}async confirmVerification(e,t,s){let r={method:"POST",body:{token:e}};return r=J("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",r,t,s),this.client.send(this.baseCollectionPath+"/confirm-verification",r).then(()=>!0)}async requestEmailChange(e,t,s){let r={method:"POST",body:{newEmail:e}};return r=J("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",r,t,s),this.client.send(this.baseCollectionPath+"/request-email-change",r).then(()=>!0)}async confirmEmailChange(e,t,s,r){let i={method:"POST",body:{token:e,password:t}};return i=J("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",i,s,r),this.client.send(this.baseCollectionPath+"/confirm-email-change",i).then(()=>!0)}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,s){return s=Object.assign({method:"DELETE"},s),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),s).then(()=>!0)}_replaceQueryParams(e,t={}){let s=e,r="";e.indexOf("?")>=0&&(s=e.substring(0,e.indexOf("?")),r=e.substring(e.indexOf("?")+1));const i={},o=r.split("&");for(const a of o){if(a=="")continue;const l=a.split("=");i[decodeURIComponent(l[0].replace(/\+/g," "))]=decodeURIComponent((l[1]||"").replace(/\+/g," "))}for(let a in t)t.hasOwnProperty(a)&&(t[a]==null?delete i[a]:i[a]=t[a]);r="";for(let a in i)i.hasOwnProperty(a)&&(r!=""&&(r+="&"),r+=encodeURIComponent(a.replace(/%20/g,"+"))+"="+encodeURIComponent(i[a].replace(/%20/g,"+")));return r!=""?s+"?"+r:s}}function Rs(n){if(typeof window>"u"||!(window!=null&&window.open))throw new G(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,s=window.innerWidth,r=window.innerHeight;e=e>s?s:e,t=t>r?r:t;let i=s/2-e/2,o=r/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+o+",left="+i+",resizable,menubar=no")}class Tl extends zn{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,s){return s=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},s),this.client.send(this.baseCrudPath+"/import",s).then(()=>!0)}}class El extends De{async getList(e=1,t=30,s){return(s=Object.assign({method:"GET"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send("/api/logs",s)}async getOne(e,t){if(!e)throw new G({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class _l extends De{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Cl extends De{getUrl(e,t,s={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(t));let i=this.client.buildUrl(r.join("/"));if(Object.keys(s).length){s.download===!1&&delete s.download;const o=new URLSearchParams(s);i+=(i.includes("?")?"&":"?")+o}return i}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class Il extends De{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Zn{constructor(e="/",t,s="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=s,this.authStore=t||new mi,this.admins=new kl(this),this.collections=new Tl(this),this.files=new Cl(this),this.logs=new El(this),this.settings=new Sl(this),this.realtime=new yi(this),this.health=new _l(this),this.backups=new Il(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new vl(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let s in t){let r=t[s];switch(typeof r){case"boolean":case"number":r=""+r;break;case"string":r="'"+r.replace(/'/g,"\\'")+"'";break;default:r=r===null?"null":r instanceof Date?"'"+r.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(r).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+s+"}",r)}return e}getFileUrl(e,t,s={}){return this.files.getUrl(e,t,s)}buildUrl(e){var s;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(s=window.location.origin)!=null&&s.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let s=this.buildUrl(e);if(this.beforeSend){const r=Object.assign({},await this.beforeSend(s,t));r.url!==void 0||r.options!==void 0?(s=r.url||s,t=r.options||t):Object.keys(r).length&&(t=r,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const r=this.serializeQueryParams(t.query);r&&(s+=(s.includes("?")?"&":"?")+r),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(s,t).then(async r=>{let i={};try{i=await r.json()}catch{}if(this.afterSend&&(i=await this.afterSend(r,i)),r.status>=400)throw new G({url:r.url,status:r.status,data:i});return i}).catch(r=>{throw new G(r)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),pi(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const s=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(s);const r=new AbortController;this.cancelControllers[s]=r,t.signal=r.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let s in e){const r=this.normalizeFormDataValue(e[s]),i=Array.isArray(r)?r:[r];if(i.length)for(const o of i)t.append(s,o);else t.append(s,"")}return t}normalizeFormDataValue(e){return e===null||typeof e!="object"||e instanceof Date||this.hasBlobField({data:e})||Array.isArray(e)&&!e.filter(t=>typeof t!="string").length?e:JSON.stringify(e)}hasBlobField(e){for(let t in e){const s=Array.isArray(e[t])?e[t]:[e[t]];for(let r of s)if(typeof Blob<"u"&&r instanceof Blob||typeof File<"u"&&r instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let s in e)if(s.toLowerCase()==t)return e[s];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const s in e){if(e[s]===null)continue;const r=e[s],i=encodeURIComponent(s);if(Array.isArray(r))for(const o of r)t.push(i+"="+encodeURIComponent(o));else r instanceof Date?t.push(i+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?t.push(i+"="+encodeURIComponent(JSON.stringify(r))):t.push(i+"="+encodeURIComponent(r))}return t.join("&")}}var Nl={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};Zn.prototype.logout=function(n=!0){this.authStore.clear(),n&&ft("/login")};Zn.prototype.error=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const s=(n==null?void 0:n.status)<<0||400,r=(n==null?void 0:n.data)||{},i=r.message||n.message||t;if(e&&i&&addErrorToast(i),CommonHelper.isEmpty(r.data)||setErrors(r.data),s===401)return this.cancelAllRequests(),this.logout();if(s===403)return this.cancelAllRequests(),ft("/")};class xl extends mi{save(e,t){super.save(e,t),t&&!t.collectionId&&In(t)}clear(){super.clear(),In(null)}}const Oe=new Zn(Nl.PB_BACKEND_URL,new xl("pcms_user_auth"));Oe.authStore.model&&!Oe.authStore.model.collectionId&&In(Oe.authStore.model);var Dl={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Ml(n){let e;return{c(){e=C("p"),e.textContent="index page"},m(t,s){$(t,e,s)},p:V,i:V,o:V,d(t){t&&D(e)}}}function $l(n){e();function e(){if(new URLSearchParams(window.location.search).has(Dl.PB_INSTALLER_PARAM)){Oe.logout(!1);return}Oe.authStore.isValid?ft("/collections"):Oe.logout()}return[]}class Al extends ye{constructor(e){super(),pe(this,e,$l,Ml,fe,{})}}const Ll=n=>({}),Fs=n=>({});function Rl(n){let e,t,s,r,i,o,a,l,u,c,f,h;const d=n[3].default,m=Nt(d,n,n[2],null),p=n[3].footer,y=Nt(p,n,n[2],Fs);return{c(){e=C("div"),t=C("main"),m&&m.c(),s=j(),r=C("footer"),y&&y.c(),i=j(),o=C("a"),o.innerHTML='<i class="ri-book-open-line txt-sm"></i> <span class="txt">TODO</span>',a=j(),l=C("span"),l.textContent="|",u=j(),c=C("a"),c.innerHTML='<span class="txt">TODO</span>',k(t,"class","page-content"),k(o,"href","/"),k(o,"target","_blank"),k(o,"rel","noopener noreferrer"),k(l,"class","delimiter"),k(c,"href","/"),k(c,"target","_blank"),k(c,"rel","noopener noreferrer"),k(c,"title","Releases"),k(r,"class","page-footer"),k(e,"class",f="page-wrapper "+n[1]),z(e,"center-content",n[0])},m(g,N){$(g,e,N),I(e,t),m&&m.m(t,null),I(e,s),I(e,r),y&&y.m(r,null),I(r,i),I(r,o),I(r,a),I(r,l),I(r,u),I(r,c),h=!0},p(g,[N]){m&&m.p&&(!h||N&4)&&Dt(m,d,g,g[2],h?xt(d,g[2],N,null):Mt(g[2]),null),y&&y.p&&(!h||N&4)&&Dt(y,p,g,g[2],h?xt(p,g[2],N,Ll):Mt(g[2]),Fs),(!h||N&2&&f!==(f="page-wrapper "+g[1]))&&k(e,"class",f),(!h||N&3)&&z(e,"center-content",g[0])},i(g){h||(F(m,g),F(y,g),h=!0)},o(g){q(m,g),q(y,g),h=!1},d(g){g&&D(e),m&&m.d(g),y&&y.d(g)}}}function Fl(n,e,t){let{$$slots:s={},$$scope:r}=e,{center:i=!1}=e,{class:o=""}=e;return n.$$set=a=>{"center"in a&&t(0,i=a.center),"class"in a&&t(1,o=a.class),"$$scope"in a&&t(2,r=a.$$scope)},[i,o,r,s]}class Pl extends ye{constructor(e){super(),pe(this,e,Fl,Rl,fe,{center:0,class:1})}}function Ps(n){let e,t,s;return{c(){e=C("div"),e.innerHTML='<figure class="logo"><img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/> <span class="txt">Pocket<strong>CMS</strong></span></figure>',t=j(),s=C("div"),k(e,"class","block txt-center m-b-lg"),k(s,"class","clearfix")},m(r,i){$(r,e,i),$(r,t,i),$(r,s,i)},d(r){r&&(D(e),D(t),D(s))}}}function ql(n){let e,t,s,r=!n[0]&&Ps();const i=n[1].default,o=Nt(i,n,n[2],null);return{c(){e=C("div"),r&&r.c(),t=j(),o&&o.c(),k(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(a,l){$(a,e,l),r&&r.m(e,null),I(e,t),o&&o.m(e,null),s=!0},p(a,l){a[0]?r&&(r.d(1),r=null):r||(r=Ps(),r.c(),r.m(e,t)),o&&o.p&&(!s||l&4)&&Dt(o,i,a,a[2],s?xt(i,a[2],l,null):Mt(a[2]),null)},i(a){s||(F(o,a),s=!0)},o(a){q(o,a),s=!1},d(a){a&&D(e),r&&r.d(),o&&o.d(a)}}}function Wl(n){let e,t;return e=new Pl({props:{class:"full-page",center:!0,$$slots:{default:[ql]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},m(s,r){te(e,s,r),t=!0},p(s,[r]){const i={};r&5&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function Vl(n,e,t){let{$$slots:s={},$$scope:r}=e,{nobranding:i=!1}=e;return n.$$set=o=>{"nobranding"in o&&t(0,i=o.nobranding),"$$scope"in o&&t(2,r=o.$$scope)},[i,s,r]}class gi extends ye{constructor(e){super(),pe(this,e,Vl,Wl,fe,{nobranding:0})}}function Ul(n){let e;return{c(){e=C("p"),e.textContent="collections page!"},m(t,s){$(t,e,s)},p:V,d(t){t&&D(e)}}}function jl(n){let e,t;return e=new gi({props:{$$slots:{default:[Ul]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},m(s,r){te(e,s,r),t=!0},p(s,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}class Hl extends ye{constructor(e){super(),pe(this,e,null,jl,fe,{})}}let Nn,_e;const xn="app-tooltip";function qs(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function ve(){return _e=_e||document.querySelector("."+xn),_e||(_e=document.createElement("div"),_e.classList.add(xn),document.body.appendChild(_e)),_e}function wi(n,e){let t=ve();if(!t.classList.contains("active")||!(e!=null&&e.text)){Dn();return}t.textContent=e.text,t.className=xn+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let s=t.offsetHeight,r=t.offsetWidth,i=n.getBoundingClientRect(),o=0,a=0,l=5;e.position=="left"?(o=i.top+i.height/2-s/2,a=i.left-r-l):e.position=="right"?(o=i.top+i.height/2-s/2,a=i.right+l):e.position=="top"?(o=i.top-s-l,a=i.left+i.width/2-r/2):e.position=="top-left"?(o=i.top-s-l,a=i.left):e.position=="top-right"?(o=i.top-s-l,a=i.right-r):e.position=="bottom-left"?(o=i.top+i.height+l,a=i.left):e.position=="bottom-right"?(o=i.top+i.height+l,a=i.right-r):(o=i.top+i.height+l,a=i.left+i.width/2-r/2),a+r>document.documentElement.clientWidth&&(a=document.documentElement.clientWidth-r),a=a>=0?a:0,o+s>document.documentElement.clientHeight&&(o=document.documentElement.clientHeight-s),o=o>=0?o:0,t.style.top=o+"px",t.style.left=a+"px"}function Dn(){clearTimeout(Nn),ve().classList.remove("active"),ve().activeNode=void 0}function zl(n,e){ve().activeNode=n,clearTimeout(Nn),Nn=setTimeout(()=>{ve().classList.add("active"),wi(n,e)},isNaN(e.delay)?0:e.delay)}function Zl(n,e){let t=qs(e);function s(){zl(n,t)}function r(){Dn()}return n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",r),n.addEventListener("blur",r),(t.hideOnClick===!0||t.hideOnClick===null&&ke.isFocusable(n))&&n.addEventListener("click",r),ve(),{update(i){var o,a;t=qs(i),(a=(o=ve())==null?void 0:o.activeNode)!=null&&a.contains(n)&&wi(n,t)},destroy(){var i,o;(o=(i=ve())==null?void 0:i.activeNode)!=null&&o.contains(n)&&Dn(),n.removeEventListener("mouseenter",s),n.removeEventListener("mouseleave",r),n.removeEventListener("blur",r),n.removeEventListener("click",r)}}}const bi=ct({});function Bl(n){bi.update(e=>(ke.deleteByPath(e,n),e))}function Ws(n,e,t){const s=n.slice();return s[12]=e[t],s}const Yl=n=>({}),Vs=n=>({uniqueId:n[4]});function Jl(n){let e,t,s=Pt(n[3]),r=[];for(let o=0;o<s.length;o+=1)r[o]=Us(Ws(n,s,o));const i=o=>q(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=Jt()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);$(o,e,a),t=!0},p(o,a){if(a&8){s=Pt(o[3]);let l;for(l=0;l<s.length;l+=1){const u=Ws(o,s,l);r[l]?(r[l].p(u,a),F(r[l],1)):(r[l]=Us(u),r[l].c(),F(r[l],1),r[l].m(e.parentNode,e))}for(ze(),l=s.length;l<r.length;l+=1)i(l);Ze()}},i(o){if(!t){for(let a=0;a<s.length;a+=1)F(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)q(r[a]);t=!1},d(o){o&&D(e),_i(r,o)}}}function Kl(n){let e,t,s,r,i,o,a;return{c(){e=C("div"),t=C("i"),k(t,"class","ri-error-warning-fill txt-danger"),k(e,"class","form-field-addon inline-error-icon")},m(l,u){$(l,e,u),I(e,t),i=!0,o||(a=Re(s=Zl.call(null,t,{position:"left",text:n[3].map(zt).join(`
`)})),o=!0)},p(l,u){s&&me(s.update)&&u&8&&s.update.call(null,{position:"left",text:l[3].map(zt).join(`
`)})},i(l){i||(l&&de(()=>{i&&(r||(r=Ft(t,ts,{duration:150,start:.7},!0)),r.run(1))}),i=!0)},o(l){l&&(r||(r=Ft(t,ts,{duration:150,start:.7},!1)),r.run(0)),i=!1},d(l){l&&D(e),l&&r&&r.end(),o=!1,a()}}}function Us(n){let e,t,s=zt(n[12])+"",r,i,o,a;return{c(){e=C("div"),t=C("pre"),r=He(s),i=j(),k(e,"class","help-block help-block-error")},m(l,u){$(l,e,u),I(e,t),I(t,r),I(e,i),a=!0},p(l,u){(!a||u&8)&&s!==(s=zt(l[12])+"")&&Xs(r,s)},i(l){a||(l&&de(()=>{a&&(o||(o=Ft(e,kn,{duration:150},!0)),o.run(1))}),a=!0)},o(l){l&&(o||(o=Ft(e,kn,{duration:150},!1)),o.run(0)),a=!1},d(l){l&&D(e),l&&o&&o.end()}}}function Gl(n){let e,t,s,r,i,o,a;const l=n[9].default,u=Nt(l,n,n[8],Vs),c=[Kl,Jl],f=[];function h(d,m){return d[0]&&d[3].length?0:1}return s=h(n),r=f[s]=c[s](n),{c(){e=C("div"),u&&u.c(),t=j(),r.c(),k(e,"class",n[1]),z(e,"error",n[3].length)},m(d,m){$(d,e,m),u&&u.m(e,null),I(e,t),f[s].m(e,null),n[11](e),i=!0,o||(a=ut(e,"click",n[10]),o=!0)},p(d,[m]){u&&u.p&&(!i||m&256)&&Dt(u,l,d,d[8],i?xt(l,d[8],m,Yl):Mt(d[8]),Vs);let p=s;s=h(d),s===p?f[s].p(d,m):(ze(),q(f[p],1,1,()=>{f[p]=null}),Ze(),r=f[s],r?r.p(d,m):(r=f[s]=c[s](d),r.c()),F(r,1),r.m(e,null)),(!i||m&2)&&k(e,"class",d[1]),(!i||m&10)&&z(e,"error",d[3].length)},i(d){i||(F(u,d),F(r),i=!0)},o(d){q(u,d),q(r),i=!1},d(d){d&&D(e),u&&u.d(d),f[s].d(),n[11](null),o=!1,a()}}}const js="Invalid value";function zt(n){return typeof n=="object"?(n==null?void 0:n.message)||(n==null?void 0:n.code)||js:n||js}function Ql(n,e,t){let s;Zt(n,bi,p=>t(7,s=p));let{$$slots:r={},$$scope:i}=e;const o="field_"+ke.randomString(7);let{name:a=""}=e,{inlineError:l=!1}=e,{class:u=void 0}=e,c,f=[];function h(){Bl(a)}$i(()=>(c.addEventListener("input",h),c.addEventListener("change",h),()=>{c.removeEventListener("input",h),c.removeEventListener("change",h)}));function d(p){wn.call(this,n,p)}function m(p){bn[p?"unshift":"push"](()=>{c=p,t(2,c)})}return n.$$set=p=>{"name"in p&&t(5,a=p.name),"inlineError"in p&&t(0,l=p.inlineError),"class"in p&&t(1,u=p.class),"$$scope"in p&&t(8,i=p.$$scope)},n.$$.update=()=>{n.$$.dirty&160&&t(3,f=ke.toArray(ke.getNestedVal(s,a)))},[l,u,c,f,o,a,h,s,i,r,d,m]}class Hs extends ye{constructor(e){super(),pe(this,e,Ql,Gl,fe,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}function Xl(n){let e,t,s,r,i,o,a,l;return{c(){e=C("label"),t=He("Email"),r=j(),i=C("input"),k(e,"for",s=n[8]),k(i,"type","email"),k(i,"id",o=n[8]),i.required=!0,i.autofocus=!0},m(u,c){$(u,e,c),I(e,t),$(u,r,c),$(u,i,c),$t(i,n[0]),i.focus(),a||(l=ut(i,"input",n[4]),a=!0)},p(u,c){c&256&&s!==(s=u[8])&&k(e,"for",s),c&256&&o!==(o=u[8])&&k(i,"id",o),c&1&&i.value!==u[0]&&$t(i,u[0])},d(u){u&&(D(e),D(r),D(i)),a=!1,l()}}}function eu(n){let e,t,s,r,i,o,a,l;return{c(){e=C("label"),t=He("Password"),r=j(),i=C("input"),k(e,"for",s=n[8]),k(i,"type","password"),k(i,"id",o=n[8]),i.required=!0},m(u,c){$(u,e,c),I(e,t),$(u,r,c),$(u,i,c),$t(i,n[1]),a||(l=ut(i,"input",n[5]),a=!0)},p(u,c){c&256&&s!==(s=u[8])&&k(e,"for",s),c&256&&o!==(o=u[8])&&k(i,"id",o),c&2&&i.value!==u[1]&&$t(i,u[1])},d(u){u&&(D(e),D(r),D(i)),a=!1,l()}}}function tu(n){let e,t,s,r,i,o,a,l,u,c,f;return r=new Hs({props:{class:"form-field required",name:"identity",$$slots:{default:[Xl,({uniqueId:h})=>({8:h}),({uniqueId:h})=>h?256:0]},$$scope:{ctx:n}}}),o=new Hs({props:{class:"form-field required",name:"password",$$slots:{default:[eu,({uniqueId:h})=>({8:h}),({uniqueId:h})=>h?256:0]},$$scope:{ctx:n}}}),{c(){e=C("form"),t=C("div"),t.innerHTML="<h4>Admin sign in</h4>",s=j(),oe(r.$$.fragment),i=j(),oe(o.$$.fragment),a=j(),l=C("button"),l.innerHTML='<span class="txt">Login</span> <i class="ri-arrow-right-line"></i>',k(t,"class","content txt-center m-b-base"),k(l,"type","submit"),k(l,"class","btn btn-lg btn-block btn-next"),z(l,"btn-disabled",n[2]),z(l,"btn-loading",n[2]),k(e,"class","block")},m(h,d){$(h,e,d),I(e,t),I(e,s),te(r,e,null),I(e,i),te(o,e,null),I(e,a),I(e,l),u=!0,c||(f=ut(e,"submit",Qs(n[3])),c=!0)},p(h,d){const m={};d&769&&(m.$$scope={dirty:d,ctx:h}),r.$set(m);const p={};d&770&&(p.$$scope={dirty:d,ctx:h}),o.$set(p),(!u||d&4)&&z(l,"btn-disabled",h[2]),(!u||d&4)&&z(l,"btn-loading",h[2])},i(h){u||(F(r.$$.fragment,h),F(o.$$.fragment,h),u=!0)},o(h){q(r.$$.fragment,h),q(o.$$.fragment,h),u=!1},d(h){h&&D(e),ne(r),ne(o),c=!1,f()}}}function nu(n){let e,t;return e=new gi({props:{$$slots:{default:[tu]},$$scope:{ctx:n}}}),{c(){oe(e.$$.fragment)},m(s,r){te(e,s,r),t=!0},p(s,[r]){const i={};r&519&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){ne(e,s)}}}function su(n,e,t){let s;Zt(n,Ji,f=>t(6,s=f));const r=new URLSearchParams(s);let i=r.get("demoEmail")||"",o=r.get("demoPassword")||"",a=!1;function l(){if(!a)return t(2,a=!0),Oe.collection("cms_users").authWithPassword(i,o).then(()=>{ll(),ft("/")}).catch(()=>{ol("Invalid login credentials.")}).finally(()=>{t(2,a=!1)})}function u(){i=this.value,t(0,i)}function c(){o=this.value,t(1,o)}return[i,o,a,l,u,c]}class ru extends ye{constructor(e){super(),pe(this,e,su,nu,fe,{})}}const iu={"/login":yn({component:ru,conditions:[n=>!Oe.authStore.isValid],userData:{showAppSidebar:!1}}),"/collections":yn({component:Hl,userData:{showAppSidebar:!0}}),"*":yn({component:Al,userData:{showAppSidebar:!1}})};function zs(n){let e,t,s,r,i,o,a,l,u;return{c(){e=C("aside"),t=C("a"),t.innerHTML='<img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/>',s=j(),r=C("nav"),i=C("a"),i.innerHTML='<i class="ri-database-2-line"></i>',o=j(),a=C("a"),a.innerHTML='<i class="ri-tools-line"></i>',k(t,"href","/"),k(t,"class","logo logo-sm"),k(i,"href","/collections"),k(i,"class","menu-item"),k(i,"aria-label","Collections"),k(a,"href","/settings"),k(a,"class","menu-item"),k(a,"aria-label","Settings"),k(r,"class","main-menu"),k(e,"class","app-sidebar")},m(c,f){$(c,e,f),I(e,t),I(e,s),I(e,r),I(r,i),I(r,o),I(r,a),l||(u=[Re(an.call(null,t)),Re(an.call(null,i)),Re(es.call(null,i,{path:"/collections/?.*",className:"current-route"})),Re(an.call(null,a)),Re(es.call(null,a,{path:"/settings/?.*",className:"current-route"}))],l=!0)},d(c){c&&D(e),l=!1,ce(u)}}}function ou(n){var c;let e,t,s,r,i,o,a,l,u=((c=n[1])==null?void 0:c.id)&&n[0]&&zs();return i=new Xi({props:{routes:iu}}),i.$on("routeLoading",n[2]),i.$on("conditionsFailed",n[3]),a=new pl({}),{c(){e=j(),t=C("div"),u&&u.c(),s=j(),r=C("div"),oe(i.$$.fragment),o=j(),oe(a.$$.fragment),document.title="PocketCMS",k(r,"class","app-body"),k(t,"class","app-layout")},m(f,h){$(f,e,h),$(f,t,h),u&&u.m(t,null),I(t,s),I(t,r),te(i,r,null),I(r,o),te(a,r,null),l=!0},p(f,[h]){var d;(d=f[1])!=null&&d.id&&f[0]?u||(u=zs(),u.c(),u.m(t,s)):u&&(u.d(1),u=null)},i(f){l||(F(i.$$.fragment,f),F(a.$$.fragment,f),l=!0)},o(f){q(i.$$.fragment,f),q(a.$$.fragment,f),l=!1},d(f){f&&(D(e),D(t)),u&&u.d(),ne(i),ne(a)}}}function au(n,e,t){let s;Zt(n,fi,l=>t(1,s=l));let r=!1,i;function o(l){var u,c,f,h;((u=l==null?void 0:l.detail)==null?void 0:u.location)!==i&&(t(0,r=!!((f=(c=l==null?void 0:l.detail)==null?void 0:c.userData)!=null&&f.showAppSidebar)),i=(h=l==null?void 0:l.detail)==null?void 0:h.location)}function a(){ft("/")}return[r,s,o,a]}class lu extends ye{constructor(e){super(),pe(this,e,au,ou,fe,{})}}new lu({target:document.getElementById("app")});
