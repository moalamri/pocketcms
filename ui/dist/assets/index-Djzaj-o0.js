function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./FilterAutocompleteInput-DnYNr-hz.js","./index-50CdTeC0.js","./CodeEditor-do0a6uQv.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var ec=Object.defineProperty;var tc=(n,e,t)=>e in n?ec(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Cr=(n,e,t)=>(tc(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();function G(){}const Ci=n=>n;function Ze(n,e){for(const t in e)n[t]=e[t];return n}function ru(n){return n()}function Ms(){return Object.create(null)}function De(n){n.forEach(ru)}function st(n){return typeof n=="function"}function ye(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Ai;function sn(n,e){return n===e?!0:(Ai||(Ai=document.createElement("a")),Ai.href=e,n===Ai.href)}function nc(n){return Object.keys(n).length===0}function is(n,...e){if(n==null){for(const i of e)i(void 0);return G}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ic(n){let e;return is(n,t=>e=t)(),e}function Ke(n,e,t){n.$$.on_destroy.push(is(e,t))}function ut(n,e,t,i){if(n){const r=su(n,e,t,i);return n[0](r)}}function su(n,e,t,i){return n[1]&&i?Ze(t.ctx.slice(),n[1](i(e))):t.ctx}function ft(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const l=[],s=Math.max(e.dirty.length,r.length);for(let o=0;o<s;o+=1)l[o]=e.dirty[o]|r[o];return l}return e.dirty|r}return e.dirty}function ct(n,e,t,i,r,l){if(r){const s=su(e,t,i,l);n.p(s,r)}}function dt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Ti(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function ln(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function kn(n){return n??""}function lu(n,e,t){return n.set(t),e}function We(n){return n&&st(n.destroy)?n.destroy:G}function Is(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const ou=typeof window<"u";let ur=ou?()=>window.performance.now():()=>Date.now(),rs=ou?n=>requestAnimationFrame(n):G;const Bn=new Set;function au(n){Bn.forEach(e=>{e.c(n)||(Bn.delete(e),e.f())}),Bn.size!==0&&rs(au)}function fr(n){let e;return Bn.size===0&&rs(au),{promise:new Promise(t=>{Bn.add(e={c:n,f:t})}),abort(){Bn.delete(e)}}}function C(n,e){n.appendChild(e)}function uu(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function rc(n){const e=w("style");return e.textContent="/* empty */",sc(uu(n),e),e.sheet}function sc(n,e){return C(n.head||n,e),e.sheet}function S(n,e,t){n.insertBefore(e,t||null)}function v(n){n.parentNode&&n.parentNode.removeChild(n)}function cn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function w(n){return document.createElement(n)}function re(n){return document.createTextNode(n)}function q(){return re(" ")}function ge(){return re("")}function ee(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function Xe(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Xt(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function h(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const lc=["width","height"];function Xi(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&lc.indexOf(i)===-1?n[i]=e[i]:h(n,i,e[i])}function fu(n){return n===""?null:+n}function oc(n){return Array.from(n.childNodes)}function _e(n,e){e=""+e,n.data!==e&&(n.data=e)}function Be(n,e){n.value=e??""}function ac(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function J(n,e,t){n.classList.toggle(e,!!t)}function cu(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}function Kt(n,e){return new n(e)}const $i=new Map;let xi=0;function uc(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function fc(n,e){const t={stylesheet:rc(e),rules:{}};return $i.set(n,t),t}function _i(n,e,t,i,r,l,s,o=0){const a=16.666/i;let u=`{
`;for(let b=0;b<=1;b+=a){const g=e+(t-e)*l(b);u+=b*100+`%{${s(g,1-g)}}
`}const f=u+`100% {${s(t,1-t)}}
}`,c=`__svelte_${uc(f)}_${o}`,m=uu(n),{stylesheet:d,rules:_}=$i.get(m)||fc(m,n);_[c]||(_[c]=!0,d.insertRule(`@keyframes ${c} ${f}`,d.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${c} ${i}ms linear ${r}ms 1 both`,xi+=1,c}function bi(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),r=t.length-i.length;r&&(n.style.animation=i.join(", "),xi-=r,xi||cc())}function cc(){rs(()=>{xi||($i.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&v(e)}),$i.clear())})}function dc(n,e,t,i){if(!e)return G;const r=n.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return G;const{delay:l=0,duration:s=300,easing:o=Ci,start:a=ur()+l,end:u=a+s,tick:f=G,css:c}=t(n,{from:e,to:r},i);let m=!0,d=!1,_;function p(){c&&(_=_i(n,0,1,s,l,o,c)),l||(d=!0)}function b(){c&&bi(n,_),m=!1}return fr(g=>{if(!d&&g>=a&&(d=!0),d&&g>=u&&(f(1,0),b()),!m)return!1;if(d){const y=g-a,T=0+1*o(y/s);f(T,1-T)}return!0}),p(),f(0,1),b}function mc(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:i}=e,r=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=i,du(n,r)}}function du(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const i=getComputedStyle(n),r=i.transform==="none"?"":i.transform;n.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let yi;function di(n){yi=n}function cr(){if(!yi)throw new Error("Function called outside component initialization");return yi}function Ft(n){cr().$$.on_mount.push(n)}function hc(n){cr().$$.after_update.push(n)}function mu(n){cr().$$.on_destroy.push(n)}function Ct(){const n=cr();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const l=cu(e,t,{cancelable:i});return r.slice().forEach(s=>{s.call(n,l)}),!l.defaultPrevented}return!0}}function St(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const zn=[],oe=[];let Kn=[];const Ur=[],hu=Promise.resolve();let zr=!1;function pu(){zr||(zr=!0,hu.then(gu))}function rn(){return pu(),hu}function ht(n){Kn.push(n)}function Fe(n){Ur.push(n)}const Tr=new Set;let Vn=0;function gu(){if(Vn!==0)return;const n=yi;do{try{for(;Vn<zn.length;){const e=zn[Vn];Vn++,di(e),pc(e.$$)}}catch(e){throw zn.length=0,Vn=0,e}for(di(null),zn.length=0,Vn=0;oe.length;)oe.pop()();for(let e=0;e<Kn.length;e+=1){const t=Kn[e];Tr.has(t)||(Tr.add(t),t())}Kn.length=0}while(zn.length);for(;Ur.length;)Ur.pop()();zr=!1,Tr.clear(),di(n)}function pc(n){if(n.fragment!==null){n.update(),De(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ht)}}function gc(n){const e=[],t=[];Kn.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Kn=e}let ai;function ss(){return ai||(ai=Promise.resolve(),ai.then(()=>{ai=null})),ai}function Mn(n,e,t){n.dispatchEvent(cu(`${e?"intro":"outro"}${t}`))}const Bi=new Set;let nn;function ue(){nn={r:0,c:[],p:nn}}function fe(){nn.r||De(nn.c),nn=nn.p}function O(n,e){n&&n.i&&(Bi.delete(n),n.i(e))}function N(n,e,t,i){if(n&&n.o){if(Bi.has(n))return;Bi.add(n),nn.c.push(()=>{Bi.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const ls={duration:0};function _u(n,e,t){const i={direction:"in"};let r=e(n,t,i),l=!1,s,o,a=0;function u(){s&&bi(n,s)}function f(){const{delay:m=0,duration:d=300,easing:_=Ci,tick:p=G,css:b}=r||ls;b&&(s=_i(n,0,1,d,m,_,b,a++)),p(0,1);const g=ur()+m,y=g+d;o&&o.abort(),l=!0,ht(()=>Mn(n,!0,"start")),o=fr(T=>{if(l){if(T>=y)return p(1,0),Mn(n,!0,"end"),u(),l=!1;if(T>=g){const k=_((T-g)/d);p(k,1-k)}}return l})}let c=!1;return{start(){c||(c=!0,bi(n),st(r)?(r=r(i),ss().then(f)):f())},invalidate(){c=!1},end(){l&&(u(),l=!1)}}}function os(n,e,t){const i={direction:"out"};let r=e(n,t,i),l=!0,s;const o=nn;o.r+=1;let a;function u(){const{delay:f=0,duration:c=300,easing:m=Ci,tick:d=G,css:_}=r||ls;_&&(s=_i(n,1,0,c,f,m,_));const p=ur()+f,b=p+c;ht(()=>Mn(n,!1,"start")),"inert"in n&&(a=n.inert,n.inert=!0),fr(g=>{if(l){if(g>=b)return d(0,1),Mn(n,!1,"end"),--o.r||De(o.c),!1;if(g>=p){const y=m((g-p)/c);d(1-y,y)}}return l})}return st(r)?ss().then(()=>{r=r(i),u()}):u(),{end(f){f&&"inert"in n&&(n.inert=a),f&&r.tick&&r.tick(1,0),l&&(s&&bi(n,s),l=!1)}}}function mt(n,e,t,i){let l=e(n,t,{direction:"both"}),s=i?0:1,o=null,a=null,u=null,f;function c(){u&&bi(n,u)}function m(_,p){const b=_.b-s;return p*=Math.abs(b),{a:s,b:_.b,d:b,duration:p,start:_.start,end:_.start+p,group:_.group}}function d(_){const{delay:p=0,duration:b=300,easing:g=Ci,tick:y=G,css:T}=l||ls,k={start:ur()+p,b:_};_||(k.group=nn,nn.r+=1),"inert"in n&&(_?f!==void 0&&(n.inert=f):(f=n.inert,n.inert=!0)),o||a?a=k:(T&&(c(),u=_i(n,s,_,b,p,g,T)),_&&y(0,1),o=m(k,b),ht(()=>Mn(n,_,"start")),fr(E=>{if(a&&E>a.start&&(o=m(a,b),a=null,Mn(n,o.b,"start"),T&&(c(),u=_i(n,s,o.b,o.duration,0,g,l.css))),o){if(E>=o.end)y(s=o.b,1-s),Mn(n,o.b,"end"),a||(o.b?c():--o.group.r||De(o.group.c)),o=null;else if(E>=o.start){const F=E-o.start;s=o.a+o.d*g(F/o.duration),y(s,1-s)}}return!!(o||a)}))}return{run(_){st(l)?ss().then(()=>{l=l({direction:_?"in":"out"}),d(_)}):d(_)},end(){c(),o=a=null}}}function we(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function as(n,e){n.d(1),e.delete(n.key)}function Lt(n,e){N(n,1,1,()=>{e.delete(n.key)})}function _c(n,e){n.f(),Lt(n,e)}function pt(n,e,t,i,r,l,s,o,a,u,f,c){let m=n.length,d=l.length,_=m;const p={};for(;_--;)p[n[_].key]=_;const b=[],g=new Map,y=new Map,T=[];for(_=d;_--;){const L=c(r,l,_),I=t(L);let R=s.get(I);R?i&&T.push(()=>R.p(L,e)):(R=u(I,L),R.c()),g.set(I,b[_]=R),I in p&&y.set(I,Math.abs(_-p[I]))}const k=new Set,E=new Set;function F(L){O(L,1),L.m(o,f),s.set(L.key,L),f=L.first,d--}for(;m&&d;){const L=b[d-1],I=n[m-1],R=L.key,P=I.key;L===I?(f=L.first,m--,d--):g.has(P)?!s.has(R)||k.has(R)?F(L):E.has(P)?m--:y.get(R)>y.get(P)?(E.add(R),F(L)):(k.add(P),m--):(a(I,s),m--)}for(;m--;){const L=n[m];g.has(L.key)||a(L,s)}for(;d;)F(b[d-1]);return De(T),b}function Ht(n,e){const t={},i={},r={$$scope:1};let l=n.length;for(;l--;){const s=n[l],o=e[l];if(o){for(const a in s)a in o||(i[a]=1);for(const a in o)r[a]||(t[a]=o[a],r[a]=1);n[l]=o}else for(const a in s)r[a]=1}for(const s in i)s in t||(t[s]=void 0);return t}function $t(n){return typeof n=="object"&&n!==null?n:{}}function Ae(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function $(n){n&&n.c()}function Q(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),ht(()=>{const l=n.$$.on_mount.map(ru).filter(st);n.$$.on_destroy?n.$$.on_destroy.push(...l):De(l),n.$$.on_mount=[]}),r.forEach(ht)}function X(n,e){const t=n.$$;t.fragment!==null&&(gc(t.after_update),De(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function bc(n,e){n.$$.dirty[0]===-1&&(zn.push(n),pu(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ke(n,e,t,i,r,l,s=null,o=[-1]){const a=yi;di(n);const u=n.$$={fragment:null,ctx:[],props:l,update:G,not_equal:r,bound:Ms(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ms(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(c,m,...d)=>{const _=d.length?d[0]:m;return u.ctx&&r(u.ctx[c],u.ctx[c]=_)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](_),f&&bc(n,c)),m}):[],u.update(),f=!0,De(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=oc(e.target);u.fragment&&u.fragment.l(c),c.forEach(v)}else u.fragment&&u.fragment.c();e.intro&&O(n.$$.fragment),Q(n,e.target,e.anchor),gu()}di(a)}class ve{constructor(){Cr(this,"$$");Cr(this,"$$set")}$destroy(){X(this,1),this.$destroy=G}$on(e,t){if(!st(t))return G;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!nc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const yc="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yc);const Wn=[];function bu(n,e){return{subscribe:en(n,e).subscribe}}function en(n,e=G){let t;const i=new Set;function r(o){if(ye(n,o)&&(n=o,t)){const a=!Wn.length;for(const u of i)u[1](),Wn.push(u,n);if(a){for(let u=0;u<Wn.length;u+=2)Wn[u][0](Wn[u+1]);Wn.length=0}}}function l(o){r(o(n))}function s(o,a=G){const u=[o,a];return i.add(u),i.size===1&&(t=e(r,l)||G),o(n),()=>{i.delete(u),i.size===0&&t&&(t(),t=null)}}return{set:r,update:l,subscribe:s}}function yu(n,e,t){const i=!Array.isArray(n),r=i?[n]:n;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return bu(t,(s,o)=>{let a=!1;const u=[];let f=0,c=G;const m=()=>{if(f)return;c();const _=e(i?u[0]:u,s,o);l?s(_):c=st(_)?_:G},d=r.map((_,p)=>is(_,b=>{u[p]=b,f&=~(1<<p),a&&m()},()=>{f|=1<<p}));return a=!0,m(),function(){De(d),c(),a=!1}})}function wu(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,i,r,l,s=[],o="",a=n.split("/");for(a[0]||a.shift();r=a.shift();)t=r[0],t==="*"?(s.push("wild"),o+="/(.*)"):t===":"?(i=r.indexOf("?",1),l=r.indexOf(".",1),s.push(r.substring(1,~i?i:~l?l:r.length)),o+=~i&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(o+=(~i?"?":"")+"\\"+r.substring(l))):o+="/"+r;return{keys:s,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function wc(n){let e,t,i;const r=[n[2]];var l=n[0];function s(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Ze(u,r[f]);return a!==void 0&&a&4&&(u=Ze(u,Ht(r,[$t(o[2])]))),{props:u}}return l&&(e=Kt(l,s(n)),e.$on("routeEvent",n[7])),{c(){e&&$(e.$$.fragment),t=ge()},m(o,a){e&&Q(e,o,a),S(o,t,a),i=!0},p(o,a){if(a&1&&l!==(l=o[0])){if(e){ue();const u=e;N(u.$$.fragment,1,0,()=>{X(u,1)}),fe()}l?(e=Kt(l,s(o,a)),e.$on("routeEvent",o[7]),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(l){const u=a&4?Ht(r,[$t(o[2])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&v(t),e&&X(e,o)}}}function kc(n){let e,t,i;const r=[{params:n[1]},n[2]];var l=n[0];function s(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Ze(u,r[f]);return a!==void 0&&a&6&&(u=Ze(u,Ht(r,[a&2&&{params:o[1]},a&4&&$t(o[2])]))),{props:u}}return l&&(e=Kt(l,s(n)),e.$on("routeEvent",n[6])),{c(){e&&$(e.$$.fragment),t=ge()},m(o,a){e&&Q(e,o,a),S(o,t,a),i=!0},p(o,a){if(a&1&&l!==(l=o[0])){if(e){ue();const u=e;N(u.$$.fragment,1,0,()=>{X(u,1)}),fe()}l?(e=Kt(l,s(o,a)),e.$on("routeEvent",o[6]),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(l){const u=a&6?Ht(r,[a&2&&{params:o[1]},a&4&&$t(o[2])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&v(t),e&&X(e,o)}}}function vc(n){let e,t,i,r;const l=[kc,wc],s=[];function o(a,u){return a[1]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ge()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?s[e].p(a,u):(ue(),N(s[f],1,1,()=>{s[f]=null}),fe(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&v(i),s[e].d(a)}}}function Ns(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let i="";return t>-1&&(i=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:i}}const dr=bu(null,function(e){e(Ns());const t=()=>{e(Ns())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});yu(dr,n=>n.location);const us=yu(dr,n=>n.querystring),As=en(void 0);async function er(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await rn(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(n.charAt(0)=="#"?"":"#")+n}async function Di(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await rn();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Ki(n,e){if(e=Fs(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Ls(n,e),{update(t){t=Fs(t),Ls(n,t)}}}function Sc(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ls(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",i=>{i.preventDefault(),e.disabled||Cc(i.currentTarget.getAttribute("href"))})}function Fs(n){return n&&typeof n=="string"?{href:n}:n||{}}function Cc(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function Tc(n,e,t){let{routes:i={}}=e,{prefix:r=""}=e,{restoreScrollState:l=!1}=e;class s{constructor(E,F){if(!F||typeof F!="function"&&(typeof F!="object"||F._sveltesparouter!==!0))throw Error("Invalid component object");if(!E||typeof E=="string"&&(E.length<1||E.charAt(0)!="/"&&E.charAt(0)!="*")||typeof E=="object"&&!(E instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:L,keys:I}=wu(E);this.path=E,typeof F=="object"&&F._sveltesparouter===!0?(this.component=F.component,this.conditions=F.conditions||[],this.userData=F.userData,this.props=F.props||{}):(this.component=()=>Promise.resolve(F),this.conditions=[],this.props={}),this._pattern=L,this._keys=I}match(E){if(r){if(typeof r=="string")if(E.startsWith(r))E=E.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const R=E.match(r);if(R&&R[0])E=E.substr(R[0].length)||"/";else return null}}const F=this._pattern.exec(E);if(F===null)return null;if(this._keys===!1)return F;const L={};let I=0;for(;I<this._keys.length;){try{L[this._keys[I]]=decodeURIComponent(F[I+1]||"")||null}catch{L[this._keys[I]]=null}I++}return L}async checkConditions(E){for(let F=0;F<this.conditions.length;F++)if(!await this.conditions[F](E))return!1;return!0}}const o=[];i instanceof Map?i.forEach((k,E)=>{o.push(new s(E,k))}):Object.keys(i).forEach(k=>{o.push(new s(k,i[k]))});let a=null,u=null,f={};const c=Ct();async function m(k,E){await rn(),c(k,E)}let d=null,_=null;l&&(_=k=>{k.state&&(k.state.__svelte_spa_router_scrollY||k.state.__svelte_spa_router_scrollX)?d=k.state:d=null},window.addEventListener("popstate",_),hc(()=>{Sc(d)}));let p=null,b=null;const g=dr.subscribe(async k=>{p=k;let E=0;for(;E<o.length;){const F=o[E].match(k.location);if(!F){E++;continue}const L={route:o[E].path,location:k.location,querystring:k.querystring,userData:o[E].userData,params:F&&typeof F=="object"&&Object.keys(F).length?F:null};if(!await o[E].checkConditions(L)){t(0,a=null),b=null,m("conditionsFailed",L);return}m("routeLoading",Object.assign({},L));const I=o[E].component;if(b!=I){I.loading?(t(0,a=I.loading),b=I,t(1,u=I.loadingParams),t(2,f={}),m("routeLoaded",Object.assign({},L,{component:a,name:a.name,params:u}))):(t(0,a=null),b=null);const R=await I();if(k!=p)return;t(0,a=R&&R.default||R),b=I}F&&typeof F=="object"&&Object.keys(F).length?t(1,u=F):t(1,u=null),t(2,f=o[E].props),m("routeLoaded",Object.assign({},L,{component:a,name:a.name,params:u})).then(()=>{As.set(u)});return}t(0,a=null),b=null,As.set(void 0)});mu(()=>{g(),_&&window.removeEventListener("popstate",_)});function y(k){St.call(this,n,k)}function T(k){St.call(this,n,k)}return n.$$set=k=>{"routes"in k&&t(3,i=k.routes),"prefix"in k&&t(4,r=k.prefix),"restoreScrollState"in k&&t(5,l=k.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[a,u,f,i,r,l,y,T]}class Dc extends ve{constructor(e){super(),ke(this,e,Tc,vc,ye,{routes:3,prefix:4,restoreScrollState:5})}}const Zi=[];let ku;function vu(n){const e=n.pattern.test(ku);Ps(n,n.className,e),Ps(n,n.inactiveClassName,!e)}function Ps(n,e,t){(e||"").split(" ").forEach(i=>{i&&(n.node.classList.remove(i),t&&n.node.classList.add(i))})}dr.subscribe(n=>{ku=n.location+(n.querystring?"?"+n.querystring:""),Zi.map(vu)});function Rs(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?wu(e.path):{pattern:e.path},i={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return Zi.push(i),vu(i),{destroy(){Zi.splice(Zi.indexOf(i),1)}}}function mr(n){const e=n-1;return e*e*e+1}function wi(n,{delay:e=0,duration:t=400,easing:i=Ci}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:l=>`opacity: ${l*r}`}}function on(n,{delay:e=0,duration:t=400,easing:i=mr,x:r=0,y:l=0,opacity:s=0}={}){const o=getComputedStyle(n),a=+o.opacity,u=o.transform==="none"?"":o.transform,f=a*(1-s),[c,m]=Is(r),[d,_]=Is(l);return{delay:e,duration:t,easing:i,css:(p,b)=>`
			transform: ${u} translate(${(1-p)*c}${m}, ${(1-p)*d}${_});
			opacity: ${a-f*b}`}}function Xn(n,{delay:e=0,duration:t=400,easing:i=mr,axis:r="y"}={}){const l=getComputedStyle(n),s=+l.opacity,o=r==="y"?"height":"width",a=parseFloat(l[o]),u=r==="y"?["top","bottom"]:["left","right"],f=u.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),c=parseFloat(l[`padding${f[0]}`]),m=parseFloat(l[`padding${f[1]}`]),d=parseFloat(l[`margin${f[0]}`]),_=parseFloat(l[`margin${f[1]}`]),p=parseFloat(l[`border${f[0]}Width`]),b=parseFloat(l[`border${f[1]}Width`]);return{delay:e,duration:t,easing:i,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*s};${o}: ${g*a}px;padding-${u[0]}: ${g*c}px;padding-${u[1]}: ${g*m}px;margin-${u[0]}: ${g*d}px;margin-${u[1]}: ${g*_}px;border-${u[0]}-width: ${g*p}px;border-${u[1]}-width: ${g*b}px;`}}function qs(n,{delay:e=0,duration:t=400,easing:i=mr,start:r=0,opacity:l=0}={}){const s=getComputedStyle(n),o=+s.opacity,a=s.transform==="none"?"":s.transform,u=1-r,f=o*(1-l);return{delay:e,duration:t,easing:i,css:(c,m)=>`
			transform: ${a} scale(${1-u*m});
			opacity: ${o-f*m}
		`}}class Nn extends Error{}class Oc extends Nn{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Ec extends Nn{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Mc extends Nn{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Yn extends Nn{}class Su extends Nn{constructor(e){super(`Invalid unit ${e}`)}}class Nt extends Nn{}class pn extends Nn{constructor(){super("Zone is an abstract class")}}const se="numeric",xt="short",Wt="long",tr={year:se,month:se,day:se},Cu={year:se,month:xt,day:se},Ic={year:se,month:xt,day:se,weekday:xt},Tu={year:se,month:Wt,day:se},Du={year:se,month:Wt,day:se,weekday:Wt},Ou={hour:se,minute:se},Eu={hour:se,minute:se,second:se},Mu={hour:se,minute:se,second:se,timeZoneName:xt},Iu={hour:se,minute:se,second:se,timeZoneName:Wt},Nu={hour:se,minute:se,hourCycle:"h23"},Au={hour:se,minute:se,second:se,hourCycle:"h23"},Lu={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:xt},Fu={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:Wt},Pu={year:se,month:se,day:se,hour:se,minute:se},Ru={year:se,month:se,day:se,hour:se,minute:se,second:se},qu={year:se,month:xt,day:se,hour:se,minute:se},ju={year:se,month:xt,day:se,hour:se,minute:se,second:se},Nc={year:se,month:xt,day:se,weekday:xt,hour:se,minute:se},Vu={year:se,month:Wt,day:se,hour:se,minute:se,timeZoneName:xt},Wu={year:se,month:Wt,day:se,hour:se,minute:se,second:se,timeZoneName:xt},Hu={year:se,month:Wt,day:se,weekday:Wt,hour:se,minute:se,timeZoneName:Wt},Uu={year:se,month:Wt,day:se,weekday:Wt,hour:se,minute:se,second:se,timeZoneName:Wt};class Oi{get type(){throw new pn}get name(){throw new pn}get ianaName(){return this.name}get isUniversal(){throw new pn}offsetName(e,t){throw new pn}formatOffset(e,t){throw new pn}offset(e){throw new pn}equals(e){throw new pn}get isValid(){throw new pn}}let Dr=null;class hr extends Oi{static get instance(){return Dr===null&&(Dr=new hr),Dr}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return Xu(e,t,i)}formatOffset(e,t){return mi(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Ji={};function Ac(n){return Ji[n]||(Ji[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Ji[n]}const Lc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Fc(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,l,s,o,a,u,f]=i;return[s,r,l,o,a,u,f]}function Pc(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:l,value:s}=t[r],o=Lc[l];l==="era"?i[o]=s:Oe(o)||(i[o]=parseInt(s,10))}return i}let Li={};class fn extends Oi{static create(e){return Li[e]||(Li[e]=new fn(e)),Li[e]}static resetCache(){Li={},Ji={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=fn.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return Xu(e,t,i,this.name)}formatOffset(e,t){return mi(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=Ac(this.name);let[r,l,s,o,a,u,f]=i.formatToParts?Pc(i,t):Fc(i,t);o==="BC"&&(r=-Math.abs(r)+1);const m=gr({year:r,month:l,day:s,hour:a===24?0:a,minute:u,second:f,millisecond:0});let d=+t;const _=d%1e3;return d-=_>=0?_:1e3+_,(m-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let js={};function Rc(n,e={}){const t=JSON.stringify([n,e]);let i=js[t];return i||(i=new Intl.ListFormat(n,e),js[t]=i),i}let Yr={};function Br(n,e={}){const t=JSON.stringify([n,e]);let i=Yr[t];return i||(i=new Intl.DateTimeFormat(n,e),Yr[t]=i),i}let Kr={};function qc(n,e={}){const t=JSON.stringify([n,e]);let i=Kr[t];return i||(i=new Intl.NumberFormat(n,e),Kr[t]=i),i}let Zr={};function jc(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let l=Zr[r];return l||(l=new Intl.RelativeTimeFormat(n,e),Zr[r]=l),l}let ci=null;function Vc(){return ci||(ci=new Intl.DateTimeFormat().resolvedOptions().locale,ci)}let Vs={};function Wc(n){let e=Vs[n];if(!e){const t=new Intl.Locale(n);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,Vs[n]=e}return e}function Hc(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=Br(n).resolvedOptions(),r=n}catch{const a=n.substring(0,t);i=Br(a).resolvedOptions(),r=a}const{numberingSystem:l,calendar:s}=i;return[r,l,s]}}function Uc(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function zc(n){const e=[];for(let t=1;t<=12;t++){const i=Ee.utc(2009,t,1);e.push(n(i))}return e}function Yc(n){const e=[];for(let t=1;t<=7;t++){const i=Ee.utc(2016,11,13+t);e.push(n(i))}return e}function Fi(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function Bc(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class Kc{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:l,...s}=i;if(!t||Object.keys(s).length>0){const o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=qc(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):ms(e,3);return tt(t,this.padTo)}}}class Zc{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const s=-1*(e.offset/60),o=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&fn.create(o).valid?(r=o,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const l={...this.opts};l.timeZone=l.timeZone||r,this.dtf=Br(t,l)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Jc{constructor(e,t,i){this.opts={style:"long",...i},!t&&Gu()&&(this.rtf=jc(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):hd(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const Gc={firstDay:1,minimalDays:4,weekend:[6,7]};class ze{static fromOpts(e){return ze.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,r,l=!1){const s=e||$e.defaultLocale,o=s||(l?"en-US":Vc()),a=t||$e.defaultNumberingSystem,u=i||$e.defaultOutputCalendar,f=Jr(r)||$e.defaultWeekSettings;return new ze(o,a,u,f,s)}static resetCache(){ci=null,Yr={},Kr={},Zr={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:r}={}){return ze.create(e,t,i,r)}constructor(e,t,i,r,l){const[s,o,a]=Hc(e);this.locale=s,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.weekSettings=r,this.intl=Uc(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=l,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Bc(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ze.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Jr(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Fi(this,e,ef,()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=zc(l=>this.extract(l,i,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return Fi(this,e,rf,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=Yc(l=>this.extract(l,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Fi(this,void 0,()=>sf,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ee.utc(2016,11,13,9),Ee.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Fi(this,e,lf,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ee.utc(-40,1,1),Ee.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),l=r.formatToParts(),s=l.find(o=>o.type.toLowerCase()===i);return s?s.value:null}numberFormatter(e={}){return new Kc(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Zc(e,this.intl,t)}relFormatter(e={}){return new Jc(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Rc(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Qu()?Wc(this.locale):Gc}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Or=null;class Et extends Oi{static get utcInstance(){return Or===null&&(Or=new Et(0)),Or}static instance(e){return e===0?Et.utcInstance:new Et(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Et(_r(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${mi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${mi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return mi(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Qc extends Oi{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function yn(n,e){if(Oe(n)||n===null)return e;if(n instanceof Oi)return n;if(xc(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?hr.instance:t==="utc"||t==="gmt"?Et.utcInstance:Et.parseSpecifier(t)||fn.create(n)}else return In(n)?Et.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new Qc(n)}let Ws=()=>Date.now(),Hs="system",Us=null,zs=null,Ys=null,Bs=60,Ks,Zs=null;class $e{static get now(){return Ws}static set now(e){Ws=e}static set defaultZone(e){Hs=e}static get defaultZone(){return yn(Hs,hr.instance)}static get defaultLocale(){return Us}static set defaultLocale(e){Us=e}static get defaultNumberingSystem(){return zs}static set defaultNumberingSystem(e){zs=e}static get defaultOutputCalendar(){return Ys}static set defaultOutputCalendar(e){Ys=e}static get defaultWeekSettings(){return Zs}static set defaultWeekSettings(e){Zs=Jr(e)}static get twoDigitCutoffYear(){return Bs}static set twoDigitCutoffYear(e){Bs=e%100}static get throwOnInvalid(){return Ks}static set throwOnInvalid(e){Ks=e}static resetCaches(){ze.resetCache(),fn.resetCache()}}class Qt{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const zu=[0,31,59,90,120,151,181,212,243,273,304,334],Yu=[0,31,60,91,121,152,182,213,244,274,305,335];function Yt(n,e){return new Qt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function fs(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function Bu(n,e,t){return t+(Ei(n)?Yu:zu)[e-1]}function Ku(n,e){const t=Ei(n)?Yu:zu,i=t.findIndex(l=>l<e),r=e-t[i];return{month:i+1,day:r}}function cs(n,e){return(n-e+7)%7+1}function nr(n,e=4,t=1){const{year:i,month:r,day:l}=n,s=Bu(i,r,l),o=cs(fs(i,r,l),t);let a=Math.floor((s-o+14-e)/7),u;return a<1?(u=i-1,a=ki(u,e,t)):a>ki(i,e,t)?(u=i+1,a=1):u=i,{weekYear:u,weekNumber:a,weekday:o,...br(n)}}function Js(n,e=4,t=1){const{weekYear:i,weekNumber:r,weekday:l}=n,s=cs(fs(i,1,e),t),o=Zn(i);let a=r*7+l-s-7+e,u;a<1?(u=i-1,a+=Zn(u)):a>o?(u=i+1,a-=Zn(i)):u=i;const{month:f,day:c}=Ku(u,a);return{year:u,month:f,day:c,...br(n)}}function Er(n){const{year:e,month:t,day:i}=n,r=Bu(e,t,i);return{year:e,ordinal:r,...br(n)}}function Gs(n){const{year:e,ordinal:t}=n,{month:i,day:r}=Ku(e,t);return{year:e,month:i,day:r,...br(n)}}function Qs(n,e){if(!Oe(n.localWeekday)||!Oe(n.localWeekNumber)||!Oe(n.localWeekYear)){if(!Oe(n.weekday)||!Oe(n.weekNumber)||!Oe(n.weekYear))throw new Yn("Cannot mix locale-based week fields with ISO-based week fields");return Oe(n.localWeekday)||(n.weekday=n.localWeekday),Oe(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),Oe(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Xc(n,e=4,t=1){const i=pr(n.weekYear),r=Bt(n.weekNumber,1,ki(n.weekYear,e,t)),l=Bt(n.weekday,1,7);return i?r?l?!1:Yt("weekday",n.weekday):Yt("week",n.weekNumber):Yt("weekYear",n.weekYear)}function $c(n){const e=pr(n.year),t=Bt(n.ordinal,1,Zn(n.year));return e?t?!1:Yt("ordinal",n.ordinal):Yt("year",n.year)}function Zu(n){const e=pr(n.year),t=Bt(n.month,1,12),i=Bt(n.day,1,ir(n.year,n.month));return e?t?i?!1:Yt("day",n.day):Yt("month",n.month):Yt("year",n.year)}function Ju(n){const{hour:e,minute:t,second:i,millisecond:r}=n,l=Bt(e,0,23)||e===24&&t===0&&i===0&&r===0,s=Bt(t,0,59),o=Bt(i,0,59),a=Bt(r,0,999);return l?s?o?a?!1:Yt("millisecond",r):Yt("second",i):Yt("minute",t):Yt("hour",e)}function Oe(n){return typeof n>"u"}function In(n){return typeof n=="number"}function pr(n){return typeof n=="number"&&n%1===0}function xc(n){return typeof n=="string"}function ed(n){return Object.prototype.toString.call(n)==="[object Date]"}function Gu(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Qu(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function td(n){return Array.isArray(n)?n:[n]}function Xs(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const l=[e(r),r];return i&&t(i[0],l[0])===i[0]?i:l},null)[1]}function nd(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function $n(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Jr(n){if(n==null)return null;if(typeof n!="object")throw new Nt("Week settings must be an object");if(!Bt(n.firstDay,1,7)||!Bt(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!Bt(e,1,7)))throw new Nt("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function Bt(n,e,t){return pr(n)&&n>=e&&n<=t}function id(n,e){return n-e*Math.floor(n/e)}function tt(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function _n(n){if(!(Oe(n)||n===null||n===""))return parseInt(n,10)}function Sn(n){if(!(Oe(n)||n===null||n===""))return parseFloat(n)}function ds(n){if(!(Oe(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function ms(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function Ei(n){return n%4===0&&(n%100!==0||n%400===0)}function Zn(n){return Ei(n)?366:365}function ir(n,e){const t=id(e-1,12)+1,i=n+(e-t)/12;return t===2?Ei(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function gr(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function $s(n,e,t){return-cs(fs(n,1,e),t)+e-1}function ki(n,e=4,t=1){const i=$s(n,e,t),r=$s(n+1,e,t);return(Zn(n)-i+r)/7}function Gr(n){return n>99?n:n>$e.twoDigitCutoffYear?1900+n:2e3+n}function Xu(n,e,t,i=null){const r=new Date(n),l={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(l.timeZone=i);const s={timeZoneName:e,...l},o=new Intl.DateTimeFormat(t,s).formatToParts(r).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function _r(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function $u(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Nt(`Invalid unit value ${n}`);return e}function rr(n,e){const t={};for(const i in n)if($n(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=$u(r)}return t}function mi(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return`${r}${tt(t,2)}:${tt(i,2)}`;case"narrow":return`${r}${t}${i>0?`:${i}`:""}`;case"techie":return`${r}${tt(t,2)}${tt(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function br(n){return nd(n,["hour","minute","second","millisecond"])}const rd=["January","February","March","April","May","June","July","August","September","October","November","December"],xu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sd=["J","F","M","A","M","J","J","A","S","O","N","D"];function ef(n){switch(n){case"narrow":return[...sd];case"short":return[...xu];case"long":return[...rd];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const tf=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],nf=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ld=["M","T","W","T","F","S","S"];function rf(n){switch(n){case"narrow":return[...ld];case"short":return[...nf];case"long":return[...tf];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const sf=["AM","PM"],od=["Before Christ","Anno Domini"],ad=["BC","AD"],ud=["B","A"];function lf(n){switch(n){case"narrow":return[...ud];case"short":return[...ad];case"long":return[...od];default:return null}}function fd(n){return sf[n.hour<12?0:1]}function cd(n,e){return rf(e)[n.weekday-1]}function dd(n,e){return ef(e)[n.month-1]}function md(n,e){return lf(e)[n.year<0?0:1]}function hd(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},l=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&l){const c=n==="days";switch(e){case 1:return c?"tomorrow":`next ${r[n][0]}`;case-1:return c?"yesterday":`last ${r[n][0]}`;case 0:return c?"today":`this ${r[n][0]}`}}const s=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,u=r[n],f=i?a?u[1]:u[2]||u[1]:a?r[n][0]:n;return s?`${o} ${f} ago`:`in ${o} ${f}`}function xs(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const pd={D:tr,DD:Cu,DDD:Tu,DDDD:Du,t:Ou,tt:Eu,ttt:Mu,tttt:Iu,T:Nu,TT:Au,TTT:Lu,TTTT:Fu,f:Pu,ff:qu,fff:Vu,ffff:Hu,F:Ru,FF:ju,FFF:Wu,FFFF:Uu};class vt{static create(e,t={}){return new vt(e,t)}static parseFormat(e){let t=null,i="",r=!1;const l=[];for(let s=0;s<e.length;s++){const o=e.charAt(s);o==="'"?(i.length>0&&l.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||o===t?i+=o:(i.length>0&&l.push({literal:/^\s+$/.test(i),val:i}),i=o,t=o)}return i.length>0&&l.push({literal:r||/^\s+$/.test(i),val:i}),l}static macroTokenToFormatOpts(e){return pd[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return tt(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",l=(d,_)=>this.loc.extract(e,d,_),s=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>i?fd(e):l({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(d,_)=>i?dd(e,d):l(_?{month:d}:{month:d,day:"numeric"},"month"),u=(d,_)=>i?cd(e,d):l(_?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),f=d=>{const _=vt.macroTokenToFormatOpts(d);return _?this.formatWithSystemDefault(e,_):d},c=d=>i?md(e,d):l({era:d},"era"),m=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return r?l({day:"numeric"},"day"):this.num(e.day);case"dd":return r?l({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?l({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?l({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?l({month:"numeric"},"month"):this.num(e.month);case"MM":return r?l({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?l({year:"numeric"},"year"):this.num(e.year);case"yy":return r?l({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?l({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?l({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(d)}};return xs(vt.parseFormat(t),m)}formatDurationFromString(e,t){const i=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=a=>u=>{const f=i(u);return f?this.num(a.get(f),u.length):u},l=vt.parseFormat(t),s=l.reduce((a,{literal:u,val:f})=>u?a:a.concat(f),[]),o=e.shiftTo(...s.map(i).filter(a=>a));return xs(l,r(o))}}const of=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function xn(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function ei(...n){return e=>n.reduce(([t,i,r],l)=>{const[s,o,a]=l(e,r);return[{...t,...s},o||i,a]},[{},null,1]).slice(0,2)}function ti(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function af(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=_n(e[t+r]);return[i,null,t+r]}}const uf=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,gd=`(?:${uf.source}?(?:\\[(${of.source})\\])?)?`,hs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ff=RegExp(`${hs.source}${gd}`),ps=RegExp(`(?:T${ff.source})?`),_d=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,bd=/(\d{4})-?W(\d\d)(?:-?(\d))?/,yd=/(\d{4})-?(\d{3})/,wd=af("weekYear","weekNumber","weekDay"),kd=af("year","ordinal"),vd=/(\d{4})-(\d\d)-(\d\d)/,cf=RegExp(`${hs.source} ?(?:${uf.source}|(${of.source}))?`),Sd=RegExp(`(?: ${cf.source})?`);function Jn(n,e,t){const i=n[e];return Oe(i)?t:_n(i)}function Cd(n,e){return[{year:Jn(n,e),month:Jn(n,e+1,1),day:Jn(n,e+2,1)},null,e+3]}function ni(n,e){return[{hours:Jn(n,e,0),minutes:Jn(n,e+1,0),seconds:Jn(n,e+2,0),milliseconds:ds(n[e+3])},null,e+4]}function Mi(n,e){const t=!n[e]&&!n[e+1],i=_r(n[e+1],n[e+2]),r=t?null:Et.instance(i);return[{},r,e+3]}function Ii(n,e){const t=n[e]?fn.create(n[e]):null;return[{},t,e+1]}const Td=RegExp(`^T?${hs.source}$`),Dd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Od(n){const[e,t,i,r,l,s,o,a,u]=n,f=e[0]==="-",c=a&&a[0]==="-",m=(d,_=!1)=>d!==void 0&&(_||d&&f)?-d:d;return[{years:m(Sn(t)),months:m(Sn(i)),weeks:m(Sn(r)),days:m(Sn(l)),hours:m(Sn(s)),minutes:m(Sn(o)),seconds:m(Sn(a),a==="-0"),milliseconds:m(ds(u),c)}]}const Ed={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gs(n,e,t,i,r,l,s){const o={year:e.length===2?Gr(_n(e)):_n(e),month:xu.indexOf(t)+1,day:_n(i),hour:_n(r),minute:_n(l)};return s&&(o.second=_n(s)),n&&(o.weekday=n.length>3?tf.indexOf(n)+1:nf.indexOf(n)+1),o}const Md=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Id(n){const[,e,t,i,r,l,s,o,a,u,f,c]=n,m=gs(e,r,i,t,l,s,o);let d;return a?d=Ed[a]:u?d=0:d=_r(f,c),[m,new Et(d)]}function Nd(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Ad=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ld=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Fd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function el(n){const[,e,t,i,r,l,s,o]=n;return[gs(e,r,i,t,l,s,o),Et.utcInstance]}function Pd(n){const[,e,t,i,r,l,s,o]=n;return[gs(e,o,t,i,r,l,s),Et.utcInstance]}const Rd=xn(_d,ps),qd=xn(bd,ps),jd=xn(yd,ps),Vd=xn(ff),df=ei(Cd,ni,Mi,Ii),Wd=ei(wd,ni,Mi,Ii),Hd=ei(kd,ni,Mi,Ii),Ud=ei(ni,Mi,Ii);function zd(n){return ti(n,[Rd,df],[qd,Wd],[jd,Hd],[Vd,Ud])}function Yd(n){return ti(Nd(n),[Md,Id])}function Bd(n){return ti(n,[Ad,el],[Ld,el],[Fd,Pd])}function Kd(n){return ti(n,[Dd,Od])}const Zd=ei(ni);function Jd(n){return ti(n,[Td,Zd])}const Gd=xn(vd,Sd),Qd=xn(cf),Xd=ei(ni,Mi,Ii);function $d(n){return ti(n,[Gd,df],[Qd,Xd])}const tl="Invalid Duration",mf={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},xd={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...mf},Ut=146097/400,Hn=146097/4800,em={years:{quarters:4,months:12,weeks:Ut/7,days:Ut,hours:Ut*24,minutes:Ut*24*60,seconds:Ut*24*60*60,milliseconds:Ut*24*60*60*1e3},quarters:{months:3,weeks:Ut/28,days:Ut/4,hours:Ut*24/4,minutes:Ut*24*60/4,seconds:Ut*24*60*60/4,milliseconds:Ut*24*60*60*1e3/4},months:{weeks:Hn/7,days:Hn,hours:Hn*24,minutes:Hn*24*60,seconds:Hn*24*60*60,milliseconds:Hn*24*60*60*1e3},...mf},En=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],tm=En.slice(0).reverse();function gn(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Pe(i)}function hf(n,e){let t=e.milliseconds??0;for(const i of tm.slice(1))e[i]&&(t+=e[i]*n[i].milliseconds);return t}function nl(n,e){const t=hf(n,e)<0?-1:1;En.reduceRight((i,r)=>{if(Oe(e[r]))return i;if(i){const l=e[i]*t,s=n[r][i],o=Math.floor(l/s);e[r]+=o*t,e[i]-=o*s*t}return r},null),En.reduce((i,r)=>{if(Oe(e[r]))return i;if(i){const l=e[i]%1;e[i]-=l,e[r]+=l*n[i][r]}return r},null)}function nm(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class Pe{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?em:xd;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||ze.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Pe.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Nt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Pe({values:rr(e,Pe.normalizeUnit),loc:ze.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(In(e))return Pe.fromMillis(e);if(Pe.isDuration(e))return e;if(typeof e=="object")return Pe.fromObject(e);throw new Nt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=Kd(e);return i?Pe.fromObject(i,t):Pe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=Jd(e);return i?Pe.fromObject(i,t):Pe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Nt("need to specify a reason the Duration is invalid");const i=e instanceof Qt?e:new Qt(e,t);if($e.throwOnInvalid)throw new Mc(i);return new Pe({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Su(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?vt.create(this.loc,i).formatDurationFromString(this,e):tl}toHuman(e={}){if(!this.isValid)return tl;const t=En.map(i=>{const r=this.values[i];return Oe(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ms(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Ee.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?hf(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Pe.fromDurationLike(e),i={};for(const r of En)($n(t.values,r)||$n(this.values,r))&&(i[r]=t.get(r)+this.get(r));return gn(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Pe.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=$u(e(this.values[i],i));return gn(this,{values:t},!0)}get(e){return this[Pe.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...rr(e,Pe.normalizeUnit)};return gn(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return gn(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return nl(this.matrix,e),gn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=nm(this.normalize().shiftToAll().toObject());return gn(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>Pe.normalizeUnit(s));const t={},i={},r=this.toObject();let l;for(const s of En)if(e.indexOf(s)>=0){l=s;let o=0;for(const u in i)o+=this.matrix[u][s]*i[u],i[u]=0;In(r[s])&&(o+=r[s]);const a=Math.trunc(o);t[s]=a,i[s]=(o*1e3-a*1e3)/1e3}else In(r[s])&&(i[s]=r[s]);for(const s in i)i[s]!==0&&(t[l]+=s===l?i[s]:i[s]/this.matrix[l][s]);return nl(this.matrix,t),gn(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return gn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of En)if(!t(this.values[i],e.values[i]))return!1;return!0}}const Un="Invalid Interval";function im(n,e){return!n||!n.isValid?Qe.invalid("missing or invalid start"):!e||!e.isValid?Qe.invalid("missing or invalid end"):e<n?Qe.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class Qe{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Nt("need to specify a reason the Interval is invalid");const i=e instanceof Qt?e:new Qt(e,t);if($e.throwOnInvalid)throw new Ec(i);return new Qe({invalid:i})}static fromDateTimes(e,t){const i=fi(e),r=fi(t),l=im(i,r);return l??new Qe({start:i,end:r})}static after(e,t){const i=Pe.fromDurationLike(t),r=fi(e);return Qe.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Pe.fromDurationLike(t),r=fi(e);return Qe.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let l,s;try{l=Ee.fromISO(i,t),s=l.isValid}catch{s=!1}let o,a;try{o=Ee.fromISO(r,t),a=o.isValid}catch{a=!1}if(s&&a)return Qe.fromDateTimes(l,o);if(s){const u=Pe.fromISO(r,t);if(u.isValid)return Qe.after(l,u)}else if(a){const u=Pe.fromISO(i,t);if(u.isValid)return Qe.before(o,u)}}return Qe.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let r;return t!=null&&t.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,t),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?Qe.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(fi).filter(s=>this.contains(s)).sort((s,o)=>s.toMillis()-o.toMillis()),i=[];let{s:r}=this,l=0;for(;r<this.e;){const s=t[l]||this.e,o=+s>+this.e?this.e:s;i.push(Qe.fromDateTimes(r,o)),r=o,l+=1}return i}splitBy(e){const t=Pe.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,l;const s=[];for(;i<this.e;){const o=this.start.plus(t.mapUnits(a=>a*r));l=+o>+this.e?this.e:o,s.push(Qe.fromDateTimes(i,l)),i=l,r+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:Qe.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return Qe.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,l)=>r.s-l.s).reduce(([r,l],s)=>l?l.overlaps(s)||l.abutsStart(s)?[r,l.union(s)]:[r.concat([l]),s]:[r,s],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],l=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),s=Array.prototype.concat(...l),o=s.sort((a,u)=>a.time-u.time);for(const a of o)i+=a.type==="s"?1:-1,i===1?t=a.time:(t&&+t!=+a.time&&r.push(Qe.fromDateTimes(t,a.time)),t=null);return Qe.merge(r)}difference(...e){return Qe.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Un}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=tr,t={}){return this.isValid?vt.create(this.s.loc.clone(t),e).formatInterval(this):Un}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Un}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Un}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Un}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Un}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Pe.invalid(this.invalidReason)}mapEndpoints(e){return Qe.fromDateTimes(e(this.s),e(this.e))}}class Pi{static hasDST(e=$e.defaultZone){const t=Ee.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return fn.isValidZone(e)}static normalizeZone(e){return yn(e,$e.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||ze.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||ze.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||ze.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:l="gregory"}={}){return(r||ze.create(t,i,l)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:l="gregory"}={}){return(r||ze.create(t,i,l)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||ze.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||ze.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ze.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ze.create(t,null,"gregory").eras(e)}static features(){return{relative:Gu(),localeWeek:Qu()}}}function il(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(Pe.fromMillis(i).as("days"))}function rm(n,e,t){const i=[["years",(a,u)=>u.year-a.year],["quarters",(a,u)=>u.quarter-a.quarter+(u.year-a.year)*4],["months",(a,u)=>u.month-a.month+(u.year-a.year)*12],["weeks",(a,u)=>{const f=il(a,u);return(f-f%7)/7}],["days",il]],r={},l=n;let s,o;for(const[a,u]of i)t.indexOf(a)>=0&&(s=a,r[a]=u(n,e),o=l.plus(r),o>e?(r[a]--,n=l.plus(r),n>e&&(o=n,r[a]--,n=l.plus(r))):n=o);return[n,r,o,s]}function sm(n,e,t,i){let[r,l,s,o]=rm(n,e,t);const a=e-r,u=t.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(s<e&&(s=r.plus({[o]:1})),s!==r&&(l[o]=(l[o]||0)+a/(s-r)));const f=Pe.fromObject(l,i);return u.length>0?Pe.fromMillis(a,i).shiftTo(...u).plus(f):f}const _s={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},rl={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},lm=_s.hanidec.replace(/[\[|\]]/g,"").split("");function om(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(_s.hanidec)!==-1)e+=lm.indexOf(n[t]);else for(const r in rl){const[l,s]=rl[r];i>=l&&i<=s&&(e+=i-l)}}return parseInt(e,10)}else return e}function Jt({numberingSystem:n},e=""){return new RegExp(`${_s[n||"latn"]}${e}`)}const am="missing Intl.DateTimeFormat.formatToParts support";function je(n,e=t=>t){return{regex:n,deser:([t])=>e(om(t))}}const um=" ",pf=`[ ${um}]`,gf=new RegExp(pf,"g");function fm(n){return n.replace(/\./g,"\\.?").replace(gf,pf)}function sl(n){return n.replace(/\./g,"").replace(gf," ").toLowerCase()}function Gt(n,e){return n===null?null:{regex:RegExp(n.map(fm).join("|")),deser:([t])=>n.findIndex(i=>sl(t)===sl(i))+e}}function ll(n,e){return{regex:n,deser:([,t,i])=>_r(t,i),groups:e}}function Ri(n){return{regex:n,deser:([e])=>e}}function cm(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function dm(n,e){const t=Jt(e),i=Jt(e,"{2}"),r=Jt(e,"{3}"),l=Jt(e,"{4}"),s=Jt(e,"{6}"),o=Jt(e,"{1,2}"),a=Jt(e,"{1,3}"),u=Jt(e,"{1,6}"),f=Jt(e,"{1,9}"),c=Jt(e,"{2,4}"),m=Jt(e,"{4,6}"),d=b=>({regex:RegExp(cm(b.val)),deser:([g])=>g,literal:!0}),p=(b=>{if(n.literal)return d(b);switch(b.val){case"G":return Gt(e.eras("short"),0);case"GG":return Gt(e.eras("long"),0);case"y":return je(u);case"yy":return je(c,Gr);case"yyyy":return je(l);case"yyyyy":return je(m);case"yyyyyy":return je(s);case"M":return je(o);case"MM":return je(i);case"MMM":return Gt(e.months("short",!0),1);case"MMMM":return Gt(e.months("long",!0),1);case"L":return je(o);case"LL":return je(i);case"LLL":return Gt(e.months("short",!1),1);case"LLLL":return Gt(e.months("long",!1),1);case"d":return je(o);case"dd":return je(i);case"o":return je(a);case"ooo":return je(r);case"HH":return je(i);case"H":return je(o);case"hh":return je(i);case"h":return je(o);case"mm":return je(i);case"m":return je(o);case"q":return je(o);case"qq":return je(i);case"s":return je(o);case"ss":return je(i);case"S":return je(a);case"SSS":return je(r);case"u":return Ri(f);case"uu":return Ri(o);case"uuu":return je(t);case"a":return Gt(e.meridiems(),0);case"kkkk":return je(l);case"kk":return je(c,Gr);case"W":return je(o);case"WW":return je(i);case"E":case"c":return je(t);case"EEE":return Gt(e.weekdays("short",!1),1);case"EEEE":return Gt(e.weekdays("long",!1),1);case"ccc":return Gt(e.weekdays("short",!0),1);case"cccc":return Gt(e.weekdays("long",!0),1);case"Z":case"ZZ":return ll(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return ll(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return Ri(/[a-z_+-/]{1,256}?/i);case" ":return Ri(/[^\S\n\r]/);default:return d(b)}})(n)||{invalidReason:am};return p.token=n,p}const mm={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function hm(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const a=/^\s+$/.test(r);return{literal:!a,val:a?" ":r}}const l=e[i];let s=i;i==="hour"&&(e.hour12!=null?s=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?s="hour12":s="hour24":s=t.hour12?"hour12":"hour24");let o=mm[s];if(typeof o=="object"&&(o=o[l]),o)return{literal:!1,val:o}}function pm(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}function gm(n,e,t){const i=n.match(e);if(i){const r={};let l=1;for(const s in t)if($n(t,s)){const o=t[s],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(r[o.token.val[0]]=o.deser(i.slice(l,l+a))),l+=a}return[i,r]}else return[i,{}]}function _m(n){const e=l=>{switch(l){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return Oe(n.z)||(t=fn.create(n.z)),Oe(n.Z)||(t||(t=new Et(n.Z)),i=n.Z),Oe(n.q)||(n.M=(n.q-1)*3+1),Oe(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Oe(n.u)||(n.S=ds(n.u)),[Object.keys(n).reduce((l,s)=>{const o=e(s);return o&&(l[o]=n[s]),l},{}),t,i]}let Mr=null;function bm(){return Mr||(Mr=Ee.fromMillis(1555555555555)),Mr}function ym(n,e){if(n.literal)return n;const t=vt.macroTokenToFormatOpts(n.val),i=yf(t,e);return i==null||i.includes(void 0)?n:i}function _f(n,e){return Array.prototype.concat(...n.map(t=>ym(t,e)))}function bf(n,e,t){const i=_f(vt.parseFormat(t),n),r=i.map(s=>dm(s,n)),l=r.find(s=>s.invalidReason);if(l)return{input:e,tokens:i,invalidReason:l.invalidReason};{const[s,o]=pm(r),a=RegExp(s,"i"),[u,f]=gm(e,a,o),[c,m,d]=f?_m(f):[null,null,void 0];if($n(f,"a")&&$n(f,"H"))throw new Yn("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:a,rawMatches:u,matches:f,result:c,zone:m,specificOffset:d}}}function wm(n,e,t){const{result:i,zone:r,specificOffset:l,invalidReason:s}=bf(n,e,t);return[i,r,l,s]}function yf(n,e){if(!n)return null;const i=vt.create(e,n).dtFormatter(bm()),r=i.formatToParts(),l=i.resolvedOptions();return r.map(s=>hm(s,n,l))}const Ir="Invalid DateTime",ol=864e13;function qi(n){return new Qt("unsupported zone",`the zone "${n.name}" is not supported`)}function Nr(n){return n.weekData===null&&(n.weekData=nr(n.c)),n.weekData}function Ar(n){return n.localWeekData===null&&(n.localWeekData=nr(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function Cn(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Ee({...t,...e,old:t})}function wf(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const l=t.offset(i);return r===l?[i,r]:[n-Math.min(r,l)*60*1e3,Math.max(r,l)]}function ji(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Gi(n,e,t){return wf(gr(n),e,t)}function al(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,l={...n.c,year:i,month:r,day:Math.min(n.c.day,ir(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},s=Pe.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=gr(l);let[a,u]=wf(o,t,n.zone);return s!==0&&(a+=s,u=n.zone.offset(a)),{ts:a,o:u}}function ui(n,e,t,i,r,l){const{setZone:s,zone:o}=t;if(n&&Object.keys(n).length!==0||e){const a=e||o,u=Ee.fromObject(n,{...t,zone:a,specificOffset:l});return s?u:u.setZone(o)}else return Ee.invalid(new Qt("unparsable",`the input "${r}" can't be parsed as ${i}`))}function Vi(n,e,t=!0){return n.isValid?vt.create(ze.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Lr(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=tt(n.c.year,t?6:4),e?(i+="-",i+=tt(n.c.month),i+="-",i+=tt(n.c.day)):(i+=tt(n.c.month),i+=tt(n.c.day)),i}function ul(n,e,t,i,r,l){let s=tt(n.c.hour);return e?(s+=":",s+=tt(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(s+=":")):s+=tt(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(s+=tt(n.c.second),(n.c.millisecond!==0||!i)&&(s+=".",s+=tt(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!l?s+="Z":n.o<0?(s+="-",s+=tt(Math.trunc(-n.o/60)),s+=":",s+=tt(Math.trunc(-n.o%60))):(s+="+",s+=tt(Math.trunc(n.o/60)),s+=":",s+=tt(Math.trunc(n.o%60)))),l&&(s+="["+n.zone.ianaName+"]"),s}const kf={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},km={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},vm={ordinal:1,hour:0,minute:0,second:0,millisecond:0},vf=["year","month","day","hour","minute","second","millisecond"],Sm=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Cm=["year","ordinal","hour","minute","second","millisecond"];function Tm(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Su(n);return e}function fl(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Tm(n)}}function cl(n,e){const t=yn(e.zone,$e.defaultZone),i=ze.fromObject(e),r=$e.now();let l,s;if(Oe(n.year))l=r;else{for(const u of vf)Oe(n[u])&&(n[u]=kf[u]);const o=Zu(n)||Ju(n);if(o)return Ee.invalid(o);const a=t.offset(r);[l,s]=Gi(n,a,t)}return new Ee({ts:l,zone:t,loc:i,o:s})}function dl(n,e,t){const i=Oe(t.round)?!0:t.round,r=(s,o)=>(s=ms(s,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(s,o)),l=s=>t.calendary?e.hasSame(n,s)?0:e.startOf(s).diff(n.startOf(s),s).get(s):e.diff(n,s).get(s);if(t.unit)return r(l(t.unit),t.unit);for(const s of t.units){const o=l(s);if(Math.abs(o)>=1)return r(o,s)}return r(n>e?-0:0,t.units[t.units.length-1])}function ml(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class Ee{constructor(e){const t=e.zone||$e.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Qt("invalid input"):null)||(t.isValid?null:qi(t));this.ts=Oe(e.ts)?$e.now():e.ts;let r=null,l=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,l]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);r=ji(this.ts,o),i=Number.isNaN(r.year)?new Qt("invalid input"):null,r=i?null:r,l=i?null:o}this._zone=t,this.loc=e.loc||ze.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=l,this.isLuxonDateTime=!0}static now(){return new Ee({})}static local(){const[e,t]=ml(arguments),[i,r,l,s,o,a,u]=t;return cl({year:i,month:r,day:l,hour:s,minute:o,second:a,millisecond:u},e)}static utc(){const[e,t]=ml(arguments),[i,r,l,s,o,a,u]=t;return e.zone=Et.utcInstance,cl({year:i,month:r,day:l,hour:s,minute:o,second:a,millisecond:u},e)}static fromJSDate(e,t={}){const i=ed(e)?e.valueOf():NaN;if(Number.isNaN(i))return Ee.invalid("invalid input");const r=yn(t.zone,$e.defaultZone);return r.isValid?new Ee({ts:i,zone:r,loc:ze.fromObject(t)}):Ee.invalid(qi(r))}static fromMillis(e,t={}){if(In(e))return e<-ol||e>ol?Ee.invalid("Timestamp out of range"):new Ee({ts:e,zone:yn(t.zone,$e.defaultZone),loc:ze.fromObject(t)});throw new Nt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(In(e))return new Ee({ts:e*1e3,zone:yn(t.zone,$e.defaultZone),loc:ze.fromObject(t)});throw new Nt("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=yn(t.zone,$e.defaultZone);if(!i.isValid)return Ee.invalid(qi(i));const r=ze.fromObject(t),l=rr(e,fl),{minDaysInFirstWeek:s,startOfWeek:o}=Qs(l,r),a=$e.now(),u=Oe(t.specificOffset)?i.offset(a):t.specificOffset,f=!Oe(l.ordinal),c=!Oe(l.year),m=!Oe(l.month)||!Oe(l.day),d=c||m,_=l.weekYear||l.weekNumber;if((d||f)&&_)throw new Yn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&f)throw new Yn("Can't mix ordinal dates with month/day");const p=_||l.weekday&&!d;let b,g,y=ji(a,u);p?(b=Sm,g=km,y=nr(y,s,o)):f?(b=Cm,g=vm,y=Er(y)):(b=vf,g=kf);let T=!1;for(const P of b){const W=l[P];Oe(W)?T?l[P]=g[P]:l[P]=y[P]:T=!0}const k=p?Xc(l,s,o):f?$c(l):Zu(l),E=k||Ju(l);if(E)return Ee.invalid(E);const F=p?Js(l,s,o):f?Gs(l):l,[L,I]=Gi(F,u,i),R=new Ee({ts:L,zone:i,o:I,loc:r});return l.weekday&&d&&e.weekday!==R.weekday?Ee.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${R.toISO()}`):R}static fromISO(e,t={}){const[i,r]=zd(e);return ui(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=Yd(e);return ui(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=Bd(e);return ui(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(Oe(e)||Oe(t))throw new Nt("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:l=null}=i,s=ze.fromOpts({locale:r,numberingSystem:l,defaultToEN:!0}),[o,a,u,f]=wm(s,e,t);return f?Ee.invalid(f):ui(o,a,i,`format ${t}`,e,u)}static fromString(e,t,i={}){return Ee.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=$d(e);return ui(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Nt("need to specify a reason the DateTime is invalid");const i=e instanceof Qt?e:new Qt(e,t);if($e.throwOnInvalid)throw new Oc(i);return new Ee({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=yf(e,ze.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return _f(vt.parseFormat(e),ze.fromObject(t)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Nr(this).weekYear:NaN}get weekNumber(){return this.isValid?Nr(this).weekNumber:NaN}get weekday(){return this.isValid?Nr(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ar(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ar(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ar(this).weekYear:NaN}get ordinal(){return this.isValid?Er(this.c).ordinal:NaN}get monthShort(){return this.isValid?Pi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Pi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Pi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Pi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=gr(this.c),r=this.zone.offset(i-e),l=this.zone.offset(i+e),s=this.zone.offset(i-r*t),o=this.zone.offset(i-l*t);if(s===o)return[this];const a=i-s*t,u=i-o*t,f=ji(a,s),c=ji(u,o);return f.hour===c.hour&&f.minute===c.minute&&f.second===c.second&&f.millisecond===c.millisecond?[Cn(this,{ts:a}),Cn(this,{ts:u})]:[this]}get isInLeapYear(){return Ei(this.year)}get daysInMonth(){return ir(this.year,this.month)}get daysInYear(){return this.isValid?Zn(this.year):NaN}get weeksInWeekYear(){return this.isValid?ki(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ki(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=vt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(Et.instance(e),t)}toLocal(){return this.setZone($e.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=yn(e,$e.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const l=e.offset(this.ts),s=this.toObject();[r]=Gi(s,l,e)}return Cn(this,{ts:r,zone:e})}else return Ee.invalid(qi(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return Cn(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=rr(e,fl),{minDaysInFirstWeek:i,startOfWeek:r}=Qs(t,this.loc),l=!Oe(t.weekYear)||!Oe(t.weekNumber)||!Oe(t.weekday),s=!Oe(t.ordinal),o=!Oe(t.year),a=!Oe(t.month)||!Oe(t.day),u=o||a,f=t.weekYear||t.weekNumber;if((u||s)&&f)throw new Yn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&s)throw new Yn("Can't mix ordinal dates with month/day");let c;l?c=Js({...nr(this.c,i,r),...t},i,r):Oe(t.ordinal)?(c={...this.toObject(),...t},Oe(t.day)&&(c.day=Math.min(ir(c.year,c.month),c.day))):c=Gs({...Er(this.c),...t});const[m,d]=Gi(c,this.o,this.zone);return Cn(this,{ts:m,o:d})}plus(e){if(!this.isValid)return this;const t=Pe.fromDurationLike(e);return Cn(this,al(this,t))}minus(e){if(!this.isValid)return this;const t=Pe.fromDurationLike(e).negate();return Cn(this,al(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},r=Pe.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(t){const l=this.loc.getStartOfWeek(),{weekday:s}=this;s<l&&(i.weekNumber=this.weekNumber-1),i.weekday=l}else i.weekday=1;if(r==="quarters"){const l=Math.ceil(this.month/3);i.month=(l-1)*3+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?vt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Ir}toLocaleString(e=tr,t={}){return this.isValid?vt.create(this.loc.clone(t),e).formatDateTime(this):Ir}toLocaleParts(e={}){return this.isValid?vt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:l=!1}={}){if(!this.isValid)return null;const s=e==="extended";let o=Lr(this,s);return o+="T",o+=ul(this,s,t,i,r,l),o}toISODate({format:e="extended"}={}){return this.isValid?Lr(this,e==="extended"):null}toISOWeekDate(){return Vi(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:l=!1,format:s="extended"}={}){return this.isValid?(r?"T":"")+ul(this,s==="extended",t,e,i,l):null}toRFC2822(){return Vi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Vi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Lr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),Vi(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ir}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Pe.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},l=td(t).map(Pe.normalizeUnit),s=e.valueOf()>this.valueOf(),o=s?this:e,a=s?e:this,u=sm(o,a,l,r);return s?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(Ee.now(),e,t)}until(e){return this.isValid?Qe.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const r=e.valueOf(),l=this.setZone(e.zone,{keepLocalTime:!0});return l.startOf(t,i)<=r&&r<=l.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Ee.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],l=e.unit;return Array.isArray(e.unit)&&(r=e.unit,l=void 0),dl(t,this.plus(i),{...e,numeric:"always",units:r,unit:l})}toRelativeCalendar(e={}){return this.isValid?dl(e.base||Ee.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ee.isDateTime))throw new Nt("min requires all arguments be DateTimes");return Xs(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Ee.isDateTime))throw new Nt("max requires all arguments be DateTimes");return Xs(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:l=null}=i,s=ze.fromOpts({locale:r,numberingSystem:l,defaultToEN:!0});return bf(s,e,t)}static fromStringExplain(e,t,i={}){return Ee.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return tr}static get DATE_MED(){return Cu}static get DATE_MED_WITH_WEEKDAY(){return Ic}static get DATE_FULL(){return Tu}static get DATE_HUGE(){return Du}static get TIME_SIMPLE(){return Ou}static get TIME_WITH_SECONDS(){return Eu}static get TIME_WITH_SHORT_OFFSET(){return Mu}static get TIME_WITH_LONG_OFFSET(){return Iu}static get TIME_24_SIMPLE(){return Nu}static get TIME_24_WITH_SECONDS(){return Au}static get TIME_24_WITH_SHORT_OFFSET(){return Lu}static get TIME_24_WITH_LONG_OFFSET(){return Fu}static get DATETIME_SHORT(){return Pu}static get DATETIME_SHORT_WITH_SECONDS(){return Ru}static get DATETIME_MED(){return qu}static get DATETIME_MED_WITH_SECONDS(){return ju}static get DATETIME_MED_WITH_WEEKDAY(){return Nc}static get DATETIME_FULL(){return Vu}static get DATETIME_FULL_WITH_SECONDS(){return Wu}static get DATETIME_HUGE(){return Hu}static get DATETIME_HUGE_WITH_SECONDS(){return Uu}}function fi(n){if(Ee.isDateTime(n))return n;if(n&&n.valueOf&&In(n.valueOf()))return Ee.fromJSDate(n);if(n&&typeof n=="object")return Ee.fromObject(n);throw new Nt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const Dm=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],Om=[".mp4",".avi",".mov",".3gp",".wmv"],Em=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],Mm=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];class A{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||A.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||(e==null?void 0:e.isContentEditable)}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return A.isInput(e)||t==="button"||t==="a"||t==="details"||(e==null?void 0:e.tabIndex)>=0}static hasNonEmptyProps(e){for(let t in e)if(!A.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!A.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t){e.splice(i,1);break}}static pushUnique(e,t){A.inArray(e,t)||e.push(t)}static findByKey(e,t,i){e=Array.isArray(e)?e:[];for(let r in e)if(e[r][t]==i)return e[r];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const i={};for(let r in e)i[e[r][t]]=i[e[r][t]]||[],i[e[r][t]].push(e[r]);return i}static removeByKey(e,t,i){for(let r in e)if(e[r][t]==i){e.splice(r,1);break}}static pushOrReplaceByKey(e,t,i="id"){for(let r=e.length-1;r>=0;r--)if(e[r][i]==t[i]){e[r]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const i={};for(const r of e)i[r[t]]=r;return Object.values(i)}static filterRedactedProps(e,t="******"){const i=JSON.parse(JSON.stringify(e||{}));for(let r in i)typeof i[r]=="object"&&i[r]!==null?i[r]=A.filterRedactedProps(i[r],t):i[r]===t&&delete i[r];return i}static getNestedVal(e,t,i=null,r="."){let l=e||{},s=(t||"").split(r);for(const o of s){if(!A.isObject(l)&&!Array.isArray(l)||typeof l[o]>"u")return i;l=l[o]}return l}static setByPath(e,t,i,r="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let l=e,s=t.split(r),o=s.pop();for(const a of s)(!A.isObject(l)&&!Array.isArray(l)||!A.isObject(l[a])&&!Array.isArray(l[a]))&&(l[a]={}),l=l[a];l[o]=i}static deleteByPath(e,t,i="."){let r=e||{},l=(t||"").split(i),s=l.pop();for(const o of l)(!A.isObject(r)&&!Array.isArray(r)||!A.isObject(r[o])&&!Array.isArray(r[o]))&&(r[o]={}),r=r[o];Array.isArray(r)?r.splice(s,1):A.isObject(r)&&delete r[s],l.length>0&&(Array.isArray(r)&&!r.length||A.isObject(r)&&!Object.keys(r).length)&&(Array.isArray(e)&&e.length>0||A.isObject(e)&&Object.keys(e).length>0)&&A.deleteByPath(e,l.join(i),i)}static randomString(e=10){let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}static randomSecret(e=15){if(typeof crypto>"u")return A.randomString(e);const t=new Uint8Array(e);crypto.getRandomValues(t);const i="-_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let r="";for(let l=0;l<e;l++)r+=i.charAt(t[l]%i.length);return r}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let i=e[e.length-1];i!=="."&&i!=="?"&&i!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,i=!0){return e=""+e,e.length<=t?e:e.substring(0,t)+(i?"...":"")}static truncateObject(e){const t={};for(let i in e){let r=e[i];typeof r=="string"&&(r=A.truncate(r,150,!0)),t[i]=r}return t}static slugify(e,t="_",i=[".","=","-"]){if(e==="")return"";const r={a:/а|à|á|å|â/gi,b:/б/gi,c:/ц|ç/gi,d:/д/gi,e:/е|è|é|ê|ẽ|ë/gi,f:/ф/gi,g:/г/gi,h:/х/gi,i:/й|и|ì|í|î/gi,j:/ж/gi,k:/к/gi,l:/л/gi,m:/м/gi,n:/н|ñ/gi,o:/о|ò|ó|ô|ø/gi,p:/п/gi,q:/я/gi,r:/р/gi,s:/с/gi,t:/т/gi,u:/ю|ù|ú|ů|û/gi,v:/в/gi,w:/в/gi,x:/ь/gi,y:/ъ/gi,z:/з/gi,ae:/ä|æ/gi,oe:/ö/gi,ue:/ü/gi,Ae:/Ä/gi,Ue:/Ü/gi,Oe:/Ö/gi,ss:/ß/gi,and:/&/gi};for(let l in r)e=e.replace(r[l],l);return e.replace(new RegExp("["+i.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const i=[],r=(e||"").replaceAll("\\"+t,"{_PB_ESCAPED_}").split(t).map(l=>l.replaceAll("{_PB_ESCAPED_}",t));for(let l of r)l=l.trim(),A.isEmpty(l)||i.push(l);return i}static joinNonEmpty(e,t=", "){e=e||[];const i=[],r=t.length>1?t.trim():t;for(let l of e)l=typeof l=="string"?l.trim():"",A.isEmpty(l)||i.push(l.replaceAll(r,"\\"+r));return i.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},i=t[e.length]||t[19];return Ee.fromFormat(e,i,{zone:"UTC"})}return Ee.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return A.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return A.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(i=>{console.warn("Failed to copy.",i)})}static download(e,t){const i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",t),i.setAttribute("target","_blank"),i.click(),i.remove()}static downloadJson(e,t){t=t.endsWith(".json")?t:t+".json";const i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(i);A.download(r,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const i=decodeURIComponent(atob(t));return JSON.parse(i)||{}}catch(i){console.warn("Failed to parse JWT payload data.",i)}return{}}static hasImageExtension(e){return e=e||"",!!Dm.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return e=e||"",!!Om.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return e=e||"",!!Em.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return e=e||"",!!Mm.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return A.hasImageExtension(e)?"image":A.hasDocumentExtension(e)?"document":A.hasVideoExtension(e)?"video":A.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,i=100){return new Promise(r=>{let l=new FileReader;l.onload=function(s){let o=new Image;o.onload=function(){let a=document.createElement("canvas"),u=a.getContext("2d"),f=o.width,c=o.height;return a.width=t,a.height=i,u.drawImage(o,f>c?(f-c)/2:0,0,f>c?c:f,f>c?c:f,0,0,t,i),r(a.toDataURL(e.type))},o.src=s.target.result},l.readAsDataURL(e)})}static addValueToFormData(e,t,i){if(!(typeof i>"u"))if(A.isEmpty(i))e.append(t,"");else if(Array.isArray(i))for(const r of i)A.addValueToFormData(e,t,r);else i instanceof File?e.append(t,i):i instanceof Date?e.append(t,i.toISOString()):A.isObject(i)?e.append(t,JSON.stringify(i)):e.append(t,""+i)}static dummyCollectionRecord(e){var a,u,f,c,m,d,_;const t=(e==null?void 0:e.schema)||[],i=(e==null?void 0:e.type)==="auth",r=(e==null?void 0:e.type)==="view",l={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};i&&(l.username="username123",l.verified=!1,l.emailVisibility=!0,l.email="test@example.com"),(!r||A.extractColumnsFromQuery((a=e==null?void 0:e.options)==null?void 0:a.query).includes("created"))&&(l.created="2022-01-01 01:00:00.123Z"),(!r||A.extractColumnsFromQuery((u=e==null?void 0:e.options)==null?void 0:u.query).includes("updated"))&&(l.updated="2022-01-01 23:59:59.456Z");for(const p of t){let b=null;p.type==="number"?b=123:p.type==="date"?b="2022-01-01 10:00:00.123Z":p.type==="bool"?b=!0:p.type==="email"?b="test@example.com":p.type==="url"?b="https://example.com":p.type==="json"?b="JSON":p.type==="file"?(b="filename.jpg",((f=p.options)==null?void 0:f.maxSelect)!==1&&(b=[b])):p.type==="select"?(b=(m=(c=p.options)==null?void 0:c.values)==null?void 0:m[0],((d=p.options)==null?void 0:d.maxSelect)!==1&&(b=[b])):p.type==="relation"?(b="RELATION_RECORD_ID",((_=p.options)==null?void 0:_.maxSelect)!==1&&(b=[b])):b="test",l[p.name]=b}return l}static dummyCollectionSchemaData(e){var r,l,s,o;const t=(e==null?void 0:e.schema)||[],i={};for(const a of t){let u=null;if(a.type==="number")u=123;else if(a.type==="date")u="2022-01-01 10:00:00.123Z";else if(a.type==="bool")u=!0;else if(a.type==="email")u="test@example.com";else if(a.type==="url")u="https://example.com";else if(a.type==="json")u="JSON";else{if(a.type==="file")continue;a.type==="select"?(u=(l=(r=a.options)==null?void 0:r.values)==null?void 0:l[0],((s=a.options)==null?void 0:s.maxSelect)!==1&&(u=[u])):a.type==="relation"?(u="RELATION_RECORD_ID",((o=a.options)==null?void 0:o.maxSelect)!==1&&(u=[u])):u="test"}i[a.name]=u}return i}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,i=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let u in e)if(u!=="schema"&&JSON.stringify(e[u])!==JSON.stringify(t[u]))return!0;const r=Array.isArray(e.schema)?e.schema:[],l=Array.isArray(t.schema)?t.schema:[],s=r.filter(u=>(u==null?void 0:u.id)&&!A.findByKey(l,"id",u.id)),o=l.filter(u=>(u==null?void 0:u.id)&&!A.findByKey(r,"id",u.id)),a=l.filter(u=>{const f=A.isObject(u)&&A.findByKey(r,"id",u.id);if(!f)return!1;for(let c in f)if(JSON.stringify(u[c])!=JSON.stringify(f[c]))return!0;return!1});return!!(o.length||a.length||i&&s.length)}static sortCollections(e=[]){const t=[],i=[],r=[];for(const s of e)s.type==="auth"?t.push(s):s.type==="base"?i.push(s):r.push(s);function l(s,o){return s.name>o.name?1:s.name<o.name?-1:0}return[].concat(t.sort(l),i.sort(l),r.sort(l))}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){const e=["DIV","P","A","EM","B","STRONG","H1","H2","H3","H4","H5","H6","TABLE","TR","TD","TH","TBODY","THEAD","TFOOT","BR","HR","Q","SUP","SUB","DEL","IMG","OL","UL","LI","CODE"];function t(r){let l=r.parentNode;for(;r.firstChild;)l.insertBefore(r.firstChild,r);l.removeChild(r)}function i(r){if(r){for(const l of r.children)i(l);e.includes(r.tagName)?(r.removeAttribute("style"),r.removeAttribute("class")):t(r)}}return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],codesample_global_prismjs:!0,codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"CSS",value:"css"},{text:"SQL",value:"sql"},{text:"JavaScript",value:"javascript"},{text:"Go",value:"go"},{text:"Dart",value:"dart"},{text:"Zig",value:"zig"},{text:"Rust",value:"rust"},{text:"Lua",value:"lua"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"},{text:"Markdown",value:"markdown"},{text:"Swift",value:"swift"},{text:"Kotlin",value:"kotlin"},{text:"Elixir",value:"elixir"},{text:"Scala",value:"scala"},{text:"Julia",value:"julia"},{text:"Haskell",value:"haskell"}],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image_picker table codesample direction | code fullscreen",paste_postprocess:(r,l)=>{i(l.node)},file_picker_types:"image",file_picker_callback:(r,l,s)=>{const o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.addEventListener("change",a=>{const u=a.target.files[0],f=new FileReader;f.addEventListener("load",()=>{if(!tinymce)return;const c="blobid"+new Date().getTime(),m=tinymce.activeEditor.editorUpload.blobCache,d=f.result.split(",")[1],_=m.create(c,u,d);m.add(_),r(_.blobUri(),{title:u.name})}),f.readAsDataURL(u)}),o.click()},setup:r=>{r.on("keydown",s=>{(s.ctrlKey||s.metaKey)&&s.code=="KeyS"&&r.formElement&&(s.preventDefault(),s.stopPropagation(),r.formElement.dispatchEvent(new KeyboardEvent("keydown",s)))});const l="tinymce_last_direction";r.on("init",()=>{var o;const s=(o=window==null?void 0:window.localStorage)==null?void 0:o.getItem(l);!r.isDirty()&&r.getContent()==""&&s=="rtl"&&r.execCommand("mceDirectionRTL")}),r.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:s=>{s([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(l,"ltr"),r.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var a;(a=window==null?void 0:window.localStorage)==null||a.setItem(l,"rtl"),r.execCommand("mceDirectionRTL")}}])}}),r.ui.registry.addMenuButton("image_picker",{icon:"image",fetch:s=>{s([{type:"menuitem",text:"From collection",icon:"gallery",onAction:()=>{r.dispatch("collections_file_picker",{})}},{type:"menuitem",text:"Inline",icon:"browse",onAction:()=>{r.execCommand("mceImage")}}])}})}}}static displayValue(e,t,i="N/A"){e=e||{},t=t||[];let r=[];for(const s of t){let o=e[s];typeof o>"u"||(o=A.stringifyValue(o,i),r.push(o))}if(r.length>0)return r.join(", ");const l=["title","name","slug","email","username","nickname","label","heading","message","key","identifier","id"];for(const s of l){let o=A.stringifyValue(e[s],"");if(o)return o}return i}static stringifyValue(e,t="N/A",i=150){if(A.isEmpty(e))return t;if(typeof e=="number")return""+e;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?A.plainText(e):e,A.truncate(e,i)||t;if(Array.isArray(e)&&typeof e[0]!="object")return A.truncate(e.join(","),i);if(typeof e=="object")try{return A.truncate(JSON.stringify(e),i)||t}catch{return t}return e}static extractColumnsFromQuery(e){var s;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const i=e.match(/select\s+([\s\S]+)\s+from/),r=((s=i==null?void 0:i[1])==null?void 0:s.split(","))||[],l=[];for(let o of r){const a=o.trim().split(" ").pop();a!=""&&a!=t&&l.push(a.replace(/[\'\"\`\[\]\s]/g,""))}return l}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let i=[t+"id"];if(e.type==="view")for(let l of A.extractColumnsFromQuery(e.options.query))A.pushUnique(i,t+l);else e.type==="auth"?(i.push(t+"username"),i.push(t+"email"),i.push(t+"emailVisibility"),i.push(t+"verified"),i.push(t+"created"),i.push(t+"updated")):(i.push(t+"created"),i.push(t+"updated"));const r=e.schema||[];for(const l of r)A.pushUnique(i,t+l.name);return i}static getCollectionAutocompleteKeys(e,t,i="",r=0){var o,a,u;let l=e.find(f=>f.name==t||f.id==t);if(!l||r>=4)return[];l.schema=l.schema||[];let s=A.getAllCollectionIdentifiers(l,i);for(const f of l.schema){const c=i+f.name;if(f.type=="relation"&&((o=f.options)!=null&&o.collectionId)){const m=A.getCollectionAutocompleteKeys(e,f.options.collectionId,c+".",r+1);m.length&&(s=s.concat(m))}((a=f.options)==null?void 0:a.maxSelect)!=1&&["select","file","relation"].includes(f.type)&&(s.push(c+":each"),s.push(c+":length"))}for(const f of e){f.schema=f.schema||[];for(const c of f.schema)if(c.type=="relation"&&((u=c.options)==null?void 0:u.collectionId)==l.id){const m=i+f.name+"_via_"+c.name,d=A.getCollectionAutocompleteKeys(e,f.id,m+".",r+2);d.length&&(s=s.concat(d))}}return s}static getCollectionJoinAutocompleteKeys(e){const t=[];for(const i of e){const r="@collection."+i.name+".",l=A.getCollectionAutocompleteKeys(e,i.name,r);for(const s of l)t.push(s)}return t}static getRequestAutocompleteKeys(e,t){const i=[];i.push("@request.context"),i.push("@request.method"),i.push("@request.query."),i.push("@request.data."),i.push("@request.headers."),i.push("@request.auth.id"),i.push("@request.auth.collectionId"),i.push("@request.auth.collectionName"),i.push("@request.auth.verified"),i.push("@request.auth.username"),i.push("@request.auth.email"),i.push("@request.auth.emailVisibility"),i.push("@request.auth.created"),i.push("@request.auth.updated");const r=e.filter(l=>l.type==="auth");for(const l of r){const s=A.getCollectionAutocompleteKeys(e,l.id,"@request.auth.");for(const o of s)A.pushUnique(i,o)}if(t){const l=["created","updated"],s=A.getCollectionAutocompleteKeys(e,t,"@request.data.");for(const o of s){i.push(o);const a=o.split(".");a.length===3&&a[2].indexOf(":")===-1&&!l.includes(a[2])&&i.push(o+":isset")}}return i}static parseIndex(e){var a,u,f,c,m;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},r=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s*\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gim.exec((e||"").trim());if((r==null?void 0:r.length)!=7)return t;const l=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((a=r[1])==null?void 0:a.trim().toLowerCase())==="unique",t.optional=!A.isEmpty((u=r[2])==null?void 0:u.trim());const s=(r[3]||"").split(".");s.length==2?(t.schemaName=s[0].replace(l,""),t.indexName=s[1].replace(l,"")):(t.schemaName="",t.indexName=s[0].replace(l,"")),t.tableName=(r[4]||"").replace(l,"");const o=(r[5]||"").replace(/,(?=[^\(]*\))/gim,"{PB_TEMP}").split(",");for(let d of o){d=d.trim().replaceAll("{PB_TEMP}",",");const p=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gim.exec(d);if((p==null?void 0:p.length)!=4)continue;const b=(c=(f=p[1])==null?void 0:f.trim())==null?void 0:c.replace(l,"");b&&t.columns.push({name:b,collate:p[2]||"",sort:((m=p[3])==null?void 0:m.toUpperCase())||""})}return t.where=r[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+A.randomString(7)}\` `,t+=`ON \`${e.tableName}\` (`;const i=e.columns.filter(r=>!!(r!=null&&r.name));return i.length>1&&(t+=`
  `),t+=i.map(r=>{let l="";return r.name.includes("(")||r.name.includes(" ")?l+=r.name:l+="`"+r.name+"`",r.collate&&(l+=" COLLATE "+r.collate),r.sort&&(l+=" "+r.sort.toUpperCase()),l}).join(`,
  `),i.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const i=A.parseIndex(e);return i.tableName=t,A.buildIndex(i)}static replaceIndexColumn(e,t,i){if(t===i)return e;const r=A.parseIndex(e);let l=!1;for(let s of r.columns)s.name===t&&(s.name=i,l=!0);return l?A.buildIndex(r):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const i=["=","!=","~","!~",">",">=","<","<="];for(const r of i)if(e.includes(r))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(r=>`${r}~${e}`).join("||")}static normalizeLogsFilter(e,t=[]){return A.normalizeSearchFilter(e,["level","message","data"].concat(t))}static initCollection(e){return Object.assign({id:"",created:"",updated:"",name:"",type:"base",system:!1,listRule:null,viewRule:null,createRule:null,updateRule:null,deleteRule:null,schema:[],indexes:[],options:{}},e)}static initSchemaField(e){return Object.assign({id:"",name:"",type:"text",system:!1,required:!1,options:{}},e)}static triggerResize(){window.dispatchEvent(new Event("resize"))}static getHashQueryParams(){let e="";const t=window.location.hash.indexOf("?");return t>-1&&(e=window.location.hash.substring(t+1)),Object.fromEntries(new URLSearchParams(e))}static replaceHashQueryParams(e){e=e||{};let t="",i=window.location.hash;const r=i.indexOf("?");r>-1&&(t=i.substring(r+1),i=i.substring(0,r));const l=new URLSearchParams(t);for(let a in e){const u=e[a];u===null?l.delete(a):l.set(a,u)}t=l.toString(),t!=""&&(i+="?"+t);let s=window.location.href;const o=s.indexOf("#");o>-1&&(s=s.substring(0,o)),window.location.replace(s+i)}static replacePcmsPrefix(e){return e.replace("pcms_","")}}const Im=n=>({}),hl=n=>({}),Nm=n=>({}),pl=n=>({});function gl(n){let e,t,i,r,l,s,o,a,u,f,c,m,d,_,p,b,g,y,T=n[4]&&!n[2]&&_l(n);const k=n[19].header,E=ut(k,n,n[18],pl);let F=n[4]&&n[2]&&bl(n);const L=n[19].default,I=ut(L,n,n[18],null),R=n[19].footer,P=ut(R,n,n[18],hl);return{c(){e=w("div"),t=w("div"),r=q(),l=w("div"),s=w("div"),T&&T.c(),o=q(),E&&E.c(),a=q(),F&&F.c(),u=q(),f=w("div"),I&&I.c(),c=q(),m=w("div"),P&&P.c(),h(t,"class","overlay"),h(s,"class","overlay-panel-section panel-header"),h(f,"class","overlay-panel-section panel-content"),h(m,"class","overlay-panel-section panel-footer"),h(l,"class",d="overlay-panel "+n[1]+" "+n[8]),J(l,"popup",n[2]),h(e,"class","overlay-panel-container"),J(e,"padded",n[2]),J(e,"active",n[0])},m(W,K){S(W,e,K),C(e,t),C(e,r),C(e,l),C(l,s),T&&T.m(s,null),C(s,o),E&&E.m(s,null),C(s,a),F&&F.m(s,null),C(l,u),C(l,f),I&&I.m(f,null),n[21](f),C(l,c),C(l,m),P&&P.m(m,null),b=!0,g||(y=[ee(t,"click",Xe(n[20])),ee(f,"scroll",n[22])],g=!0)},p(W,K){n=W,n[4]&&!n[2]?T?(T.p(n,K),K[0]&20&&O(T,1)):(T=_l(n),T.c(),O(T,1),T.m(s,o)):T&&(ue(),N(T,1,1,()=>{T=null}),fe()),E&&E.p&&(!b||K[0]&262144)&&ct(E,k,n,n[18],b?ft(k,n[18],K,Nm):dt(n[18]),pl),n[4]&&n[2]?F?F.p(n,K):(F=bl(n),F.c(),F.m(s,null)):F&&(F.d(1),F=null),I&&I.p&&(!b||K[0]&262144)&&ct(I,L,n,n[18],b?ft(L,n[18],K,null):dt(n[18]),null),P&&P.p&&(!b||K[0]&262144)&&ct(P,R,n,n[18],b?ft(R,n[18],K,Im):dt(n[18]),hl),(!b||K[0]&258&&d!==(d="overlay-panel "+n[1]+" "+n[8]))&&h(l,"class",d),(!b||K[0]&262)&&J(l,"popup",n[2]),(!b||K[0]&4)&&J(e,"padded",n[2]),(!b||K[0]&1)&&J(e,"active",n[0])},i(W){b||(W&&ht(()=>{b&&(i||(i=mt(t,wi,{duration:bn,opacity:0},!0)),i.run(1))}),O(T),O(E,W),O(I,W),O(P,W),W&&ht(()=>{b&&(p&&p.end(1),_=_u(l,on,n[2]?{duration:bn,y:-10}:{duration:bn,x:50}),_.start())}),b=!0)},o(W){W&&(i||(i=mt(t,wi,{duration:bn,opacity:0},!1)),i.run(0)),N(T),N(E,W),N(I,W),N(P,W),_&&_.invalidate(),W&&(p=os(l,on,n[2]?{duration:bn,y:10}:{duration:bn,x:50})),b=!1},d(W){W&&v(e),W&&i&&i.end(),T&&T.d(),E&&E.d(W),F&&F.d(),I&&I.d(W),n[21](null),P&&P.d(W),W&&p&&p.end(),g=!1,De(y)}}}function _l(n){let e,t,i,r,l;return{c(){e=w("button"),e.innerHTML='<i class="ri-close-line" aria-hidden="true"></i>',h(e,"type","button"),h(e,"aria-label","Close"),h(e,"class","overlay-close")},m(s,o){S(s,e,o),i=!0,r||(l=ee(e,"click",Xe(n[5])),r=!0)},p(s,o){n=s},i(s){i||(s&&ht(()=>{i&&(t||(t=mt(e,wi,{duration:bn},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=mt(e,wi,{duration:bn},!1)),t.run(0)),i=!1},d(s){s&&v(e),s&&t&&t.end(),r=!1,l()}}}function bl(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<i class="ri-close-line txt-lg" aria-hidden="true"></i>',h(e,"type","button"),h(e,"aria-label","Close"),h(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(r,l){S(r,e,l),t||(i=ee(e,"click",Xe(n[5])),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function Am(n){let e,t,i,r,l=n[0]&&gl(n);return{c(){e=w("div"),l&&l.c(),h(e,"class","overlay-panel-wrapper"),h(e,"tabindex","-1")},m(s,o){S(s,e,o),l&&l.m(e,null),n[23](e),t=!0,i||(r=[ee(window,"resize",n[10]),ee(window,"keydown",n[9])],i=!0)},p(s,o){s[0]?l?(l.p(s,o),o[0]&1&&O(l,1)):(l=gl(s),l.c(),O(l,1),l.m(e,null)):l&&(ue(),N(l,1,1,()=>{l=null}),fe())},i(s){t||(O(l),t=!0)},o(s){N(l),t=!1},d(s){s&&v(e),l&&l.d(),n[23](null),i=!1,De(r)}}}let Tn,Fr=[];function Sf(){return Tn=Tn||document.querySelector(".overlays"),Tn||(Tn=document.createElement("div"),Tn.classList.add("overlays"),document.body.appendChild(Tn)),Tn}let bn=150;function yl(){return 1e3+Sf().querySelectorAll(".overlay-panel-container.active").length}function Lm(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:l=""}=e,{active:s=!1}=e,{popup:o=!1}=e,{overlayClose:a=!0}=e,{btnClose:u=!0}=e,{escClose:f=!0}=e,{beforeOpen:c=void 0}=e,{beforeHide:m=void 0}=e;const d=Ct(),_="op_"+A.randomString(10);let p,b,g,y,T="",k=s;function E(){typeof c=="function"&&c()===!1||t(0,s=!0)}function F(){typeof m=="function"&&m()===!1||t(0,s=!1)}function L(){return s}async function I(j){t(17,k=j),j?(g=document.activeElement,d("show"),p==null||p.focus()):(clearTimeout(y),d("hide"),g==null||g.focus()),await rn(),R()}function R(){p&&(s?t(6,p.style.zIndex=yl(),p):t(6,p.style="",p))}function P(){A.pushUnique(Fr,_),document.body.classList.add("overlay-active")}function W(){A.removeByValue(Fr,_),Fr.length||document.body.classList.remove("overlay-active")}function K(j){s&&f&&j.code=="Escape"&&!A.isInput(j.target)&&p&&p.style.zIndex==yl()&&(j.preventDefault(),F())}function U(j){s&&te(b)}function te(j,Me){Me&&t(8,T=""),!(!j||y)&&(y=setTimeout(()=>{if(clearTimeout(y),y=null,!j)return;if(j.scrollHeight-j.offsetHeight>0)t(8,T="scrollable");else{t(8,T="");return}j.scrollTop==0?t(8,T+=" scroll-top-reached"):j.scrollTop+j.offsetHeight==j.scrollHeight&&t(8,T+=" scroll-bottom-reached")},100))}Ft(()=>(Sf().appendChild(p),()=>{var j;clearTimeout(y),W(),(j=p==null?void 0:p.classList)==null||j.add("hidden"),setTimeout(()=>{p==null||p.remove()},0)}));const ne=()=>a?F():!0;function Y(j){oe[j?"unshift":"push"](()=>{b=j,t(7,b)})}const z=j=>te(j.target);function H(j){oe[j?"unshift":"push"](()=>{p=j,t(6,p)})}return n.$$set=j=>{"class"in j&&t(1,l=j.class),"active"in j&&t(0,s=j.active),"popup"in j&&t(2,o=j.popup),"overlayClose"in j&&t(3,a=j.overlayClose),"btnClose"in j&&t(4,u=j.btnClose),"escClose"in j&&t(12,f=j.escClose),"beforeOpen"in j&&t(13,c=j.beforeOpen),"beforeHide"in j&&t(14,m=j.beforeHide),"$$scope"in j&&t(18,r=j.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131073&&k!=s&&I(s),n.$$.dirty[0]&128&&te(b,!0),n.$$.dirty[0]&64&&p&&R(),n.$$.dirty[0]&1&&(s?P():W())},[s,l,o,a,u,F,p,b,T,K,U,te,f,c,m,E,L,k,r,i,ne,Y,z,H]}class yr extends ve{constructor(e){super(),ke(this,e,Lm,Am,ye,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}const bs=en({});function hi(n,e,t){bs.set({text:n,yesCallback:e,noCallback:t})}function Cf(){bs.set({})}function Fm(n){var r;let e,t=((r=n[1])==null?void 0:r.text)+"",i;return{c(){e=w("h4"),i=re(t),h(e,"class","block center txt-break"),h(e,"slot","header")},m(l,s){S(l,e,s),C(e,i)},p(l,s){var o;s&2&&t!==(t=((o=l[1])==null?void 0:o.text)+"")&&_e(i,t)},d(l){l&&v(e)}}}function Pm(n){let e,t,i,r,l,s,o;return{c(){e=w("button"),t=w("span"),t.textContent="No",i=q(),r=w("button"),l=w("span"),l.textContent="Yes",h(t,"class","txt"),e.autofocus=!0,h(e,"type","button"),h(e,"class","btn btn-transparent btn-expanded-sm"),e.disabled=n[2],h(l,"class","txt"),h(r,"type","button"),h(r,"class","btn btn-danger btn-expanded"),r.disabled=n[2],J(r,"btn-loading",n[2])},m(a,u){S(a,e,u),C(e,t),S(a,i,u),S(a,r,u),C(r,l),e.focus(),s||(o=[ee(e,"click",n[4]),ee(r,"click",n[5])],s=!0)},p(a,u){u&4&&(e.disabled=a[2]),u&4&&(r.disabled=a[2]),u&4&&J(r,"btn-loading",a[2])},d(a){a&&(v(e),v(i),v(r)),s=!1,De(o)}}}function Rm(n){let e,t,i={class:"confirm-popup hide-content overlay-panel-sm",overlayClose:!n[2],escClose:!n[2],btnClose:!1,popup:!0,$$slots:{footer:[Pm],header:[Fm]},$$scope:{ctx:n}};return e=new yr({props:i}),n[6](e),e.$on("hide",n[7]),{c(){$(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&4&&(s.overlayClose=!r[2]),l&4&&(s.escClose=!r[2]),l&271&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[6](null),X(e,r)}}}function qm(n,e,t){let i;Ke(n,bs,c=>t(1,i=c));let r,l=!1,s=!1;const o=()=>{t(3,s=!1),r==null||r.hide()},a=async()=>{i!=null&&i.yesCallback&&(t(2,l=!0),await Promise.resolve(i.yesCallback()),t(2,l=!1)),t(3,s=!0),r==null||r.hide()};function u(c){oe[c?"unshift":"push"](()=>{r=c,t(0,r)})}const f=async()=>{!s&&(i!=null&&i.noCallback)&&i.noCallback(),await rn(),t(3,s=!1),Cf()};return n.$$.update=()=>{n.$$.dirty&3&&i!=null&&i.text&&(t(3,s=!1),r==null||r.show())},[r,i,l,s,o,a,u,f]}class jm extends ve{constructor(e){super(),ke(this,e,qm,Rm,ye,{})}}class At extends Error{constructor(e){var t,i,r,l;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,At.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof At||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(l=(r=(i=this.originalError)==null?void 0:i.cause)==null?void 0:r.message)!=null&&l.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Wi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Vm(n,e){const t={};if(typeof n!="string")return t;const i=Object.assign({},e||{}).decode||Wm;let r=0;for(;r<n.length;){const l=n.indexOf("=",r);if(l===-1)break;let s=n.indexOf(";",r);if(s===-1)s=n.length;else if(s<l){r=n.lastIndexOf(";",l-1)+1;continue}const o=n.slice(r,l).trim();if(t[o]===void 0){let a=n.slice(l+1,s).trim();a.charCodeAt(0)===34&&(a=a.slice(1,-1));try{t[o]=i(a)}catch{t[o]=a}}r=s+1}return t}function wl(n,e,t){const i=Object.assign({},t||{}),r=i.encode||Hm;if(!Wi.test(n))throw new TypeError("argument name is invalid");const l=r(e);if(l&&!Wi.test(l))throw new TypeError("argument val is invalid");let s=n+"="+l;if(i.maxAge!=null){const o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(o)}if(i.domain){if(!Wi.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain="+i.domain}if(i.path){if(!Wi.test(i.path))throw new TypeError("option path is invalid");s+="; Path="+i.path}if(i.expires){if(!function(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function Wm(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Hm(n){return encodeURIComponent(n)}let Tf;function Qi(n){if(n)try{const e=decodeURIComponent(Tf(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Df(n,e=0){let t=Qi(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Tf=typeof atob=="function"?atob:n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,r=0,l=0,s="";i=e.charAt(l++);~i&&(t=r%4?64*t+i:i,r++%4)?s+=String.fromCharCode(255&t>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};const kl="pb_auth";class Um{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Df(this.token)}get isAdmin(){return Qi(this.token).type==="admin"}get isAuthRecord(){return Qi(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=kl){const i=Vm(e||"")[t]||"";let r={};try{r=JSON.parse(i),(typeof r===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)}exportToCookie(e,t=kl){var a,u;const i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=Qi(this.token);i.expires=r!=null&&r.exp?new Date(1e3*r.exp):new Date("1970-01-01"),e=Object.assign({},i,e);const l={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let s=wl(t,JSON.stringify(l),e);const o=typeof Blob<"u"?new Blob([s]).size:s.length;if(l.model&&o>4096){l.model={id:(a=l==null?void 0:l.model)==null?void 0:a.id,email:(u=l==null?void 0:l.model)==null?void 0:u.email};const f=["collectionId","username","verified"];for(const c in this.model)f.includes(c)&&(l.model[c]=this.model[c]);s=wl(t,JSON.stringify(l),e)}return s}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let i=this._onChangeCallbacks.length-1;i>=0;i--)if(this._onChangeCallbacks[i]==e)return delete this._onChangeCallbacks[i],void this._onChangeCallbacks.splice(i,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class Of extends Um{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class An{constructor(e){this.client=e}}class zm extends An{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,i){return i=Object.assign({method:"POST",body:{email:e,template:t}},i),this.client.send("/api/settings/test/email",i).then(()=>!0)}async generateAppleClientSecret(e,t,i,r,l,s){return s=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:r,duration:l}},s),this.client.send("/api/settings/apple/generate-client-secret",s)}}class ys extends An{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then(r=>{var l;return r.items=((l=r.items)==null?void 0:l.map(s=>this.decode(s)))||[],r})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(i=>{var r;if(!((r=i==null?void 0:i.items)!=null&&r.length))throw new At({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})}async getOne(e,t){if(!e)throw new At({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(i=>this.decode(i))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(i=>this.decode(i))}async update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then(r=>this.decode(r))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],r=async l=>this.getList(l,e||500,t).then(s=>{const o=s.items;return i=i.concat(o),o.length==s.perPage?r(l+1):i});return r(1)}}function Vt(n,e,t,i){const r=i!==void 0;return r||t!==void 0?r?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,i),e):Object.assign(e,t):e}function Pr(n){var e;(e=n._resetAutoRefresh)==null||e.call(n)}class Ym extends ys{get baseCrudPath(){return"/api/admins"}async update(e,t,i){return super.update(e,t,i).then(r=>{var l,s;return((l=this.client.authStore.model)==null?void 0:l.id)===r.id&&((s=this.client.authStore.model)==null?void 0:s.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,r),r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,l;return i&&((r=this.client.authStore.model)==null?void 0:r.id)===e&&((l=this.client.authStore.model)==null?void 0:l.collectionId)===void 0&&this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,i,r){let l={method:"POST",body:{identity:e,password:t}};l=Vt("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",l,i,r);const s=l.autoRefreshThreshold;delete l.autoRefreshThreshold,l.autoRefresh||Pr(this.client);let o=await this.client.send(this.baseCrudPath+"/auth-with-password",l);return o=this.authResponse(o),s&&function(u,f,c,m){Pr(u);const d=u.beforeSend,_=u.authStore.model,p=u.authStore.onChange((b,g)=>{(!b||(g==null?void 0:g.id)!=(_==null?void 0:_.id)||(g!=null&&g.collectionId||_!=null&&_.collectionId)&&(g==null?void 0:g.collectionId)!=(_==null?void 0:_.collectionId))&&Pr(u)});u._resetAutoRefresh=function(){p(),u.beforeSend=d,delete u._resetAutoRefresh},u.beforeSend=async(b,g)=>{var E;const y=u.authStore.token;if((E=g.query)!=null&&E.autoRefresh)return d?d(b,g):{url:b,sendOptions:g};let T=u.authStore.isValid;if(T&&Df(u.authStore.token,f))try{await c()}catch{T=!1}T||await m();const k=g.headers||{};for(let F in k)if(F.toLowerCase()=="authorization"&&y==k[F]&&u.authStore.token){k[F]=u.authStore.token;break}return g.headers=k,d?d(b,g):{url:b,sendOptions:g}}}(this.client,s,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},l))),o}async authRefresh(e,t){let i={method:"POST"};return i=Vt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",i).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=Vt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCrudPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,l){let s={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return s=Vt("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",s,r,l),this.client.send(this.baseCrudPath+"/confirm-password-reset",s).then(()=>!0)}}const Bm=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Ef(n){if(n){n.query=n.query||{};for(let e in n)Bm.includes(e)||(n.query[e]=n[e],delete n[e])}}class Mf extends An{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,i){var s;if(!e)throw new Error("topic must be set.");let r=e;if(i){Ef(i);const o="options="+encodeURIComponent(JSON.stringify({query:i.query,headers:i.headers}));r+=(r.includes("?")?"&":"?")+o}const l=function(o){const a=o;let u;try{u=JSON.parse(a==null?void 0:a.data)}catch{}t(u||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(l),this.isConnected?this.subscriptions[r].length===1?await this.submitSubscriptions():(s=this.eventSource)==null||s.addEventListener(r,l):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,l)}async unsubscribe(e){var i;let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let l in r)if(this.hasSubscriptionListeners(l)){for(let s of this.subscriptions[l])(i=this.eventSource)==null||i.removeEventListener(l,s);delete this.subscriptions[l],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var i;let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let l of this.subscriptions[r])(i=this.eventSource)==null||i.removeEventListener(r,l);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var l;let i=!1;const r=this.getSubscriptionsByTopic(e);for(let s in r){if(!Array.isArray(this.subscriptions[s])||!this.subscriptions[s].length)continue;let o=!1;for(let a=this.subscriptions[s].length-1;a>=0;a--)this.subscriptions[s][a]===t&&(o=!0,delete this.subscriptions[s][a],this.subscriptions[s].splice(a,1),(l=this.eventSource)==null||l.removeEventListener(s,t));o&&(this.subscriptions[s].length||delete this.subscriptions[s],i||this.hasSubscriptionListeners(s)||(i=!0))}this.hasSubscriptionListeners()?i&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let r in this.subscriptions)if((i=this.subscriptions[r])!=null&&i.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let i in this.subscriptions)(i+"?").startsWith(e)&&(t[i]=this.subscriptions[i]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let i=3;for(;this.hasUnsentSubscriptions()&&i>0;)i--,await this.submitSubscriptions()}).then(()=>{for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const i=this.getSubscriptionsByTopic("PB_CONNECT");for(let r in i)for(let l of i[r])l(e)}).catch(i=>{this.clientId="",this.connectErrorHandler(i)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let i of this.pendingConnects)i.reject(new At(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[]}}}class Km extends ys{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,i){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,i)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}async getList(e=1,t=30,i){return super.getList(e,t,i)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,i){return super.update(e,t,i).then(r=>{var l,s,o;return((l=this.client.authStore.model)==null?void 0:l.id)!==(r==null?void 0:r.id)||((s=this.client.authStore.model)==null?void 0:s.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,r),r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,l,s;return!i||((r=this.client.authStore.model)==null?void 0:r.id)!==e||((l=this.client.authStore.model)==null?void 0:l.collectionId)!==this.collectionIdOrName&&((s=this.client.authStore.model)==null?void 0:s.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,i,r){let l={method:"POST",body:{identity:e,password:t}};return l=Vt("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",l,i,r),this.client.send(this.baseCollectionPath+"/auth-with-password",l).then(s=>this.authResponse(s))}async authWithOAuth2Code(e,t,i,r,l,s,o){let a={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectUrl:r,createData:l}};return a=Vt("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",a,s,o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",a).then(u=>this.authResponse(u))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},i=(await this.listAuthMethods()).authProviders.find(a=>a.name===t.provider);if(!i)throw new At(new Error(`Missing or invalid provider "${t.provider}".`));const r=this.client.buildUrl("/api/oauth2-redirect"),l=new Mf(this.client);let s=null;function o(){s==null||s.close(),l.unsubscribe()}return t.urlCallback||(s=vl(void 0)),new Promise(async(a,u)=>{var f;try{await l.subscribe("@oauth2",async _=>{const p=l.clientId;try{if(!_.state||p!==_.state)throw new Error("State parameters don't match.");const b=Object.assign({},t);delete b.provider,delete b.scopes,delete b.createData,delete b.urlCallback;const g=await this.authWithOAuth2Code(i.name,_.code,i.codeVerifier,r,t.createData,b);a(g)}catch(b){u(new At(b))}o()});const c={state:l.clientId};(f=t.scopes)!=null&&f.length&&(c.scope=t.scopes.join(" "));const m=this._replaceQueryParams(i.authUrl+r,c);await(t.urlCallback||function(_){s?s.location.href=_:s=vl(_)})(m)}catch(c){o(),u(new At(c))}})}async authRefresh(e,t){let i={method:"POST"};return i=Vt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then(r=>this.authResponse(r))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=Vt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,l){let s={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return s=Vt("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",s,r,l),this.client.send(this.baseCollectionPath+"/confirm-password-reset",s).then(()=>!0)}async requestVerification(e,t,i){let r={method:"POST",body:{email:e}};return r=Vt("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-verification",r).then(()=>!0)}async confirmVerification(e,t,i){let r={method:"POST",body:{token:e}};return r=Vt("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",r).then(()=>!0)}async requestEmailChange(e,t,i){let r={method:"POST",body:{newEmail:e}};return r=Vt("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",r).then(()=>!0)}async confirmEmailChange(e,t,i,r){let l={method:"POST",body:{token:e,password:t}};return l=Vt("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",l,i,r),this.client.send(this.baseCollectionPath+"/confirm-email-change",l).then(()=>!0)}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,i){return i=Object.assign({method:"DELETE"},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),i).then(()=>!0)}_replaceQueryParams(e,t={}){let i=e,r="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),r=e.substring(e.indexOf("?")+1));const l={},s=r.split("&");for(const o of s){if(o=="")continue;const a=o.split("=");l[decodeURIComponent(a[0].replace(/\+/g," "))]=decodeURIComponent((a[1]||"").replace(/\+/g," "))}for(let o in t)t.hasOwnProperty(o)&&(t[o]==null?delete l[o]:l[o]=t[o]);r="";for(let o in l)l.hasOwnProperty(o)&&(r!=""&&(r+="&"),r+=encodeURIComponent(o.replace(/%20/g,"+"))+"="+encodeURIComponent(l[o].replace(/%20/g,"+")));return r!=""?i+"?"+r:i}}function vl(n){if(typeof window>"u"||!(window!=null&&window.open))throw new At(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,i=window.innerWidth,r=window.innerHeight;e=e>i?i:e,t=t>r?r:t;let l=i/2-e/2,s=r/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+s+",left="+l+",resizable,menubar=no")}class Zm extends ys{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,i){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then(()=>!0)}}class Jm extends An{async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs",i)}async getOne(e,t){if(!e)throw new At({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class Gm extends An{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Qm extends An{getUrl(e,t,i={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(t));let l=this.client.buildUrl(r.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;const s=new URLSearchParams(i);l+=(l.includes("?")?"&":"?")+s}return l}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class Xm extends An{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class ws{constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=i,this.authStore=t||new Of,this.admins=new Ym(this),this.collections=new Zm(this),this.files=new Qm(this),this.logs=new Jm(this),this.settings=new zm(this),this.realtime=new Mf(this),this.health=new Gm(this),this.backups=new Xm(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Km(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let i in t){let r=t[i];switch(typeof r){case"boolean":case"number":r=""+r;break;case"string":r="'"+r.replace(/'/g,"\\'")+"'";break;default:r=r===null?"null":r instanceof Date?"'"+r.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(r).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+i+"}",r)}return e}getFileUrl(e,t,i={}){return this.files.getUrl(e,t,i)}buildUrl(e){var i;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(i=window.location.origin)!=null&&i.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let i=this.buildUrl(e);if(this.beforeSend){const r=Object.assign({},await this.beforeSend(i,t));r.url!==void 0||r.options!==void 0?(i=r.url||i,t=r.options||t):Object.keys(r).length&&(t=r,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const r=this.serializeQueryParams(t.query);r&&(i+=(i.includes("?")?"&":"?")+r),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then(async r=>{let l={};try{l=await r.json()}catch{}if(this.afterSend&&(l=await this.afterSend(r,l)),r.status>=400)throw new At({url:r.url,status:r.status,data:l});return l}).catch(r=>{throw new At(r)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),Ef(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const r=new AbortController;this.cancelControllers[i]=r,t.signal=r.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let i in e){const r=this.normalizeFormDataValue(e[i]),l=Array.isArray(r)?r:[r];if(l.length)for(const s of l)t.append(i,s);else t.append(i,"")}return t}normalizeFormDataValue(e){return e===null||typeof e!="object"||e instanceof Date||this.hasBlobField({data:e})||Array.isArray(e)&&!e.filter(t=>typeof t!="string").length?e:JSON.stringify(e)}hasBlobField(e){for(let t in e){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let r of i)if(typeof Blob<"u"&&r instanceof Blob||typeof File<"u"&&r instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const i in e){if(e[i]===null)continue;const r=e[i],l=encodeURIComponent(i);if(Array.isArray(r))for(const s of r)t.push(l+"="+encodeURIComponent(s));else r instanceof Date?t.push(l+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?t.push(l+"="+encodeURIComponent(JSON.stringify(r))):t.push(l+"="+encodeURIComponent(r))}return t.join("&")}}const ks=en({});function pi(n){ks.set(n||{})}function Qr(n){ks.update(e=>(A.deleteByPath(e,n),e))}const If=en({});function Xr(n){If.set(n||{})}const wr=en([]);function $r(n,e=3e3){return Nf(n,"success",e)}function vs(n,e=4500){return Nf(n,"error",e)}function Nf(n,e,t){t=t||4e3;const i={message:n,type:e,duration:t,timeout:setTimeout(()=>{Af(i)},t)};wr.update(r=>(Ss(r,i.message),A.pushOrReplaceByKey(r,i,"message"),r))}function Af(n){wr.update(e=>(Ss(e,n),e))}function $m(){wr.update(n=>{for(let e of n)Ss(n,e);return[]})}function Ss(n,e){let t;typeof e=="string"?t=A.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),A.removeByKey(n,"message",t.message))}var xm={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};ws.prototype.logout=function(n=!0){this.authStore.clear(),n&&Di("/login")};ws.prototype.error=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const i=(n==null?void 0:n.status)<<0||400,r=(n==null?void 0:n.data)||{},l=r.message||n.message||t;if(e&&l&&vs(l),A.isEmpty(r.data)||pi(r.data),i===401)return this.cancelAllRequests(),this.logout();if(i===403)return this.cancelAllRequests(),Di("/")};class eh extends Of{save(e,t){super.save(e,t),t&&Xr(t)}clear(){super.clear(),Xr(null)}}const Ne=new ws(xm.PB_BACKEND_URL,new eh("pcms_user_auth"));Ne.authStore.model&&Xr(Ne.authStore.model);function th(n,{from:e,to:t},i={}){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform,[s,o]=r.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*s/t.width-(t.left+s),u=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:c=d=>Math.sqrt(d)*120,easing:m=mr}=i;return{delay:f,duration:st(c)?c(Math.sqrt(a*a+u*u)):c,easing:m,css:(d,_)=>{const p=_*a,b=_*u,g=d+_*e.width/t.width,y=d+_*e.height/t.height;return`transform: ${l} translate(${p}px, ${b}px) scale(${g}, ${y});`}}}function Sl(n,e,t){const i=n.slice();return i[2]=e[t],i}function nh(n){let e;return{c(){e=w("i"),h(e,"class","ri-alert-line")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function ih(n){let e;return{c(){e=w("i"),h(e,"class","ri-error-warning-line")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function rh(n){let e;return{c(){e=w("i"),h(e,"class","ri-checkbox-circle-line")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function sh(n){let e;return{c(){e=w("i"),h(e,"class","ri-information-line")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Cl(n,e){let t,i,r,l,s=e[2].message+"",o,a,u,f,c,m,d,_=G,p,b,g;function y(F,L){return F[2].type==="info"?sh:F[2].type==="success"?rh:F[2].type==="warning"?ih:nh}let T=y(e),k=T(e);function E(){return e[1](e[2])}return{key:n,first:null,c(){t=w("div"),i=w("div"),k.c(),r=q(),l=w("div"),o=re(s),a=q(),u=w("button"),u.innerHTML='<i class="ri-close-line"></i>',f=q(),h(i,"class","icon"),h(l,"class","content"),h(u,"type","button"),h(u,"class","close"),h(t,"class","alert txt-break"),J(t,"alert-info",e[2].type=="info"),J(t,"alert-success",e[2].type=="success"),J(t,"alert-danger",e[2].type=="error"),J(t,"alert-warning",e[2].type=="warning"),this.first=t},m(F,L){S(F,t,L),C(t,i),k.m(i,null),C(t,r),C(t,l),C(l,o),C(t,a),C(t,u),C(t,f),p=!0,b||(g=ee(u,"click",Xe(E)),b=!0)},p(F,L){e=F,T!==(T=y(e))&&(k.d(1),k=T(e),k&&(k.c(),k.m(i,null))),(!p||L&1)&&s!==(s=e[2].message+"")&&_e(o,s),(!p||L&1)&&J(t,"alert-info",e[2].type=="info"),(!p||L&1)&&J(t,"alert-success",e[2].type=="success"),(!p||L&1)&&J(t,"alert-danger",e[2].type=="error"),(!p||L&1)&&J(t,"alert-warning",e[2].type=="warning")},r(){d=t.getBoundingClientRect()},f(){mc(t),_(),du(t,d)},a(){_(),_=dc(t,d,th,{duration:150})},i(F){p||(F&&ht(()=>{p&&(m&&m.end(1),c=_u(t,Xn,{duration:150}),c.start())}),p=!0)},o(F){c&&c.invalidate(),F&&(m=os(t,wi,{duration:150})),p=!1},d(F){F&&v(t),k.d(),F&&m&&m.end(),b=!1,g()}}}function lh(n){let e,t=[],i=new Map,r,l=we(n[0]);const s=o=>o[2].message;for(let o=0;o<l.length;o+=1){let a=Sl(n,l,o),u=s(a);i.set(u,t[o]=Cl(u,a))}return{c(){e=w("div");for(let o=0;o<t.length;o+=1)t[o].c();h(e,"class","toasts-wrapper")},m(o,a){S(o,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);r=!0},p(o,[a]){if(a&1){l=we(o[0]),ue();for(let u=0;u<t.length;u+=1)t[u].r();t=pt(t,a,s,1,o,l,i,e,_c,Cl,null,Sl);for(let u=0;u<t.length;u+=1)t[u].a();fe()}},i(o){if(!r){for(let a=0;a<l.length;a+=1)O(t[a]);r=!0}},o(o){for(let a=0;a<t.length;a+=1)N(t[a]);r=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function oh(n,e,t){let i;return Ke(n,wr,l=>t(0,i=l)),[i,l=>Af(l)]}class ah extends ve{constructor(e){super(),ke(this,e,oh,lh,ye,{})}}function Tl(n){let e,t,i;const r=n[18].default,l=ut(r,n,n[17],null);return{c(){e=w("div"),l&&l.c(),h(e,"class",n[1]),J(e,"active",n[0])},m(s,o){S(s,e,o),l&&l.m(e,null),n[19](e),i=!0},p(s,o){l&&l.p&&(!i||o[0]&131072)&&ct(l,r,s,s[17],i?ft(r,s[17],o,null):dt(s[17]),null),(!i||o[0]&2)&&h(e,"class",s[1]),(!i||o[0]&3)&&J(e,"active",s[0])},i(s){i||(O(l,s),s&&ht(()=>{i&&(t||(t=mt(e,on,{duration:150,y:3},!0)),t.run(1))}),i=!0)},o(s){N(l,s),s&&(t||(t=mt(e,on,{duration:150,y:3},!1)),t.run(0)),i=!1},d(s){s&&v(e),l&&l.d(s),n[19](null),s&&t&&t.end()}}}function uh(n){let e,t,i,r,l=n[0]&&Tl(n);return{c(){e=w("div"),l&&l.c(),h(e,"class","toggler-container"),h(e,"tabindex","-1"),h(e,"role","menu")},m(s,o){S(s,e,o),l&&l.m(e,null),n[20](e),t=!0,i||(r=[ee(window,"click",n[7]),ee(window,"mousedown",n[6]),ee(window,"keydown",n[5]),ee(window,"focusin",n[4])],i=!0)},p(s,o){s[0]?l?(l.p(s,o),o[0]&1&&O(l,1)):(l=Tl(s),l.c(),O(l,1),l.m(e,null)):l&&(ue(),N(l,1,1,()=>{l=null}),fe())},i(s){t||(O(l),t=!0)},o(s){N(l),t=!1},d(s){s&&v(e),l&&l.d(),n[20](null),i=!1,De(r)}}}function fh(n,e,t){let{$$slots:i={},$$scope:r}=e,{trigger:l=void 0}=e,{active:s=!1}=e,{escClose:o=!0}=e,{autoScroll:a=!0}=e,{closableClass:u="closable"}=e,{class:f=""}=e,c,m,d,_,p,b=!1;const g=Ct();function y(j=0){s&&(clearTimeout(p),p=setTimeout(T,j))}function T(){s&&(t(0,s=!1),b=!1,clearTimeout(_),clearTimeout(p))}function k(){clearTimeout(p),clearTimeout(_),!s&&(t(0,s=!0),d!=null&&d.contains(c)||c==null||c.focus(),_=setTimeout(()=>{a&&(m!=null&&m.scrollIntoViewIfNeeded?m==null||m.scrollIntoViewIfNeeded():m!=null&&m.scrollIntoView&&(m==null||m.scrollIntoView({behavior:"smooth",block:"nearest"})))},180))}function E(){s?T():k()}function F(j){return!c||j.classList.contains(u)||c.contains(j)&&j.closest&&j.closest("."+u)}function L(j){I(),c==null||c.addEventListener("click",R),c==null||c.addEventListener("keydown",P),t(16,d=j||(c==null?void 0:c.parentNode)),d==null||d.addEventListener("click",W),d==null||d.addEventListener("keydown",K)}function I(){clearTimeout(_),clearTimeout(p),c==null||c.removeEventListener("click",R),c==null||c.removeEventListener("keydown",P),d==null||d.removeEventListener("click",W),d==null||d.removeEventListener("keydown",K)}function R(j){j.stopPropagation(),F(j.target)&&T()}function P(j){(j.code==="Enter"||j.code==="Space")&&(j.stopPropagation(),F(j.target)&&y(150))}function W(j){j.preventDefault(),j.stopPropagation(),E()}function K(j){(j.code==="Enter"||j.code==="Space")&&(j.preventDefault(),j.stopPropagation(),E())}function U(j){s&&!(d!=null&&d.contains(j.target))&&!(c!=null&&c.contains(j.target))&&E()}function te(j){s&&o&&j.code==="Escape"&&(j.preventDefault(),T())}function ne(j){s&&(b=!(c!=null&&c.contains(j.target)))}function Y(j){var Me;s&&b&&!(c!=null&&c.contains(j.target))&&!(d!=null&&d.contains(j.target))&&!((Me=j.target)!=null&&Me.closest(".flatpickr-calendar"))&&T()}Ft(()=>(L(),()=>I()));function z(j){oe[j?"unshift":"push"](()=>{m=j,t(3,m)})}function H(j){oe[j?"unshift":"push"](()=>{c=j,t(2,c)})}return n.$$set=j=>{"trigger"in j&&t(8,l=j.trigger),"active"in j&&t(0,s=j.active),"escClose"in j&&t(9,o=j.escClose),"autoScroll"in j&&t(10,a=j.autoScroll),"closableClass"in j&&t(11,u=j.closableClass),"class"in j&&t(1,f=j.class),"$$scope"in j&&t(17,r=j.$$scope)},n.$$.update=()=>{var j,Me;n.$$.dirty[0]&260&&c&&L(l),n.$$.dirty[0]&65537&&(s?((j=d==null?void 0:d.classList)==null||j.add("active"),d==null||d.setAttribute("aria-expanded",!0),g("show")):((Me=d==null?void 0:d.classList)==null||Me.remove("active"),d==null||d.setAttribute("aria-expanded",!1),g("hide")))},[s,f,c,m,U,te,ne,Y,l,o,a,u,y,T,k,E,d,r,i,z,H]}class Ni extends ve{constructor(e){super(),ke(this,e,fh,uh,ye,{trigger:8,active:0,escClose:9,autoScroll:10,closableClass:11,class:1,hideWithDelay:12,hide:13,show:14,toggle:15},null,[-1,-1])}get hideWithDelay(){return this.$$.ctx[12]}get hide(){return this.$$.ctx[13]}get show(){return this.$$.ctx[14]}get toggle(){return this.$$.ctx[15]}}let xr,Dn;const es="app-tooltip";function Dl(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function wn(){return Dn=Dn||document.querySelector("."+es),Dn||(Dn=document.createElement("div"),Dn.classList.add(es),document.body.appendChild(Dn)),Dn}function Lf(n,e){let t=wn();if(!t.classList.contains("active")||!(e!=null&&e.text)){ts();return}t.textContent=e.text,t.className=es+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let i=t.offsetHeight,r=t.offsetWidth,l=n.getBoundingClientRect(),s=0,o=0,a=5;e.position=="left"?(s=l.top+l.height/2-i/2,o=l.left-r-a):e.position=="right"?(s=l.top+l.height/2-i/2,o=l.right+a):e.position=="top"?(s=l.top-i-a,o=l.left+l.width/2-r/2):e.position=="top-left"?(s=l.top-i-a,o=l.left):e.position=="top-right"?(s=l.top-i-a,o=l.right-r):e.position=="bottom-left"?(s=l.top+l.height+a,o=l.left):e.position=="bottom-right"?(s=l.top+l.height+a,o=l.right-r):(s=l.top+l.height+a,o=l.left+l.width/2-r/2),o+r>document.documentElement.clientWidth&&(o=document.documentElement.clientWidth-r),o=o>=0?o:0,s+i>document.documentElement.clientHeight&&(s=document.documentElement.clientHeight-i),s=s>=0?s:0,t.style.top=s+"px",t.style.left=o+"px"}function ts(){clearTimeout(xr),wn().classList.remove("active"),wn().activeNode=void 0}function ch(n,e){wn().activeNode=n,clearTimeout(xr),xr=setTimeout(()=>{wn().classList.add("active"),Lf(n,e)},isNaN(e.delay)?0:e.delay)}function Je(n,e){let t=Dl(e);function i(){ch(n,t)}function r(){ts()}return n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),n.addEventListener("blur",r),(t.hideOnClick===!0||t.hideOnClick===null&&A.isFocusable(n))&&n.addEventListener("click",r),wn(),{update(l){var s,o;t=Dl(l),(o=(s=wn())==null?void 0:s.activeNode)!=null&&o.contains(n)&&Lf(n,t)},destroy(){var l,s;(s=(l=wn())==null?void 0:l.activeNode)!=null&&s.contains(n)&&ts(),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r),n.removeEventListener("blur",r),n.removeEventListener("click",r)}}}const sr=en(""),dh=en("");function Hi(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}var mh={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function hh(n){let e;return{c(){e=w("p"),e.textContent="index page"},m(t,i){S(t,e,i)},p:G,i:G,o:G,d(t){t&&v(e)}}}function ph(n){e();function e(){if(new URLSearchParams(window.location.search).has(mh.PB_INSTALLER_PARAM)){Ne.logout(!1);return}Ne.authStore.isValid?Di("/collections"):Ne.logout()}return[]}class gh extends ve{constructor(e){super(),ke(this,e,ph,hh,ye,{})}}const dn=en([]),an=en({}),vi=en(!1);let Ol;typeof BroadcastChannel<"u"&&(Ol=new BroadcastChannel("collections"),Ol.onmessage=()=>{var n;Cs((n=ic(an))==null?void 0:n.id)});function _h(n){dn.update(e=>{const t=A.findByKey(e,"id",n);return t?an.set(t):e.length&&an.set(e[0]),e})}async function Cs(n=null){vi.set(!0);try{let e=await Ne.collection("pcms__collections").getFullList(200,{sort:"+name"});e=A.sortCollections(e),dn.set(e);const t=n&&A.findByKey(e,"id",n);t?an.set(t):e.length&&an.set(e[0])}catch(e){Ne.error(e)}vi.set(!1)}const bh=n=>({}),El=n=>({});function yh(n){let e,t,i,r,l,s;const o=n[3].default,a=ut(o,n,n[2],null),u=n[3].footer,f=ut(u,n,n[2],El);return{c(){e=w("div"),t=w("main"),a&&a.c(),i=q(),r=w("footer"),f&&f.c(),h(t,"class","page-content"),h(r,"class","page-footer"),h(e,"class",l="page-wrapper "+n[1]),J(e,"center-content",n[0])},m(c,m){S(c,e,m),C(e,t),a&&a.m(t,null),C(e,i),C(e,r),f&&f.m(r,null),s=!0},p(c,[m]){a&&a.p&&(!s||m&4)&&ct(a,o,c,c[2],s?ft(o,c[2],m,null):dt(c[2]),null),f&&f.p&&(!s||m&4)&&ct(f,u,c,c[2],s?ft(u,c[2],m,bh):dt(c[2]),El),(!s||m&2&&l!==(l="page-wrapper "+c[1]))&&h(e,"class",l),(!s||m&3)&&J(e,"center-content",c[0])},i(c){s||(O(a,c),O(f,c),s=!0)},o(c){N(a,c),N(f,c),s=!1},d(c){c&&v(e),a&&a.d(c),f&&f.d(c)}}}function wh(n,e,t){let{$$slots:i={},$$scope:r}=e,{center:l=!1}=e,{class:s=""}=e;return n.$$set=o=>{"center"in o&&t(0,l=o.center),"class"in o&&t(1,s=o.class),"$$scope"in o&&t(2,r=o.$$scope)},[l,s,r,i]}class Ln extends ve{constructor(e){super(),ke(this,e,wh,yh,ye,{center:0,class:1})}}function kh(n){let e,t,i;return{c(){e=w("span"),h(e,"class","dragline svelte-1g2t3dj"),J(e,"dragging",n[1])},m(r,l){S(r,e,l),n[4](e),t||(i=[ee(e,"mousedown",n[5]),ee(e,"touchstart",n[2])],t=!0)},p(r,[l]){l&2&&J(e,"dragging",r[1])},i:G,o:G,d(r){r&&v(e),n[4](null),t=!1,De(i)}}}function vh(n,e,t){const i=Ct();let{tolerance:r=0}=e,l,s=0,o=0,a=0,u=0,f=!1;function c(b){b.stopPropagation(),s=b.clientX,o=b.clientY,a=b.clientX-l.offsetLeft,u=b.clientY-l.offsetTop,document.addEventListener("touchmove",d),document.addEventListener("mousemove",d),document.addEventListener("touchend",m),document.addEventListener("mouseup",m)}function m(b){f&&(b.preventDefault(),t(1,f=!1),l.classList.remove("no-pointer-events"),i("dragstop",{event:b,elem:l})),document.removeEventListener("touchmove",d),document.removeEventListener("mousemove",d),document.removeEventListener("touchend",m),document.removeEventListener("mouseup",m)}function d(b){let g=b.clientX-s,y=b.clientY-o,T=b.clientX-a,k=b.clientY-u;!f&&Math.abs(T-l.offsetLeft)<r&&Math.abs(k-l.offsetTop)<r||(b.preventDefault(),f||(t(1,f=!0),l.classList.add("no-pointer-events"),i("dragstart",{event:b,elem:l})),i("dragging",{event:b,elem:l,diffX:g,diffY:y}))}function _(b){oe[b?"unshift":"push"](()=>{l=b,t(0,l)})}const p=b=>{b.button==0&&c(b)};return n.$$set=b=>{"tolerance"in b&&t(3,r=b.tolerance)},[l,f,c,r,_,p]}class Sh extends ve{constructor(e){super(),ke(this,e,vh,kh,ye,{tolerance:3})}}function Ch(n){let e,t,i,r,l;const s=n[5].default,o=ut(s,n,n[4],null);return r=new Sh({}),r.$on("dragstart",n[7]),r.$on("dragging",n[8]),r.$on("dragstop",n[9]),{c(){e=w("aside"),o&&o.c(),i=q(),$(r.$$.fragment),h(e,"class",t="page-sidebar "+n[0])},m(a,u){S(a,e,u),o&&o.m(e,null),n[6](e),S(a,i,u),Q(r,a,u),l=!0},p(a,[u]){o&&o.p&&(!l||u&16)&&ct(o,s,a,a[4],l?ft(s,a[4],u,null):dt(a[4]),null),(!l||u&1&&t!==(t="page-sidebar "+a[0]))&&h(e,"class",t)},i(a){l||(O(o,a),O(r.$$.fragment,a),l=!0)},o(a){N(o,a),N(r.$$.fragment,a),l=!1},d(a){a&&(v(e),v(i)),o&&o.d(a),n[6](null),X(r,a)}}}const Ml="@adminSidebarWidth";function Th(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:l=""}=e,s,o,a=localStorage.getItem(Ml)||null;function u(d){oe[d?"unshift":"push"](()=>{s=d,t(1,s),t(2,a)})}const f=()=>{t(3,o=s.offsetWidth)},c=d=>{t(2,a=o+d.detail.diffX+"px")},m=()=>{A.triggerResize()};return n.$$set=d=>{"class"in d&&t(0,l=d.class),"$$scope"in d&&t(4,r=d.$$scope)},n.$$.update=()=>{n.$$.dirty&6&&a&&s&&(t(1,s.style.width=a,s),localStorage.setItem(Ml,a))},[l,s,a,o,r,i,u,f,c,m]}class Dh extends ve{constructor(e){super(),ke(this,e,Th,Ch,ye,{class:0})}}function Oh(n){let e;return{c(){e=w("i"),h(e,"class","ri-pushpin-line m-l-auto svelte-1u3ag8h")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Eh(n){let e;return{c(){e=w("i"),h(e,"class","ri-unpin-line svelte-1u3ag8h")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Mh(n){let e,t,i,r,l,s=A.replacePcmsPrefix(n[0].name)+"",o,a,u,f,c,m,d,_;function p(y,T){return y[1]?Eh:Oh}let b=p(n),g=b(n);return{c(){var y;e=w("a"),t=w("i"),r=q(),l=w("span"),o=re(s),a=q(),u=w("span"),g.c(),h(t,"class",i=kn(A.getCollectionTypeIcon(n[0].type))+" svelte-1u3ag8h"),h(t,"aria-hidden","true"),h(l,"class","txt m-r-auto"),h(u,"class","btn btn-xs btn-circle btn-hint btn-transparent pin-collection svelte-1u3ag8h"),h(u,"aria-label","Pin collection"),h(u,"aria-hidden","true"),h(e,"href",c="/collections?collectionId="+n[0].id),h(e,"class","sidebar-list-item svelte-1u3ag8h"),h(e,"title",m=n[0].name),J(e,"active",((y=n[2])==null?void 0:y.id)===n[0].id)},m(y,T){S(y,e,T),C(e,t),C(e,r),C(e,l),C(l,o),C(e,a),C(e,u),g.m(u,null),d||(_=[We(f=Je.call(null,u,{position:"right",text:(n[1]?"Unpin":"Pin")+" collection"})),ee(u,"click",Xt(Xe(n[5]))),We(Ki.call(null,e))],d=!0)},p(y,[T]){var k;T&1&&i!==(i=kn(A.getCollectionTypeIcon(y[0].type))+" svelte-1u3ag8h")&&h(t,"class",i),T&1&&s!==(s=A.replacePcmsPrefix(y[0].name)+"")&&_e(o,s),b!==(b=p(y))&&(g.d(1),g=b(y),g&&(g.c(),g.m(u,null))),f&&st(f.update)&&T&2&&f.update.call(null,{position:"right",text:(y[1]?"Unpin":"Pin")+" collection"}),T&1&&c!==(c="/collections?collectionId="+y[0].id)&&h(e,"href",c),T&1&&m!==(m=y[0].name)&&h(e,"title",m),T&5&&J(e,"active",((k=y[2])==null?void 0:k.id)===y[0].id)},i:G,o:G,d(y){y&&v(e),g.d(),d=!1,De(_)}}}function Ih(n,e,t){let i,r;Ke(n,an,u=>t(2,r=u));let{collection:l}=e,{pinnedIds:s}=e;function o(u){s.includes(u.id)?A.removeByValue(s,u.id):s.push(u.id),t(4,s)}const a=()=>o(l);return n.$$set=u=>{"collection"in u&&t(0,l=u.collection),"pinnedIds"in u&&t(4,s=u.pinnedIds)},n.$$.update=()=>{n.$$.dirty&17&&t(1,i=s.includes(l.id))},[l,i,r,o,s,a]}class Ff extends ve{constructor(e){super(),ke(this,e,Ih,Mh,ye,{collection:0,pinnedIds:4})}}function Il(n,e,t){const i=n.slice();return i[18]=e[t],i}function Nl(n,e,t){const i=n.slice();return i[18]=e[t],i}function Al(n){let e,t,i=[],r=new Map,l,s,o=we(n[5]);const a=u=>u[18].id;for(let u=0;u<o.length;u+=1){let f=Nl(n,o,u),c=a(f);r.set(c,i[u]=Ll(c,f))}return{c(){e=w("div"),e.textContent="Pinned",t=q();for(let u=0;u<i.length;u+=1)i[u].c();l=ge(),h(e,"class","sidebar-title")},m(u,f){S(u,e,f),S(u,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,f);S(u,l,f),s=!0},p(u,f){f&34&&(o=we(u[5]),ue(),i=pt(i,f,a,1,u,o,r,l.parentNode,Lt,Ll,l,Nl),fe())},i(u){if(!s){for(let f=0;f<o.length;f+=1)O(i[f]);s=!0}},o(u){for(let f=0;f<i.length;f+=1)N(i[f]);s=!1},d(u){u&&(v(e),v(t),v(l));for(let f=0;f<i.length;f+=1)i[f].d(u)}}}function Ll(n,e){let t,i,r,l;function s(a){e[11](a)}let o={collection:e[18]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new Ff({props:o}),oe.push(()=>Ae(i,"pinnedIds",s)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u&32&&(f.collection=e[18]),!r&&u&2&&(r=!0,f.pinnedIds=e[1],Fe(()=>r=!1)),i.$set(f)},i(a){l||(O(i.$$.fragment,a),l=!0)},o(a){N(i.$$.fragment,a),l=!1},d(a){a&&v(t),X(i,a)}}}function Fl(n){let e,t=[],i=new Map,r,l,s=n[5].length&&Pl(),o=we(n[4]);const a=u=>u[18].id;for(let u=0;u<o.length;u+=1){let f=Il(n,o,u),c=a(f);i.set(c,t[u]=Rl(c,f))}return{c(){s&&s.c(),e=q();for(let u=0;u<t.length;u+=1)t[u].c();r=ge()},m(u,f){s&&s.m(u,f),S(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(u,f);S(u,r,f),l=!0},p(u,f){u[5].length?s||(s=Pl(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),f&18&&(o=we(u[4]),ue(),t=pt(t,f,a,1,u,o,i,r.parentNode,Lt,Rl,r,Il),fe())},i(u){if(!l){for(let f=0;f<o.length;f+=1)O(t[f]);l=!0}},o(u){for(let f=0;f<t.length;f+=1)N(t[f]);l=!1},d(u){u&&(v(e),v(r)),s&&s.d(u);for(let f=0;f<t.length;f+=1)t[f].d(u)}}}function Pl(n){let e;return{c(){e=w("div"),e.textContent="Others",h(e,"class","sidebar-title")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Rl(n,e){let t,i,r,l;function s(a){e[12](a)}let o={collection:e[18]};return e[1]!==void 0&&(o.pinnedIds=e[1]),i=new Ff({props:o}),oe.push(()=>Ae(i,"pinnedIds",s)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u&16&&(f.collection=e[18]),!r&&u&2&&(r=!0,f.pinnedIds=e[1],Fe(()=>r=!1)),i.$set(f)},i(a){l||(O(i.$$.fragment,a),l=!0)},o(a){N(i.$$.fragment,a),l=!1},d(a){a&&v(t),X(i,a)}}}function ql(n){let e;return{c(){e=w("p"),e.textContent="No collections found.",h(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Nh(n){let e,t,i,r,l,s,o,a,u,f,c,m,d,_,p,b=n[5].length&&Al(n),g=n[4].length&&Fl(n),y=n[3].length&&!n[2].length&&ql();return{c(){e=w("header"),t=w("div"),i=w("div"),r=w("button"),r.innerHTML='<i class="ri-close-line"></i>',l=q(),s=w("input"),o=q(),a=w("hr"),u=q(),f=w("div"),b&&b.c(),c=q(),g&&g.c(),m=q(),y&&y.c(),h(r,"type","button"),h(r,"class","btn btn-xs btn-transparent btn-circle btn-clear"),J(r,"hidden",!n[6]),h(i,"class","form-field-addon"),h(s,"type","text"),h(s,"placeholder","Search collections..."),h(s,"name","collections-search"),h(t,"class","form-field search"),J(t,"active",n[6]),h(e,"class","sidebar-header"),h(a,"class","m-t-5 m-b-xs"),h(f,"class","sidebar-content"),J(f,"fade",n[7]),J(f,"sidebar-content-compact",n[2].length>20)},m(T,k){S(T,e,k),C(e,t),C(t,i),C(i,r),C(t,l),C(t,s),Be(s,n[0]),S(T,o,k),S(T,a,k),S(T,u,k),S(T,f,k),b&&b.m(f,null),C(f,c),g&&g.m(f,null),C(f,m),y&&y.m(f,null),d=!0,_||(p=[ee(r,"click",n[9]),ee(s,"input",n[10])],_=!0)},p(T,k){(!d||k&64)&&J(r,"hidden",!T[6]),k&1&&s.value!==T[0]&&Be(s,T[0]),(!d||k&64)&&J(t,"active",T[6]),T[5].length?b?(b.p(T,k),k&32&&O(b,1)):(b=Al(T),b.c(),O(b,1),b.m(f,c)):b&&(ue(),N(b,1,1,()=>{b=null}),fe()),T[4].length?g?(g.p(T,k),k&16&&O(g,1)):(g=Fl(T),g.c(),O(g,1),g.m(f,m)):g&&(ue(),N(g,1,1,()=>{g=null}),fe()),T[3].length&&!T[2].length?y||(y=ql(),y.c(),y.m(f,null)):y&&(y.d(1),y=null),(!d||k&128)&&J(f,"fade",T[7]),(!d||k&4)&&J(f,"sidebar-content-compact",T[2].length>20)},i(T){d||(O(b),O(g),d=!0)},o(T){N(b),N(g),d=!1},d(T){T&&(v(e),v(o),v(a),v(u),v(f)),b&&b.d(),g&&g.d(),y&&y.d(),_=!1,De(p)}}}function Ah(n){let e,t;return e=new Dh({props:{class:"collection-sidebar",$$slots:{default:[Nh]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&8388863&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}const jl="@pinnedCollections";function Lh(){setTimeout(()=>{const n=document.querySelector(".collection-sidebar .sidebar-list-item.active");n&&(n==null||n.scrollIntoView({block:"nearest"}))},0)}function Fh(n,e,t){let i,r,l,s,o,a,u;Ke(n,dn,y=>t(8,a=y)),Ke(n,an,y=>t(13,y)),Ke(n,vi,y=>t(7,u=y));let f="",c=[];m();function m(){t(1,c=[]);try{const y=localStorage.getItem(jl);y&&t(1,c=JSON.parse(y)||[])}catch{}}function d(){t(1,c=c.filter(y=>!!a.find(T=>T.id==y)))}const _=()=>t(0,f="");function p(){f=this.value,t(0,f)}function b(y){c=y,t(1,c)}function g(y){c=y,t(1,c)}return n.$$.update=()=>{n.$$.dirty&256&&a&&(d(),Lh()),n.$$.dirty&1&&t(3,i=f.replace(/\s+/g,"").toLowerCase()),n.$$.dirty&1&&t(6,r=f!==""),n.$$.dirty&2&&c&&localStorage.setItem(jl,JSON.stringify(c)),n.$$.dirty&265&&t(2,l=a.filter(y=>y.id==f||y.name.replace(/\s+/g,"").toLowerCase().includes(i))),n.$$.dirty&6&&t(5,s=l.filter(y=>c.includes(y.id))),n.$$.dirty&6&&t(4,o=l.filter(y=>!c.includes(y.id)))},[f,c,l,i,o,s,r,u,a,_,p,b,g]}class Pf extends ve{constructor(e){super(),ke(this,e,Fh,Ah,ye,{})}}function Ph(n){let e,t,i,r,l;const s=n[6].default,o=ut(s,n,n[5],null);return{c(){e=w("th"),o&&o.c(),h(e,"tabindex","0"),h(e,"title",n[2]),h(e,"class",t="col-sort "+n[1]),J(e,"col-sort-disabled",n[3]),J(e,"sort-active",n[0]==="-"+n[2]||n[0]==="+"+n[2]),J(e,"sort-desc",n[0]==="-"+n[2]),J(e,"sort-asc",n[0]==="+"+n[2])},m(a,u){S(a,e,u),o&&o.m(e,null),i=!0,r||(l=[ee(e,"click",n[7]),ee(e,"keydown",n[8])],r=!0)},p(a,[u]){o&&o.p&&(!i||u&32)&&ct(o,s,a,a[5],i?ft(s,a[5],u,null):dt(a[5]),null),(!i||u&4)&&h(e,"title",a[2]),(!i||u&2&&t!==(t="col-sort "+a[1]))&&h(e,"class",t),(!i||u&10)&&J(e,"col-sort-disabled",a[3]),(!i||u&7)&&J(e,"sort-active",a[0]==="-"+a[2]||a[0]==="+"+a[2]),(!i||u&7)&&J(e,"sort-desc",a[0]==="-"+a[2]),(!i||u&7)&&J(e,"sort-asc",a[0]==="+"+a[2])},i(a){i||(O(o,a),i=!0)},o(a){N(o,a),i=!1},d(a){a&&v(e),o&&o.d(a),r=!1,De(l)}}}function Rh(n,e,t){let{$$slots:i={},$$scope:r}=e,{class:l=""}=e,{name:s}=e,{sort:o=""}=e,{disable:a=!1}=e;function u(){a||("-"+s===o?t(0,o="+"+s):t(0,o="-"+s))}const f=()=>u(),c=m=>{(m.code==="Enter"||m.code==="Space")&&(m.preventDefault(),u())};return n.$$set=m=>{"class"in m&&t(1,l=m.class),"name"in m&&t(2,s=m.name),"sort"in m&&t(0,o=m.sort),"disable"in m&&t(3,a=m.disable),"$$scope"in m&&t(5,r=m.$$scope)},[o,l,s,a,u,r,i,f,c]}class ii extends ve{constructor(e){super(),ke(this,e,Rh,Ph,ye,{class:1,name:2,sort:0,disable:3})}}function Vl(n,e,t){const i=n.slice();return i[12]=e[t],i}const qh=n=>({}),Wl=n=>({uniqueId:n[4]});function jh(n){let e,t,i=we(n[3]),r=[];for(let s=0;s<i.length;s+=1)r[s]=Hl(Vl(n,i,s));const l=s=>N(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ge()},m(s,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(s,o);S(s,e,o),t=!0},p(s,o){if(o&8){i=we(s[3]);let a;for(a=0;a<i.length;a+=1){const u=Vl(s,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=Hl(u),r[a].c(),O(r[a],1),r[a].m(e.parentNode,e))}for(ue(),a=i.length;a<r.length;a+=1)l(a);fe()}},i(s){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(s){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(s){s&&v(e),cn(r,s)}}}function Vh(n){let e,t,i,r,l,s,o;return{c(){e=w("div"),t=w("i"),h(t,"class","ri-error-warning-fill txt-danger"),h(e,"class","form-field-addon inline-error-icon")},m(a,u){S(a,e,u),C(e,t),l=!0,s||(o=We(i=Je.call(null,t,{position:"left",text:n[3].map(lr).join(`
`)})),s=!0)},p(a,u){i&&st(i.update)&&u&8&&i.update.call(null,{position:"left",text:a[3].map(lr).join(`
`)})},i(a){l||(a&&ht(()=>{l&&(r||(r=mt(t,qs,{duration:150,start:.7},!0)),r.run(1))}),l=!0)},o(a){a&&(r||(r=mt(t,qs,{duration:150,start:.7},!1)),r.run(0)),l=!1},d(a){a&&v(e),a&&r&&r.end(),s=!1,o()}}}function Hl(n){let e,t,i=lr(n[12])+"",r,l,s,o;return{c(){e=w("div"),t=w("pre"),r=re(i),l=q(),h(e,"class","help-block help-block-error")},m(a,u){S(a,e,u),C(e,t),C(t,r),C(e,l),o=!0},p(a,u){(!o||u&8)&&i!==(i=lr(a[12])+"")&&_e(r,i)},i(a){o||(a&&ht(()=>{o&&(s||(s=mt(e,Xn,{duration:150},!0)),s.run(1))}),o=!0)},o(a){a&&(s||(s=mt(e,Xn,{duration:150},!1)),s.run(0)),o=!1},d(a){a&&v(e),a&&s&&s.end()}}}function Wh(n){let e,t,i,r,l,s,o;const a=n[9].default,u=ut(a,n,n[8],Wl),f=[Vh,jh],c=[];function m(d,_){return d[0]&&d[3].length?0:1}return i=m(n),r=c[i]=f[i](n),{c(){e=w("div"),u&&u.c(),t=q(),r.c(),h(e,"class",n[1]),J(e,"error",n[3].length)},m(d,_){S(d,e,_),u&&u.m(e,null),C(e,t),c[i].m(e,null),n[11](e),l=!0,s||(o=ee(e,"click",n[10]),s=!0)},p(d,[_]){u&&u.p&&(!l||_&256)&&ct(u,a,d,d[8],l?ft(a,d[8],_,qh):dt(d[8]),Wl);let p=i;i=m(d),i===p?c[i].p(d,_):(ue(),N(c[p],1,1,()=>{c[p]=null}),fe(),r=c[i],r?r.p(d,_):(r=c[i]=f[i](d),r.c()),O(r,1),r.m(e,null)),(!l||_&2)&&h(e,"class",d[1]),(!l||_&10)&&J(e,"error",d[3].length)},i(d){l||(O(u,d),O(r),l=!0)},o(d){N(u,d),N(r),l=!1},d(d){d&&v(e),u&&u.d(d),c[i].d(),n[11](null),s=!1,o()}}}const Ul="Invalid value";function lr(n){return typeof n=="object"?(n==null?void 0:n.message)||(n==null?void 0:n.code)||Ul:n||Ul}function Hh(n,e,t){let i;Ke(n,ks,p=>t(7,i=p));let{$$slots:r={},$$scope:l}=e;const s="field_"+A.randomString(7);let{name:o=""}=e,{inlineError:a=!1}=e,{class:u=void 0}=e,f,c=[];function m(){Qr(o)}Ft(()=>(f.addEventListener("input",m),f.addEventListener("change",m),()=>{f.removeEventListener("input",m),f.removeEventListener("change",m)}));function d(p){St.call(this,n,p)}function _(p){oe[p?"unshift":"push"](()=>{f=p,t(2,f)})}return n.$$set=p=>{"name"in p&&t(5,o=p.name),"inlineError"in p&&t(0,a=p.inlineError),"class"in p&&t(1,u=p.class),"$$scope"in p&&t(8,l=p.$$scope)},n.$$.update=()=>{n.$$.dirty&160&&t(3,c=A.toArray(A.getNestedVal(i,o)))},[a,u,f,c,s,o,m,i,l,r,d,_]}class xe extends ve{constructor(e){super(),ke(this,e,Hh,Wh,ye,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}function Uh(n){let e,t,i,r,l;return{c(){e=w("i"),h(e,"tabindex","-1"),h(e,"role","button"),h(e,"class",t=n[3]?n[2]:n[1]),h(e,"aria-label","Copy to clipboard")},m(s,o){S(s,e,o),r||(l=[We(i=Je.call(null,e,n[3]?void 0:n[0])),ee(e,"click",Xt(n[4]))],r=!0)},p(s,[o]){o&14&&t!==(t=s[3]?s[2]:s[1])&&h(e,"class",t),i&&st(i.update)&&o&9&&i.update.call(null,s[3]?void 0:s[0])},i:G,o:G,d(s){s&&v(e),r=!1,De(l)}}}function zh(n,e,t){let{value:i=""}=e,{tooltip:r="Copy"}=e,{idleClasses:l="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:s="ri-check-line txt-sm txt-success"}=e,{successDuration:o=500}=e,a;function u(){i&&(A.copyToClipboard(i),clearTimeout(a),t(3,a=setTimeout(()=>{clearTimeout(a),t(3,a=null)},o)))}return Ft(()=>()=>{a&&clearTimeout(a)}),n.$$set=f=>{"value"in f&&t(5,i=f.value),"tooltip"in f&&t(0,r=f.tooltip),"idleClasses"in f&&t(1,l=f.idleClasses),"successClasses"in f&&t(2,s=f.successClasses),"successDuration"in f&&t(6,o=f.successDuration)},[r,l,s,a,u,i,o]}class Ts extends ve{constructor(e){super(),ke(this,e,zh,Uh,ye,{value:5,tooltip:0,idleClasses:1,successClasses:2,successDuration:6})}}function Yh(n){let e;return{c(){e=w("span"),e.textContent="N/A",h(e,"class","txt txt-hint")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function Bh(n){let e,t,i,r,l,s,o,a,u;return{c(){e=w("div"),t=w("div"),i=re(n[2]),r=q(),l=w("div"),s=re(n[1]),o=re(" UTC"),h(t,"class","date"),h(l,"class","time svelte-5pjd03"),h(e,"class","datetime svelte-5pjd03")},m(f,c){S(f,e,c),C(e,t),C(t,i),C(e,r),C(e,l),C(l,s),C(l,o),a||(u=We(Je.call(null,e,n[3])),a=!0)},p(f,c){c&4&&_e(i,f[2]),c&2&&_e(s,f[1])},d(f){f&&v(e),a=!1,u()}}}function Kh(n){let e;function t(l,s){return l[0]?Bh:Yh}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(l,s){r.m(l,s),S(l,e,s)},p(l,[s]){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},i:G,o:G,d(l){l&&v(e),r.d(l)}}}function Zh(n,e,t){let i,r,{date:l=""}=e;const s={get text(){return A.formatToLocalDate(l)+" Local"}};return n.$$set=o=>{"date"in o&&t(0,l=o.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=l?l.substring(0,10):null),n.$$.dirty&1&&t(1,r=l?l.substring(10,19):null)},[l,r,i,s]}class Ds extends ve{constructor(e){super(),ke(this,e,Zh,Kh,ye,{date:0})}}const Jh=n=>({}),zl=n=>({}),Gh=n=>({}),Yl=n=>({});function Qh(n){let e,t,i,r,l,s,o,a;const u=n[11].before,f=ut(u,n,n[10],Yl),c=n[11].default,m=ut(c,n,n[10],null),d=n[11].after,_=ut(d,n,n[10],zl);return{c(){e=w("div"),f&&f.c(),t=q(),i=w("div"),m&&m.c(),l=q(),_&&_.c(),h(i,"class",r="scroller "+n[0]+" "+n[3]+" svelte-3a0gfs"),h(e,"class","scroller-wrapper svelte-3a0gfs")},m(p,b){S(p,e,b),f&&f.m(e,null),C(e,t),C(e,i),m&&m.m(i,null),n[12](i),C(e,l),_&&_.m(e,null),s=!0,o||(a=[ee(window,"resize",n[1]),ee(i,"scroll",n[1])],o=!0)},p(p,[b]){f&&f.p&&(!s||b&1024)&&ct(f,u,p,p[10],s?ft(u,p[10],b,Gh):dt(p[10]),Yl),m&&m.p&&(!s||b&1024)&&ct(m,c,p,p[10],s?ft(c,p[10],b,null):dt(p[10]),null),(!s||b&9&&r!==(r="scroller "+p[0]+" "+p[3]+" svelte-3a0gfs"))&&h(i,"class",r),_&&_.p&&(!s||b&1024)&&ct(_,d,p,p[10],s?ft(d,p[10],b,Jh):dt(p[10]),zl)},i(p){s||(O(f,p),O(m,p),O(_,p),s=!0)},o(p){N(f,p),N(m,p),N(_,p),s=!1},d(p){p&&v(e),f&&f.d(p),m&&m.d(p),n[12](null),_&&_.d(p),o=!1,De(a)}}}function Xh(n,e,t){let{$$slots:i={},$$scope:r}=e;const l=Ct();let{class:s=""}=e,{vThreshold:o=0}=e,{hThreshold:a=0}=e,{dispatchOnNoScroll:u=!0}=e,f=null,c="",m=null,d,_,p,b,g;function y(){f&&t(2,f.scrollTop=0,f)}function T(){f&&t(2,f.scrollLeft=0,f)}function k(){f&&(t(3,c=""),p=f.clientWidth+2,b=f.clientHeight+2,d=f.scrollWidth-p,_=f.scrollHeight-b,_>0?(t(3,c+=" v-scroll"),o>=b&&t(4,o=0),f.scrollTop-o<=0&&(t(3,c+=" v-scroll-start"),l("vScrollStart")),f.scrollTop+o>=_&&(t(3,c+=" v-scroll-end"),l("vScrollEnd"))):u&&l("vScrollEnd"),d>0?(t(3,c+=" h-scroll"),a>=p&&t(5,a=0),f.scrollLeft-a<=0&&(t(3,c+=" h-scroll-start"),l("hScrollStart")),f.scrollLeft+a>=d&&(t(3,c+=" h-scroll-end"),l("hScrollEnd"))):u&&l("hScrollEnd"))}function E(){m||(m=setTimeout(()=>{k(),m=null},150))}Ft(()=>(E(),g=new MutationObserver(E),g.observe(f,{attributeFilter:["width","height"],childList:!0,subtree:!0}),()=>{g==null||g.disconnect(),clearTimeout(m)}));function F(L){oe[L?"unshift":"push"](()=>{f=L,t(2,f)})}return n.$$set=L=>{"class"in L&&t(0,s=L.class),"vThreshold"in L&&t(4,o=L.vThreshold),"hThreshold"in L&&t(5,a=L.hThreshold),"dispatchOnNoScroll"in L&&t(6,u=L.dispatchOnNoScroll),"$$scope"in L&&t(10,r=L.$$scope)},[s,E,f,c,o,a,u,y,T,k,r,i,F]}class Rf extends ve{constructor(e){super(),ke(this,e,Xh,Qh,ye,{class:0,vThreshold:4,hThreshold:5,dispatchOnNoScroll:6,resetVerticalScroll:7,resetHorizontalScroll:8,refresh:9,throttleRefresh:1})}get resetVerticalScroll(){return this.$$.ctx[7]}get resetHorizontalScroll(){return this.$$.ctx[8]}get refresh(){return this.$$.ctx[9]}get throttleRefresh(){return this.$$.ctx[1]}}function Bl(n){let e;function t(l,s){return l[4]==="image"?xh:$h}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&v(e),r.d(l)}}}function $h(n){let e,t;return{c(){e=w("object"),t=re("Cannot preview the file."),h(e,"title",n[2]),h(e,"data",n[1])},m(i,r){S(i,e,r),C(e,t)},p(i,r){r&4&&h(e,"title",i[2]),r&2&&h(e,"data",i[1])},d(i){i&&v(e)}}}function xh(n){let e,t,i;return{c(){e=w("img"),sn(e.src,t=n[1])||h(e,"src",t),h(e,"alt",i="Preview "+n[2])},m(r,l){S(r,e,l)},p(r,l){l&2&&!sn(e.src,t=r[1])&&h(e,"src",t),l&4&&i!==(i="Preview "+r[2])&&h(e,"alt",i)},d(r){r&&v(e)}}}function ep(n){var r;let e=(r=n[3])==null?void 0:r.isActive(),t,i=e&&Bl(n);return{c(){i&&i.c(),t=ge()},m(l,s){i&&i.m(l,s),S(l,t,s)},p(l,s){var o;s&8&&(e=(o=l[3])==null?void 0:o.isActive()),e?i?i.p(l,s):(i=Bl(l),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(l){l&&v(t),i&&i.d(l)}}}function tp(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"type","button"),h(e,"class","overlay-close")},m(r,l){S(r,e,l),t||(i=ee(e,"click",Xe(n[0])),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function np(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=w("a"),t=re(n[2]),i=q(),r=w("i"),l=q(),s=w("div"),o=q(),a=w("button"),a.textContent="Close",h(r,"class","ri-external-link-line"),h(e,"href",n[1]),h(e,"title",n[2]),h(e,"target","_blank"),h(e,"rel","noreferrer noopener"),h(e,"class","link-hint txt-ellipsis inline-flex"),h(s,"class","flex-fill"),h(a,"type","button"),h(a,"class","btn btn-transparent")},m(c,m){S(c,e,m),C(e,t),C(e,i),C(e,r),S(c,l,m),S(c,s,m),S(c,o,m),S(c,a,m),u||(f=ee(a,"click",n[0]),u=!0)},p(c,m){m&4&&_e(t,c[2]),m&2&&h(e,"href",c[1]),m&4&&h(e,"title",c[2])},d(c){c&&(v(e),v(l),v(s),v(o),v(a)),u=!1,f()}}}function ip(n){let e,t,i={class:"preview preview-"+n[4],btnClose:!1,popup:!0,$$slots:{footer:[np],header:[tp],default:[ep]},$$scope:{ctx:n}};return e=new yr({props:i}),n[7](e),e.$on("show",n[8]),e.$on("hide",n[9]),{c(){$(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,[l]){const s={};l&16&&(s.class="preview preview-"+r[4]),l&1054&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[7](null),X(e,r)}}}function rp(n,e,t){let i,r,l,s,o="";function a(d){d!==""&&(t(1,o=d),s==null||s.show())}function u(){return s==null?void 0:s.hide()}function f(d){oe[d?"unshift":"push"](()=>{s=d,t(3,s)})}function c(d){St.call(this,n,d)}function m(d){St.call(this,n,d)}return n.$$.update=()=>{n.$$.dirty&2&&t(6,i=o.indexOf("?")),n.$$.dirty&66&&t(2,r=o.substring(o.lastIndexOf("/")+1,i>0?i:void 0)),n.$$.dirty&4&&t(4,l=A.getFileType(r))},[u,o,r,s,l,a,i,f,c,m]}class sp extends ve{constructor(e){super(),ke(this,e,rp,ip,ye,{show:5,hide:0})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[0]}}function lp(n){let e,t,i,r,l;function s(u,f){return u[3]==="image"?fp:u[3]==="video"||u[3]==="audio"?up:ap}let o=s(n),a=o(n);return{c(){e=w("a"),a.c(),h(e,"draggable",!1),h(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:"")),h(e,"href",n[6]),h(e,"target","_blank"),h(e,"rel","noreferrer"),h(e,"title",i=(n[7]?"Preview":"Download")+" "+n[0])},m(u,f){S(u,e,f),a.m(e,null),r||(l=ee(e,"click",Xt(n[11])),r=!0)},p(u,f){o===(o=s(u))&&a?a.p(u,f):(a.d(1),a=o(u),a&&(a.c(),a.m(e,null))),f&2&&t!==(t="thumb "+(u[1]?`thumb-${u[1]}`:""))&&h(e,"class",t),f&64&&h(e,"href",u[6]),f&129&&i!==(i=(u[7]?"Preview":"Download")+" "+u[0])&&h(e,"title",i)},d(u){u&&v(e),a.d(),r=!1,l()}}}function op(n){let e,t;return{c(){e=w("div"),h(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:""))},m(i,r){S(i,e,r)},p(i,r){r&2&&t!==(t="thumb "+(i[1]?`thumb-${i[1]}`:""))&&h(e,"class",t)},d(i){i&&v(e)}}}function ap(n){let e;return{c(){e=w("i"),h(e,"class","ri-file-3-line")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function up(n){let e;return{c(){e=w("i"),h(e,"class","ri-video-line")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function fp(n){let e,t,i,r,l;return{c(){e=w("img"),h(e,"draggable",!1),h(e,"loading","lazy"),sn(e.src,t=n[5])||h(e,"src",t),h(e,"alt",n[0]),h(e,"title",i="Preview "+n[0])},m(s,o){S(s,e,o),r||(l=ee(e,"error",n[8]),r=!0)},p(s,o){o&32&&!sn(e.src,t=s[5])&&h(e,"src",t),o&1&&h(e,"alt",s[0]),o&1&&i!==(i="Preview "+s[0])&&h(e,"title",i)},d(s){s&&v(e),r=!1,l()}}}function Kl(n){let e,t,i={};return e=new sp({props:i}),n[12](e),{c(){$(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,l){const s={};e.$set(s)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[12](null),X(e,r)}}}function cp(n){let e,t,i;function r(a,u){return a[2]?op:lp}let l=r(n),s=l(n),o=n[7]&&Kl(n);return{c(){s.c(),e=q(),o&&o.c(),t=ge()},m(a,u){s.m(a,u),S(a,e,u),o&&o.m(a,u),S(a,t,u),i=!0},p(a,[u]){l===(l=r(a))&&s?s.p(a,u):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e))),a[7]?o?(o.p(a,u),u&128&&O(o,1)):(o=Kl(a),o.c(),O(o,1),o.m(t.parentNode,t)):o&&(ue(),N(o,1,1,()=>{o=null}),fe())},i(a){i||(O(o),i=!0)},o(a){N(o),i=!1},d(a){a&&(v(e),v(t)),s.d(a),o&&o.d(a)}}}function dp(n,e,t){let i,r,{record:l=null}=e,{filename:s=""}=e,{size:o=""}=e,a,u="",f="",c="",m=!0;d();async function d(){t(2,m=!0);try{t(10,c=await Ne.getAdminFileToken(l.collectionId))}catch(g){console.warn("File token failure:",g)}t(2,m=!1)}function _(){t(5,u="")}const p=g=>{r&&(g.preventDefault(),a==null||a.show(f))};function b(g){oe[g?"unshift":"push"](()=>{a=g,t(4,a)})}return n.$$set=g=>{"record"in g&&t(9,l=g.record),"filename"in g&&t(0,s=g.filename),"size"in g&&t(1,o=g.size)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=A.getFileType(s)),n.$$.dirty&9&&t(7,r=["image","audio","video"].includes(i)||s.endsWith(".pdf")),n.$$.dirty&1541&&t(6,f=m?"":Ne.files.getUrl(l,s,{token:c})),n.$$.dirty&1541&&t(5,u=m?"":Ne.files.getUrl(l,s,{thumb:"100x100",token:c}))},[s,o,m,i,a,u,f,r,_,l,c,p,b]}class Os extends ve{constructor(e){super(),ke(this,e,dp,cp,ye,{record:9,filename:0,size:1})}}function Zl(n,e,t){const i=n.slice();i[6]=e[t];const r=A.toArray(i[0][i[6]]).slice(0,5);return i[7]=r,i}function Jl(n,e,t){const i=n.slice();return i[10]=e[t],i}function Gl(n){let e,t;return e=new Os({props:{record:n[0],filename:n[10],size:"xs"}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&1&&(l.record=i[0]),r&3&&(l.filename=i[10]),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Ql(n){let e=!A.isEmpty(n[10]),t,i,r=e&&Gl(n);return{c(){r&&r.c(),t=ge()},m(l,s){r&&r.m(l,s),S(l,t,s),i=!0},p(l,s){s&3&&(e=!A.isEmpty(l[10])),e?r?(r.p(l,s),s&3&&O(r,1)):(r=Gl(l),r.c(),O(r,1),r.m(t.parentNode,t)):r&&(ue(),N(r,1,1,()=>{r=null}),fe())},i(l){i||(O(r),i=!0)},o(l){N(r),i=!1},d(l){l&&v(t),r&&r.d(l)}}}function Xl(n){let e,t,i=we(n[7]),r=[];for(let s=0;s<i.length;s+=1)r[s]=Ql(Jl(n,i,s));const l=s=>N(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ge()},m(s,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(s,o);S(s,e,o),t=!0},p(s,o){if(o&3){i=we(s[7]);let a;for(a=0;a<i.length;a+=1){const u=Jl(s,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=Ql(u),r[a].c(),O(r[a],1),r[a].m(e.parentNode,e))}for(ue(),a=i.length;a<r.length;a+=1)l(a);fe()}},i(s){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(s){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(s){s&&v(e),cn(r,s)}}}function mp(n){let e,t,i,r,l,s,o=A.truncate(A.displayValue(n[0],n[2]),70)+"",a,u,f,c,m=we(n[1]),d=[];for(let p=0;p<m.length;p+=1)d[p]=Xl(Zl(n,m,p));const _=p=>N(d[p],1,1,()=>{d[p]=null});return{c(){e=w("div"),t=w("i"),r=q();for(let p=0;p<d.length;p+=1)d[p].c();l=q(),s=w("span"),a=re(o),h(t,"class","link-hint txt-sm ri-information-line"),h(s,"class","txt txt-ellipsis"),h(e,"class","record-info svelte-q8liga")},m(p,b){S(p,e,b),C(e,t),C(e,r);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(e,null);C(e,l),C(e,s),C(s,a),u=!0,f||(c=We(i=Je.call(null,t,{text:A.truncate(JSON.stringify(A.truncateObject(n[0]),null,2),800,!0),class:"code",position:"left"})),f=!0)},p(p,[b]){if(i&&st(i.update)&&b&1&&i.update.call(null,{text:A.truncate(JSON.stringify(A.truncateObject(p[0]),null,2),800,!0),class:"code",position:"left"}),b&3){m=we(p[1]);let g;for(g=0;g<m.length;g+=1){const y=Zl(p,m,g);d[g]?(d[g].p(y,b),O(d[g],1)):(d[g]=Xl(y),d[g].c(),O(d[g],1),d[g].m(e,l))}for(ue(),g=m.length;g<d.length;g+=1)_(g);fe()}(!u||b&5)&&o!==(o=A.truncate(A.displayValue(p[0],p[2]),70)+"")&&_e(a,o)},i(p){if(!u){for(let b=0;b<m.length;b+=1)O(d[b]);u=!0}},o(p){d=d.filter(Boolean);for(let b=0;b<d.length;b+=1)N(d[b]);u=!1},d(p){p&&v(e),cn(d,p),f=!1,c()}}}function hp(n,e,t){let i,r;Ke(n,dn,u=>t(4,r=u));let{record:l}=e,s=[],o=[];function a(){const u=(i==null?void 0:i.schema)||[];if(t(1,s=u.filter(f=>f.presentable&&f.type=="file").map(f=>f.name)),t(2,o=u.filter(f=>f.presentable&&f.type!="file").map(f=>f.name)),!s.length&&!o.length){const f=u.find(c=>{var m,d,_;return c.type=="file"&&((m=c.options)==null?void 0:m.maxSelect)==1&&((_=(d=c.options)==null?void 0:d.mimeTypes)==null?void 0:_.find(p=>p.startsWith("image/")))});f&&s.push(f.name)}}return n.$$set=u=>{"record"in u&&t(0,l=u.record)},n.$$.update=()=>{n.$$.dirty&17&&t(3,i=r==null?void 0:r.find(u=>u.id==(l==null?void 0:l.collectionId))),n.$$.dirty&8&&i&&a()},[l,s,o,i,r]}class kr extends ve{constructor(e){super(),ke(this,e,hp,mp,ye,{record:0})}}function pp(n){let e;return{c(){e=w("textarea"),h(e,"id",n[0]),ac(e,"visibility","hidden")},m(t,i){S(t,e,i),n[15](e)},p(t,i){i&1&&h(e,"id",t[0])},d(t){t&&v(e),n[15](null)}}}function gp(n){let e;return{c(){e=w("div"),h(e,"id",n[0])},m(t,i){S(t,e,i),n[14](e)},p(t,i){i&1&&h(e,"id",t[0])},d(t){t&&v(e),n[14](null)}}}function _p(n){let e;function t(l,s){return l[1]?gp:pp}let i=t(n),r=i(n);return{c(){e=w("div"),r.c(),h(e,"class",n[2])},m(l,s){S(l,e,s),r.m(e,null),n[16](e)},p(l,[s]){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e,null))),s&4&&h(e,"class",l[2])},i:G,o:G,d(l){l&&v(e),r.d(),n[16](null)}}}function bp(){let n={listeners:[],scriptLoaded:!1,injected:!1};function e(i,r,l){n.injected=!0;const s=i.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.src=r,s.onload=()=>{l()},i.head&&i.head.appendChild(s)}function t(i,r,l){n.scriptLoaded?l():(n.listeners.push(l),n.injected||e(i,r,()=>{n.listeners.forEach(s=>s()),n.scriptLoaded=!0}))}return{load:t}}let yp=bp();function Rr(){return window&&window.tinymce?window.tinymce:null}function wp(n,e,t){let{id:i="tinymce_svelte"+A.randomString(7)}=e,{inline:r=void 0}=e,{disabled:l=!1}=e,{scriptSrc:s="./libs/tinymce/tinymce.min.js"}=e,{conf:o={}}=e,{modelEvents:a="change input undo redo"}=e,{value:u=""}=e,{text:f=""}=e,{cssClass:c="tinymce-wrapper"}=e;const m=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],d=(I,R)=>{m.forEach(P=>{I.on(P,W=>{R(P.toLowerCase(),{eventName:P,event:W,editor:I})})})};let _,p,b,g=u,y=l;const T=Ct();function k(){const I={...o,target:p,inline:r!==void 0?r:o.inline!==void 0?o.inline:!1,readonly:l,setup:R=>{t(11,b=R),R.on("init",()=>{R.setContent(u),R.on(a,()=>{t(12,g=R.getContent()),g!==u&&(t(5,u=g),t(6,f=R.getContent({format:"text"})))})}),d(R,T),typeof o.setup=="function"&&o.setup(R)}};t(4,p.style.visibility="",p),Rr().init(I)}Ft(()=>(Rr()!==null?k():yp.load(_.ownerDocument,s,()=>{_&&k()}),()=>{var I,R;try{b&&((I=b.dom)==null||I.unbind(document),(R=Rr())==null||R.remove(b))}catch{}}));function E(I){oe[I?"unshift":"push"](()=>{p=I,t(4,p)})}function F(I){oe[I?"unshift":"push"](()=>{p=I,t(4,p)})}function L(I){oe[I?"unshift":"push"](()=>{_=I,t(3,_)})}return n.$$set=I=>{"id"in I&&t(0,i=I.id),"inline"in I&&t(1,r=I.inline),"disabled"in I&&t(7,l=I.disabled),"scriptSrc"in I&&t(8,s=I.scriptSrc),"conf"in I&&t(9,o=I.conf),"modelEvents"in I&&t(10,a=I.modelEvents),"value"in I&&t(5,u=I.value),"text"in I&&t(6,f=I.text),"cssClass"in I&&t(2,c=I.cssClass)},n.$$.update=()=>{var I;if(n.$$.dirty&14496)try{b&&g!==u&&(b.setContent(u),t(6,f=b.getContent({format:"text"}))),b&&l!==y&&(t(13,y=l),typeof((I=b.mode)==null?void 0:I.set)=="function"?b.mode.set(l?"readonly":"design"):b.setMode(l?"readonly":"design"))}catch(R){console.warn("TinyMCE reactive error:",R)}},[i,r,c,_,p,u,f,l,s,o,a,b,g,y,E,F,L]}class qf extends ve{constructor(e){super(),ke(this,e,wp,_p,ye,{id:0,inline:1,disabled:7,scriptSrc:8,conf:9,modelEvents:10,value:5,text:6,cssClass:2})}}function $l(n,e,t){const i=n.slice();return i[18]=e[t],i[8]=t,i}function xl(n,e,t){const i=n.slice();return i[13]=e[t],i}function eo(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function to(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function kp(n){const e=n.slice(),t=A.toArray(e[3]);e[16]=t;const i=e[2]?10:500;return e[17]=i,e}function vp(n){var l,s;const e=n.slice(),t=A.toArray(e[3]);e[9]=t;const i=A.toArray((s=(l=e[0])==null?void 0:l.expand)==null?void 0:s[e[1].name]);e[10]=i;const r=e[2]?20:500;return e[11]=r,e}function Sp(n){const e=n.slice(),t=A.trimQuotedValue(JSON.stringify(e[3]))||'""';return e[5]=t,e}function Cp(n){let e,t;return{c(){e=w("div"),t=re(n[3]),h(e,"class","block txt-break fallback-block svelte-jdf51v")},m(i,r){S(i,e,r),C(e,t)},p(i,r){r&8&&_e(t,i[3])},i:G,o:G,d(i){i&&v(e)}}}function Tp(n){let e,t=A.truncate(n[3])+"",i,r;return{c(){e=w("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=A.truncate(n[3]))},m(l,s){S(l,e,s),C(e,i)},p(l,s){s&8&&t!==(t=A.truncate(l[3])+"")&&_e(i,t),s&8&&r!==(r=A.truncate(l[3]))&&h(e,"title",r)},i:G,o:G,d(l){l&&v(e)}}}function Dp(n){let e,t=[],i=new Map,r,l,s=we(n[16].slice(0,n[17]));const o=u=>u[8]+u[18];for(let u=0;u<s.length;u+=1){let f=$l(n,s,u),c=o(f);i.set(c,t[u]=no(c,f))}let a=n[16].length>n[17]&&io();return{c(){var u;e=w("div");for(let f=0;f<t.length;f+=1)t[f].c();r=q(),a&&a.c(),h(e,"class","inline-flex"),J(e,"multiple",((u=n[1].options)==null?void 0:u.maxSelect)!=1)},m(u,f){S(u,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);C(e,r),a&&a.m(e,null),l=!0},p(u,f){var c;f&13&&(s=we(u[16].slice(0,u[17])),ue(),t=pt(t,f,o,1,u,s,i,e,Lt,no,r,$l),fe()),u[16].length>u[17]?a||(a=io(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!l||f&2)&&J(e,"multiple",((c=u[1].options)==null?void 0:c.maxSelect)!=1)},i(u){if(!l){for(let f=0;f<s.length;f+=1)O(t[f]);l=!0}},o(u){for(let f=0;f<t.length;f+=1)N(t[f]);l=!1},d(u){u&&v(e);for(let f=0;f<t.length;f+=1)t[f].d();a&&a.d()}}}function Op(n){let e,t,i,r,l;const s=[qp,Rp],o=[];function a(f,c){return f[10].length?0:1}t=a(n),i=o[t]=s[t](n);let u=n[9].length>n[11]&&lo();return{c(){e=w("div"),i.c(),r=q(),u&&u.c(),h(e,"class","inline-flex")},m(f,c){S(f,e,c),o[t].m(e,null),C(e,r),u&&u.m(e,null),l=!0},p(f,c){let m=t;t=a(f),t===m?o[t].p(f,c):(ue(),N(o[m],1,1,()=>{o[m]=null}),fe(),i=o[t],i?i.p(f,c):(i=o[t]=s[t](f),i.c()),O(i,1),i.m(e,r)),f[9].length>f[11]?u||(u=lo(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){l||(O(i),l=!0)},o(f){N(i),l=!1},d(f){f&&v(e),o[t].d(),u&&u.d()}}}function Ep(n){let e,t=[],i=new Map,r=we(A.toArray(n[3]));const l=s=>s[8]+s[6];for(let s=0;s<r.length;s+=1){let o=to(n,r,s),a=l(o);i.set(a,t[s]=oo(a,o))}return{c(){e=w("div");for(let s=0;s<t.length;s+=1)t[s].c();h(e,"class","inline-flex")},m(s,o){S(s,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,o){o&8&&(r=we(A.toArray(s[3])),t=pt(t,o,l,1,s,r,i,e,as,oo,null,to))},i:G,o:G,d(s){s&&v(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Mp(n){let e,t;return e=new Ds({props:{date:n[3]}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&8&&(l.date=i[3]),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Ip(n){let e,t,i,r;const l=[Vp,jp],s=[];function o(a,u){return a[2]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ge()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(ue(),N(s[f],1,1,()=>{s[f]=null}),fe(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&v(i),s[e].d(a)}}}function Np(n){let e,t=A.truncate(n[3])+"",i,r,l;return{c(){e=w("a"),i=re(t),h(e,"class","txt-ellipsis"),h(e,"href",n[3]),h(e,"target","_blank"),h(e,"rel","noopener noreferrer")},m(s,o){S(s,e,o),C(e,i),r||(l=[We(Je.call(null,e,"Open in new tab")),ee(e,"click",Xt(n[4]))],r=!0)},p(s,o){o&8&&t!==(t=A.truncate(s[3])+"")&&_e(i,t),o&8&&h(e,"href",s[3])},i:G,o:G,d(s){s&&v(e),r=!1,De(l)}}}function Ap(n){let e,t;return{c(){e=w("span"),t=re(n[3]),h(e,"class","txt")},m(i,r){S(i,e,r),C(e,t)},p(i,r){r&8&&_e(t,i[3])},i:G,o:G,d(i){i&&v(e)}}}function Lp(n){let e,t=n[3]?"True":"False",i;return{c(){e=w("span"),i=re(t),h(e,"class","txt")},m(r,l){S(r,e,l),C(e,i)},p(r,l){l&8&&t!==(t=r[3]?"True":"False")&&_e(i,t)},i:G,o:G,d(r){r&&v(e)}}}function Fp(n){let e;return{c(){e=w("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:G,i:G,o:G,d(t){t&&v(e)}}}function Pp(n){let e,t,i,r;const l=[Hp,Wp],s=[];function o(a,u){return a[2]?0:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ge()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(ue(),N(s[f],1,1,()=>{s[f]=null}),fe(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&v(i),s[e].d(a)}}}function no(n,e){let t,i,r;return i=new Os({props:{record:e[0],filename:e[18],size:"sm"}}),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(l,s){S(l,t,s),Q(i,l,s),r=!0},p(l,s){e=l;const o={};s&1&&(o.record=e[0]),s&12&&(o.filename=e[18]),i.$set(o)},i(l){r||(O(i.$$.fragment,l),r=!0)},o(l){N(i.$$.fragment,l),r=!1},d(l){l&&v(t),X(i,l)}}}function io(n){let e;return{c(){e=re("...")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Rp(n){let e,t=we(n[9].slice(0,n[11])),i=[];for(let r=0;r<t.length;r+=1)i[r]=ro(xl(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ge()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l&12){t=we(r[9].slice(0,r[11]));let s;for(s=0;s<t.length;s+=1){const o=xl(r,t,s);i[s]?i[s].p(o,l):(i[s]=ro(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},i:G,o:G,d(r){r&&v(e),cn(i,r)}}}function qp(n){let e=[],t=new Map,i,r,l=we(n[10].slice(0,n[11]));const s=o=>o[8]+o[6];for(let o=0;o<l.length;o+=1){let a=eo(n,l,o),u=s(a);t.set(u,e[o]=so(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();i=ge()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);S(o,i,a),r=!0},p(o,a){a&7&&(l=we(o[10].slice(0,o[11])),ue(),e=pt(e,a,s,1,o,l,t,i.parentNode,Lt,so,i,eo),fe())},i(o){if(!r){for(let a=0;a<l.length;a+=1)O(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)N(e[a]);r=!1},d(o){o&&v(i);for(let a=0;a<e.length;a+=1)e[a].d(o)}}}function ro(n){let e,t=n[13]+"",i;return{c(){e=w("span"),i=re(t),h(e,"class","label")},m(r,l){S(r,e,l),C(e,i)},p(r,l){l&12&&t!==(t=r[13]+"")&&_e(i,t)},d(r){r&&v(e)}}}function so(n,e){let t,i,r,l;return i=new kr({props:{record:e[6]}}),{key:n,first:null,c(){t=w("span"),$(i.$$.fragment),r=q(),h(t,"class","label"),this.first=t},m(s,o){S(s,t,o),Q(i,t,null),C(t,r),l=!0},p(s,o){e=s;const a={};o&7&&(a.record=e[6]),i.$set(a)},i(s){l||(O(i.$$.fragment,s),l=!0)},o(s){N(i.$$.fragment,s),l=!1},d(s){s&&v(t),X(i)}}}function lo(n){let e;return{c(){e=re("...")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function oo(n,e){let t,i=e[6]+"",r;return{key:n,first:null,c(){t=w("span"),r=re(i),h(t,"class","label"),this.first=t},m(l,s){S(l,t,s),C(t,r)},p(l,s){e=l,s&8&&i!==(i=e[6]+"")&&_e(r,i)},d(l){l&&v(t)}}}function jp(n){let e,t;return e=new qf({props:{cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,statusbar:!1,min_height:30,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"],skin:"pocketbase"},value:n[3],disabled:!0}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&8&&(l.value=i[3]),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Vp(n){let e,t=A.truncate(A.plainText(n[3]),195)+"",i;return{c(){e=w("span"),i=re(t),h(e,"class","txt")},m(r,l){S(r,e,l),C(e,i)},p(r,l){l&8&&t!==(t=A.truncate(A.plainText(r[3]),195)+"")&&_e(i,t)},i:G,o:G,d(r){r&&v(e)}}}function Wp(n){let e,t=A.truncate(n[5],500,!0)+"",i,r,l,s,o=n[5].length>500&&ao(n);return{c(){e=w("span"),i=re(t),r=q(),o&&o.c(),l=ge(),h(e,"class","txt")},m(a,u){S(a,e,u),C(e,i),S(a,r,u),o&&o.m(a,u),S(a,l,u),s=!0},p(a,u){(!s||u&8)&&t!==(t=A.truncate(a[5],500,!0)+"")&&_e(i,t),a[5].length>500?o?(o.p(a,u),u&8&&O(o,1)):(o=ao(a),o.c(),O(o,1),o.m(l.parentNode,l)):o&&(ue(),N(o,1,1,()=>{o=null}),fe())},i(a){s||(O(o),s=!0)},o(a){N(o),s=!1},d(a){a&&(v(e),v(r),v(l)),o&&o.d(a)}}}function Hp(n){let e,t=A.truncate(n[5])+"",i;return{c(){e=w("span"),i=re(t),h(e,"class","txt txt-ellipsis")},m(r,l){S(r,e,l),C(e,i)},p(r,l){l&8&&t!==(t=A.truncate(r[5])+"")&&_e(i,t)},i:G,o:G,d(r){r&&v(e)}}}function ao(n){let e,t;return e=new Ts({props:{value:JSON.stringify(n[3],null,2)}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&8&&(l.value=JSON.stringify(i[3],null,2)),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Up(n){let e,t,i,r,l;const s=[Pp,Fp,Lp,Ap,Np,Ip,Mp,Ep,Op,Dp,Tp,Cp],o=[];function a(f,c){return c&8&&(e=null),f[1].type==="json"?0:(e==null&&(e=!!A.isEmpty(f[3])),e?1:f[1].type==="bool"?2:f[1].type==="number"?3:f[1].type==="url"?4:f[1].type==="editor"?5:f[1].type==="date"?6:f[1].type==="select"?7:f[1].type==="relation"?8:f[1].type==="file"?9:f[2]?10:11)}function u(f,c){return c===0?Sp(f):c===8?vp(f):c===9?kp(f):f}return t=a(n,-1),i=o[t]=s[t](u(n,t)),{c(){i.c(),r=ge()},m(f,c){o[t].m(f,c),S(f,r,c),l=!0},p(f,[c]){let m=t;t=a(f,c),t===m?o[t].p(u(f,t),c):(ue(),N(o[m],1,1,()=>{o[m]=null}),fe(),i=o[t],i?i.p(u(f,t),c):(i=o[t]=s[t](u(f,t)),i.c()),O(i,1),i.m(r.parentNode,r))},i(f){l||(O(i),l=!0)},o(f){N(i),l=!1},d(f){f&&v(r),o[t].d(f)}}}function zp(n,e,t){let i,{record:r}=e,{field:l}=e,{short:s=!1}=e;function o(a){St.call(this,n,a)}return n.$$set=a=>{"record"in a&&t(0,r=a.record),"field"in a&&t(1,l=a.field),"short"in a&&t(2,s=a.short)},n.$$.update=()=>{n.$$.dirty&3&&t(3,i=r==null?void 0:r[l.name])},[r,l,s,i,o]}class Yp extends ve{constructor(e){super(),ke(this,e,zp,Up,ye,{record:0,field:1,short:2})}}function uo(n,e,t){const i=n.slice();return i[64]=e[t],i}function fo(n,e,t){const i=n.slice();return i[67]=e[t],i}function co(n,e,t){const i=n.slice();return i[67]=e[t],i}function mo(n,e,t){const i=n.slice();return i[60]=e[t],i}function ho(n){let e;function t(l,s){return l[14]?Kp:Bp}let i=t(n),r=i(n);return{c(){e=w("th"),r.c(),h(e,"class","bulk-select-col min-width")},m(l,s){S(l,e,s),r.m(e,null)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e,null)))},d(l){l&&v(e),r.d()}}}function Bp(n){let e,t,i,r,l,s,o;return{c(){e=w("div"),t=w("input"),r=q(),l=w("label"),h(t,"type","checkbox"),h(t,"id","checkbox_0"),t.disabled=i=!n[4].length,t.checked=n[18],h(l,"for","checkbox_0"),h(e,"class","form-field")},m(a,u){S(a,e,u),C(e,t),C(e,r),C(e,l),s||(o=ee(t,"change",n[32]),s=!0)},p(a,u){u[0]&16&&i!==(i=!a[4].length)&&(t.disabled=i),u[0]&262144&&(t.checked=a[18])},d(a){a&&v(e),s=!1,o()}}}function Kp(n){let e;return{c(){e=w("span"),h(e,"class","loader loader-sm")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function po(n){let e,t,i;function r(s){n[33](s)}let l={class:"col-type-text col-field-id",name:"id",$$slots:{default:[Zp]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new ii({props:l}),oe.push(()=>Ae(e,"sort",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:s}),!t&&o[0]&1&&(t=!0,a.sort=s[0],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function Zp(n){let e;return{c(){e=w("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("primary")}"></i> <span class="txt">id</span>`,h(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function go(n){let e=!n[6].includes("@username"),t,i=!n[6].includes("@email"),r,l,s=e&&_o(n),o=i&&bo(n);return{c(){s&&s.c(),t=q(),o&&o.c(),r=ge()},m(a,u){s&&s.m(a,u),S(a,t,u),o&&o.m(a,u),S(a,r,u),l=!0},p(a,u){u[0]&64&&(e=!a[6].includes("@username")),e?s?(s.p(a,u),u[0]&64&&O(s,1)):(s=_o(a),s.c(),O(s,1),s.m(t.parentNode,t)):s&&(ue(),N(s,1,1,()=>{s=null}),fe()),u[0]&64&&(i=!a[6].includes("@email")),i?o?(o.p(a,u),u[0]&64&&O(o,1)):(o=bo(a),o.c(),O(o,1),o.m(r.parentNode,r)):o&&(ue(),N(o,1,1,()=>{o=null}),fe())},i(a){l||(O(s),O(o),l=!0)},o(a){N(s),N(o),l=!1},d(a){a&&(v(t),v(r)),s&&s.d(a),o&&o.d(a)}}}function _o(n){let e,t,i;function r(s){n[34](s)}let l={class:"col-type-text col-field-id",name:"username",$$slots:{default:[Jp]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new ii({props:l}),oe.push(()=>Ae(e,"sort",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:s}),!t&&o[0]&1&&(t=!0,a.sort=s[0],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function Jp(n){let e;return{c(){e=w("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("user")}"></i> <span class="txt">username</span>`,h(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function bo(n){let e,t,i;function r(s){n[35](s)}let l={class:"col-type-email col-field-email",name:"email",$$slots:{default:[Gp]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new ii({props:l}),oe.push(()=>Ae(e,"sort",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:s}),!t&&o[0]&1&&(t=!0,a.sort=s[0],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function Gp(n){let e;return{c(){e=w("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("email")}"></i> <span class="txt">email</span>`,h(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function Qp(n){let e,t,i,r,l,s=n[67].name+"",o;return{c(){e=w("div"),t=w("i"),r=q(),l=w("span"),o=re(s),h(t,"class",i=A.getFieldTypeIcon(n[67].type)),h(l,"class","txt"),h(e,"class","col-header-content")},m(a,u){S(a,e,u),C(e,t),C(e,r),C(e,l),C(l,o)},p(a,u){u[0]&1048576&&i!==(i=A.getFieldTypeIcon(a[67].type))&&h(t,"class",i),u[0]&1048576&&s!==(s=a[67].name+"")&&_e(o,s)},d(a){a&&v(e)}}}function yo(n,e){let t,i,r,l;function s(a){e[36](a)}let o={class:"col-type-"+e[67].type+" col-field-"+e[67].name,name:e[67].name,$$slots:{default:[Qp]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.sort=e[0]),i=new ii({props:o}),oe.push(()=>Ae(i,"sort",s)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&1048576&&(f.class="col-type-"+e[67].type+" col-field-"+e[67].name),u[0]&1048576&&(f.name=e[67].name),u[0]&1048576|u[2]&1024&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&1&&(r=!0,f.sort=e[0],Fe(()=>r=!1)),i.$set(f)},i(a){l||(O(i.$$.fragment,a),l=!0)},o(a){N(i.$$.fragment,a),l=!1},d(a){a&&v(t),X(i,a)}}}function wo(n){let e,t,i;function r(s){n[37](s)}let l={class:"col-type-date col-field-created",name:"created",$$slots:{default:[Xp]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new ii({props:l}),oe.push(()=>Ae(e,"sort",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:s}),!t&&o[0]&1&&(t=!0,a.sort=s[0],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function Xp(n){let e;return{c(){e=w("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("date")}"></i> <span class="txt">created</span>`,h(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function ko(n){let e,t,i;function r(s){n[38](s)}let l={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[$p]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new ii({props:l}),oe.push(()=>Ae(e,"sort",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[2]&1024&&(a.$$scope={dirty:o,ctx:s}),!t&&o[0]&1&&(t=!0,a.sort=s[0],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function $p(n){let e;return{c(){e=w("div"),e.innerHTML=`<i class="${A.getFieldTypeIcon("date")}"></i> <span class="txt">updated</span>`,h(e,"class","col-header-content")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function vo(n){let e;return{c(){e=w("button"),e.innerHTML='<i class="ri-more-line"></i>',h(e,"type","button"),h(e,"aria-label","Toggle columns"),h(e,"class","btn btn-sm btn-transparent p-0")},m(t,i){S(t,e,i),n[39](e)},p:G,d(t){t&&v(e),n[39](null)}}}function So(n){let e;function t(l,s){return l[14]?eg:xp}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&v(e),r.d(l)}}}function xp(n){let e,t,i,r;function l(a,u){var f;if((f=a[1])!=null&&f.length)return ng;if(!a[11]&&a[21].createRule!==null)return tg}let s=l(n),o=s&&s(n);return{c(){e=w("tr"),t=w("td"),i=w("h6"),i.textContent="No records found.",r=q(),o&&o.c(),h(t,"colspan","99"),h(t,"class","txt-center txt-hint p-xs")},m(a,u){S(a,e,u),C(e,t),C(t,i),C(t,r),o&&o.m(t,null)},p(a,u){s===(s=l(a))&&o?o.p(a,u):(o&&o.d(1),o=s&&s(a),o&&(o.c(),o.m(t,null)))},d(a){a&&v(e),o&&o.d()}}}function eg(n){let e;return{c(){e=w("tr"),e.innerHTML='<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td>'},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function tg(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',h(e,"type","button"),h(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(r,l){S(r,e,l),t||(i=ee(e,"click",n[43]),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function ng(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<span class="txt">Clear filters</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-expanded m-t-sm")},m(r,l){S(r,e,l),t||(i=ee(e,"click",n[42]),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function Co(n){let e,t,i,r,l,s,o,a,u,f;function c(){return n[40](n[64])}return{c(){e=w("td"),t=w("div"),i=w("input"),s=q(),o=w("label"),h(i,"type","checkbox"),h(i,"id",r="checkbox_"+n[64].id),i.checked=l=n[5][n[64].id],h(o,"for",a="checkbox_"+n[64].id),h(t,"class","form-field"),h(e,"class","bulk-select-col min-width")},m(m,d){S(m,e,d),C(e,t),C(t,i),C(t,s),C(t,o),u||(f=[ee(i,"change",c),ee(t,"click",Xt(n[30]))],u=!0)},p(m,d){n=m,d[0]&16&&r!==(r="checkbox_"+n[64].id)&&h(i,"id",r),d[0]&48&&l!==(l=n[5][n[64].id])&&(i.checked=l),d[0]&16&&a!==(a="checkbox_"+n[64].id)&&h(o,"for",a)},d(m){m&&v(e),u=!1,De(f)}}}function To(n){let e,t,i,r,l,s,o=n[64].id+"",a,u,f;r=new Ts({props:{value:n[64].id}});let c=n[10]&&Do(n);return{c(){e=w("td"),t=w("div"),i=w("div"),$(r.$$.fragment),l=q(),s=w("div"),a=re(o),u=q(),c&&c.c(),h(s,"class","txt txt-ellipsis"),h(i,"class","label"),h(t,"class","flex flex-gap-5"),h(e,"class","col-type-text col-field-id")},m(m,d){S(m,e,d),C(e,t),C(t,i),Q(r,i,null),C(i,l),C(i,s),C(s,a),C(t,u),c&&c.m(t,null),f=!0},p(m,d){const _={};d[0]&16&&(_.value=m[64].id),r.$set(_),(!f||d[0]&16)&&o!==(o=m[64].id+"")&&_e(a,o),m[10]?c?c.p(m,d):(c=Do(m),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(m){f||(O(r.$$.fragment,m),f=!0)},o(m){N(r.$$.fragment,m),f=!1},d(m){m&&v(e),X(r),c&&c.d()}}}function Do(n){let e;function t(l,s){return l[64].verified?rg:ig}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(l,s){r.m(l,s),S(l,e,s)},p(l,s){i!==(i=t(l))&&(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&v(e),r.d(l)}}}function ig(n){let e,t,i;return{c(){e=w("i"),h(e,"class","ri-error-warning-fill txt-sm txt-hint")},m(r,l){S(r,e,l),t||(i=We(Je.call(null,e,"Unverified")),t=!0)},d(r){r&&v(e),t=!1,i()}}}function rg(n){let e,t,i;return{c(){e=w("i"),h(e,"class","ri-checkbox-circle-fill txt-sm txt-success")},m(r,l){S(r,e,l),t||(i=We(Je.call(null,e,"Verified")),t=!0)},d(r){r&&v(e),t=!1,i()}}}function Oo(n){let e=!n[6].includes("@username"),t,i=!n[6].includes("@email"),r,l=e&&Eo(n),s=i&&Mo(n);return{c(){l&&l.c(),t=q(),s&&s.c(),r=ge()},m(o,a){l&&l.m(o,a),S(o,t,a),s&&s.m(o,a),S(o,r,a)},p(o,a){a[0]&64&&(e=!o[6].includes("@username")),e?l?l.p(o,a):(l=Eo(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),a[0]&64&&(i=!o[6].includes("@email")),i?s?s.p(o,a):(s=Mo(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(o){o&&(v(t),v(r)),l&&l.d(o),s&&s.d(o)}}}function Eo(n){let e,t;function i(s,o){return o[0]&16&&(t=null),t==null&&(t=!!A.isEmpty(s[64].username)),t?lg:sg}let r=i(n,[-1,-1,-1]),l=r(n);return{c(){e=w("td"),l.c(),h(e,"class","col-type-text col-field-username")},m(s,o){S(s,e,o),l.m(e,null)},p(s,o){r===(r=i(s,o))&&l?l.p(s,o):(l.d(1),l=r(s),l&&(l.c(),l.m(e,null)))},d(s){s&&v(e),l.d()}}}function sg(n){let e,t=n[64].username+"",i,r;return{c(){e=w("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=n[64].username)},m(l,s){S(l,e,s),C(e,i)},p(l,s){s[0]&16&&t!==(t=l[64].username+"")&&_e(i,t),s[0]&16&&r!==(r=l[64].username)&&h(e,"title",r)},d(l){l&&v(e)}}}function lg(n){let e;return{c(){e=w("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function Mo(n){let e,t;function i(s,o){return o[0]&16&&(t=null),t==null&&(t=!!A.isEmpty(s[64].email)),t?ag:og}let r=i(n,[-1,-1,-1]),l=r(n);return{c(){e=w("td"),l.c(),h(e,"class","col-type-text col-field-email")},m(s,o){S(s,e,o),l.m(e,null)},p(s,o){r===(r=i(s,o))&&l?l.p(s,o):(l.d(1),l=r(s),l&&(l.c(),l.m(e,null)))},d(s){s&&v(e),l.d()}}}function og(n){let e,t=n[64].email+"",i,r;return{c(){e=w("span"),i=re(t),h(e,"class","txt txt-ellipsis"),h(e,"title",r=n[64].email)},m(l,s){S(l,e,s),C(e,i)},p(l,s){s[0]&16&&t!==(t=l[64].email+"")&&_e(i,t),s[0]&16&&r!==(r=l[64].email)&&h(e,"title",r)},d(l){l&&v(e)}}}function ag(n){let e;return{c(){e=w("span"),e.textContent="N/A",h(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function Io(n,e){let t,i,r,l;return i=new Yp({props:{short:!0,record:e[64],field:e[67]}}),{key:n,first:null,c(){t=w("td"),$(i.$$.fragment),h(t,"class",r="col-type-"+e[67].type+" col-field-"+e[67].name),this.first=t},m(s,o){S(s,t,o),Q(i,t,null),l=!0},p(s,o){e=s;const a={};o[0]&16&&(a.record=e[64]),o[0]&1048576&&(a.field=e[67]),i.$set(a),(!l||o[0]&1048576&&r!==(r="col-type-"+e[67].type+" col-field-"+e[67].name))&&h(t,"class",r)},i(s){l||(O(i.$$.fragment,s),l=!0)},o(s){N(i.$$.fragment,s),l=!1},d(s){s&&v(t),X(i)}}}function No(n){let e,t,i;return t=new Ds({props:{date:n[64].created}}),{c(){e=w("td"),$(t.$$.fragment),h(e,"class","col-type-date col-field-created")},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p(r,l){const s={};l[0]&16&&(s.date=r[64].created),t.$set(s)},i(r){i||(O(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){r&&v(e),X(t)}}}function Ao(n){let e,t,i;return t=new Ds({props:{date:n[64].updated}}),{c(){e=w("td"),$(t.$$.fragment),h(e,"class","col-type-date col-field-updated")},m(r,l){S(r,e,l),Q(t,e,null),i=!0},p(r,l){const s={};l[0]&16&&(s.date=r[64].updated),t.$set(s)},i(r){i||(O(t.$$.fragment,r),i=!0)},o(r){N(t.$$.fragment,r),i=!1},d(r){r&&v(e),X(t)}}}function Lo(n,e){let t,i,r=!e[6].includes("@id"),l,s,o=[],a=new Map,u,f=e[9]&&!e[6].includes("@created"),c,m=e[8]&&!e[6].includes("@updated"),d,_,p,b,g,y=!e[11]&&Co(e),T=r&&To(e),k=e[10]&&Oo(e),E=we(e[20]);const F=P=>P[67].name;for(let P=0;P<E.length;P+=1){let W=fo(e,E,P),K=F(W);a.set(K,o[P]=Io(K,W))}let L=f&&No(e),I=m&&Ao(e);function R(){return e[41](e[64])}return{key:n,first:null,c(){t=w("tr"),y&&y.c(),i=q(),T&&T.c(),l=q(),k&&k.c(),s=q();for(let P=0;P<o.length;P+=1)o[P].c();u=q(),L&&L.c(),c=q(),I&&I.c(),d=q(),_=w("td"),_.innerHTML='<i class="ri-arrow-right-line"></i>',h(_,"class","col-type-action min-width"),h(t,"tabindex","0"),h(t,"class","row-handle"),this.first=t},m(P,W){S(P,t,W),y&&y.m(t,null),C(t,i),T&&T.m(t,null),C(t,l),k&&k.m(t,null),C(t,s);for(let K=0;K<o.length;K+=1)o[K]&&o[K].m(t,null);C(t,u),L&&L.m(t,null),C(t,c),I&&I.m(t,null),C(t,d),C(t,_),p=!0,b||(g=ee(t,"click",R),b=!0)},p(P,W){e=P,e[11]?y&&(y.d(1),y=null):y?y.p(e,W):(y=Co(e),y.c(),y.m(t,i)),W[0]&64&&(r=!e[6].includes("@id")),r?T?(T.p(e,W),W[0]&64&&O(T,1)):(T=To(e),T.c(),O(T,1),T.m(t,l)):T&&(ue(),N(T,1,1,()=>{T=null}),fe()),e[10]?k?k.p(e,W):(k=Oo(e),k.c(),k.m(t,s)):k&&(k.d(1),k=null),W[0]&1048592&&(E=we(e[20]),ue(),o=pt(o,W,F,1,e,E,a,t,Lt,Io,u,fo),fe()),W[0]&576&&(f=e[9]&&!e[6].includes("@created")),f?L?(L.p(e,W),W[0]&576&&O(L,1)):(L=No(e),L.c(),O(L,1),L.m(t,c)):L&&(ue(),N(L,1,1,()=>{L=null}),fe()),W[0]&320&&(m=e[8]&&!e[6].includes("@updated")),m?I?(I.p(e,W),W[0]&320&&O(I,1)):(I=Ao(e),I.c(),O(I,1),I.m(t,d)):I&&(ue(),N(I,1,1,()=>{I=null}),fe())},i(P){if(!p){O(T);for(let W=0;W<E.length;W+=1)O(o[W]);O(L),O(I),p=!0}},o(P){N(T);for(let W=0;W<o.length;W+=1)N(o[W]);N(L),N(I),p=!1},d(P){P&&v(t),y&&y.d(),T&&T.d(),k&&k.d();for(let W=0;W<o.length;W+=1)o[W].d();L&&L.d(),I&&I.d(),b=!1,g()}}}function Fo(n){let e,t,i,r,l,s;return{c(){e=w("tr"),t=w("td"),i=w("button"),r=w("span"),r.textContent="Load more",h(r,"class","txt"),h(i,"class","btn btn-expanded-lg btn-secondary btn-horizontal-sticky"),i.disabled=n[14],J(i,"btn-loading",n[14]),h(t,"colspan","99"),h(t,"class","txt-center")},m(o,a){S(o,e,a),C(e,t),C(t,i),C(i,r),l||(s=ee(i,"click",Xe(n[44])),l=!0)},p(o,a){a[0]&16384&&(i.disabled=o[14]),a[0]&16384&&J(i,"btn-loading",o[14])},d(o){o&&v(e),l=!1,s()}}}function ug(n){let e,t,i,r,l=!n[6].includes("@id"),s,o,a=[],u=new Map,f,c=n[9]&&!n[6].includes("@created"),m,d=n[8]&&!n[6].includes("@updated"),_,p,b,g,y=[],T=new Map,k,E,F=!n[11]&&ho(n),L=l&&po(n),I=n[10]&&go(n),R=we(n[20]);const P=H=>H[67].name;for(let H=0;H<R.length;H+=1){let j=co(n,R,H),Me=P(j);u.set(Me,a[H]=yo(Me,j))}let W=c&&wo(n),K=d&&ko(n),U=n[17].length&&vo(n),te=we(n[4]);const ne=H=>H[11]?H[64]:H[64].id;for(let H=0;H<te.length;H+=1){let j=uo(n,te,H),Me=ne(j);T.set(Me,y[H]=Lo(Me,j))}let Y=null;te.length||(Y=So(n));let z=n[4].length&&n[19]&&Fo(n);return{c(){e=w("table"),t=w("thead"),i=w("tr"),F&&F.c(),r=q(),L&&L.c(),s=q(),I&&I.c(),o=q();for(let H=0;H<a.length;H+=1)a[H].c();f=q(),W&&W.c(),m=q(),K&&K.c(),_=q(),p=w("th"),U&&U.c(),b=q(),g=w("tbody");for(let H=0;H<y.length;H+=1)y[H].c();Y&&Y.c(),k=q(),z&&z.c(),h(p,"class","col-type-action min-width"),h(e,"class","table"),J(e,"table-loading",n[14])},m(H,j){S(H,e,j),C(e,t),C(t,i),F&&F.m(i,null),C(i,r),L&&L.m(i,null),C(i,s),I&&I.m(i,null),C(i,o);for(let Me=0;Me<a.length;Me+=1)a[Me]&&a[Me].m(i,null);C(i,f),W&&W.m(i,null),C(i,m),K&&K.m(i,null),C(i,_),C(i,p),U&&U.m(p,null),C(e,b),C(e,g);for(let Me=0;Me<y.length;Me+=1)y[Me]&&y[Me].m(g,null);Y&&Y.m(g,null),C(g,k),z&&z.m(g,null),E=!0},p(H,j){H[11]?F&&(F.d(1),F=null):F?F.p(H,j):(F=ho(H),F.c(),F.m(i,r)),j[0]&64&&(l=!H[6].includes("@id")),l?L?(L.p(H,j),j[0]&64&&O(L,1)):(L=po(H),L.c(),O(L,1),L.m(i,s)):L&&(ue(),N(L,1,1,()=>{L=null}),fe()),H[10]?I?(I.p(H,j),j[0]&1024&&O(I,1)):(I=go(H),I.c(),O(I,1),I.m(i,o)):I&&(ue(),N(I,1,1,()=>{I=null}),fe()),j[0]&1048577&&(R=we(H[20]),ue(),a=pt(a,j,P,1,H,R,u,i,Lt,yo,f,co),fe()),j[0]&576&&(c=H[9]&&!H[6].includes("@created")),c?W?(W.p(H,j),j[0]&576&&O(W,1)):(W=wo(H),W.c(),O(W,1),W.m(i,m)):W&&(ue(),N(W,1,1,()=>{W=null}),fe()),j[0]&320&&(d=H[8]&&!H[6].includes("@updated")),d?K?(K.p(H,j),j[0]&320&&O(K,1)):(K=ko(H),K.c(),O(K,1),K.m(i,_)):K&&(ue(),N(K,1,1,()=>{K=null}),fe()),H[17].length?U?U.p(H,j):(U=vo(H),U.c(),U.m(p,null)):U&&(U.d(1),U=null),j[0]&19943286&&(te=we(H[4]),ue(),y=pt(y,j,ne,1,H,te,T,g,Lt,Lo,k,uo),fe(),!te.length&&Y?Y.p(H,j):te.length?Y&&(Y.d(1),Y=null):(Y=So(H),Y.c(),Y.m(g,k))),H[4].length&&H[19]?z?z.p(H,j):(z=Fo(H),z.c(),z.m(g,null)):z&&(z.d(1),z=null),(!E||j[0]&16384)&&J(e,"table-loading",H[14])},i(H){if(!E){O(L),O(I);for(let j=0;j<R.length;j+=1)O(a[j]);O(W),O(K);for(let j=0;j<te.length;j+=1)O(y[j]);E=!0}},o(H){N(L),N(I);for(let j=0;j<a.length;j+=1)N(a[j]);N(W),N(K);for(let j=0;j<y.length;j+=1)N(y[j]);E=!1},d(H){H&&v(e),F&&F.d(),L&&L.d(),I&&I.d();for(let j=0;j<a.length;j+=1)a[j].d();W&&W.d(),K&&K.d(),U&&U.d();for(let j=0;j<y.length;j+=1)y[j].d();Y&&Y.d(),z&&z.d()}}}function Po(n){let e,t;return e=new Ni({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:n[16],$$slots:{default:[cg]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&65536&&(l.trigger=i[16]),r[0]&131136|r[2]&1024&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function fg(n){let e,t,i,r,l,s=n[60].name+"",o,a,u,f,c;function m(...d){return n[31](n[60],...d)}return{c(){e=w("input"),r=q(),l=w("label"),o=re(s),u=q(),h(e,"type","checkbox"),h(e,"id",t=n[63]),e.checked=i=!n[6].includes(n[60].id),h(l,"for",a=n[63])},m(d,_){S(d,e,_),S(d,r,_),S(d,l,_),C(l,o),S(d,u,_),f||(c=ee(e,"change",m),f=!0)},p(d,_){n=d,_[2]&2&&t!==(t=n[63])&&h(e,"id",t),_[0]&131136&&i!==(i=!n[6].includes(n[60].id))&&(e.checked=i),_[0]&131072&&s!==(s=n[60].name+"")&&_e(o,s),_[2]&2&&a!==(a=n[63])&&h(l,"for",a)},d(d){d&&(v(e),v(r),v(l),v(u)),f=!1,c()}}}function Ro(n,e){let t,i,r;return i=new xe({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[fg,({uniqueId:l})=>({63:l}),({uniqueId:l})=>[0,0,l?2:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(l,s){S(l,t,s),Q(i,l,s),r=!0},p(l,s){e=l;const o={};s[0]&131136|s[2]&1026&&(o.$$scope={dirty:s,ctx:e}),i.$set(o)},i(l){r||(O(i.$$.fragment,l),r=!0)},o(l){N(i.$$.fragment,l),r=!1},d(l){l&&v(t),X(i,l)}}}function cg(n){let e,t,i=[],r=new Map,l,s,o=we(n[17]);const a=u=>u[60].id+u[60].name;for(let u=0;u<o.length;u+=1){let f=mo(n,o,u),c=a(f);r.set(c,i[u]=Ro(c,f))}return{c(){e=w("div"),e.textContent="Toggle columns",t=q();for(let u=0;u<i.length;u+=1)i[u].c();l=ge(),h(e,"class","txt-hint txt-sm p-5 m-b-5")},m(u,f){S(u,e,f),S(u,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,f);S(u,l,f),s=!0},p(u,f){f[0]&131136|f[2]&2&&(o=we(u[17]),ue(),i=pt(i,f,a,1,u,o,r,l.parentNode,Lt,Ro,l,mo),fe())},i(u){if(!s){for(let f=0;f<o.length;f+=1)O(i[f]);s=!0}},o(u){for(let f=0;f<i.length;f+=1)N(i[f]);s=!1},d(u){u&&(v(e),v(t),v(l));for(let f=0;f<i.length;f+=1)i[f].d(u)}}}function dg(n){let e,t,i=n[16]&&Po(n);return{c(){i&&i.c(),e=ge()},m(r,l){i&&i.m(r,l),S(r,e,l),t=!0},p(r,l){r[16]?i?(i.p(r,l),l[0]&65536&&O(i,1)):(i=Po(r),i.c(),O(i,1),i.m(e.parentNode,e)):i&&(ue(),N(i,1,1,()=>{i=null}),fe())},i(r){t||(O(i),t=!0)},o(r){N(i),t=!1},d(r){r&&v(e),i&&i.d(r)}}}function qo(n){let e,t,i,r,l,s,o=n[7]===1?"record":"records",a,u,f,c,m,d,_,p,b,g,y;return{c(){e=w("div"),t=w("div"),i=re("Selected "),r=w("strong"),l=re(n[7]),s=q(),a=re(o),u=q(),f=w("button"),f.innerHTML='<span class="txt">Reset</span>',c=q(),m=w("div"),d=q(),_=w("button"),_.innerHTML='<span class="txt">Delete selected</span>',h(t,"class","txt"),h(f,"type","button"),h(f,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),J(f,"btn-disabled",n[15]),h(m,"class","flex-fill"),h(_,"type","button"),h(_,"class","btn btn-sm btn-transparent btn-danger"),J(_,"btn-loading",n[15]),J(_,"btn-disabled",n[15]),h(e,"class","bulkbar")},m(T,k){S(T,e,k),C(e,t),C(t,i),C(t,r),C(r,l),C(t,s),C(t,a),C(e,u),C(e,f),C(e,c),C(e,m),C(e,d),C(e,_),b=!0,g||(y=[ee(f,"click",n[46]),ee(_,"click",n[47])],g=!0)},p(T,k){(!b||k[0]&128)&&_e(l,T[7]),(!b||k[0]&128)&&o!==(o=T[7]===1?"record":"records")&&_e(a,o),(!b||k[0]&32768)&&J(f,"btn-disabled",T[15]),(!b||k[0]&32768)&&J(_,"btn-loading",T[15]),(!b||k[0]&32768)&&J(_,"btn-disabled",T[15])},i(T){b||(T&&ht(()=>{b&&(p||(p=mt(e,on,{duration:150,y:5},!0)),p.run(1))}),b=!0)},o(T){T&&(p||(p=mt(e,on,{duration:150,y:5},!1)),p.run(0)),b=!1},d(T){T&&v(e),T&&p&&p.end(),g=!1,De(y)}}}function mg(n){let e,t,i,r,l={class:"table-wrapper",$$slots:{before:[dg],default:[ug]},$$scope:{ctx:n}};e=new Rf({props:l}),n[45](e);let s=n[7]&&qo(n);return{c(){$(e.$$.fragment),t=q(),s&&s.c(),i=ge()},m(o,a){Q(e,o,a),S(o,t,a),s&&s.m(o,a),S(o,i,a),r=!0},p(o,a){const u={};a[0]&4157303|a[2]&1024&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[7]?s?(s.p(o,a),a[0]&128&&O(s,1)):(s=qo(o),s.c(),O(s,1),s.m(i.parentNode,i)):s&&(ue(),N(s,1,1,()=>{s=null}),fe())},i(o){r||(O(e.$$.fragment,o),O(s),r=!0)},o(o){N(e.$$.fragment,o),N(s),r=!1},d(o){o&&(v(t),v(i)),n[45](null),X(e,o),s&&s.d(o)}}}const hg=/^([\+\-])?(\w+)$/,jo=40;function pg(n,e,t){let i,r,l,s,o,a,u,f,c,m,d,_,p;Ke(n,dn,le=>t(52,_=le)),Ke(n,an,le=>t(21,p=le));const b=Ct();let{collection:g}=e,{sort:y=""}=e,{filter:T=""}=e,k,E=[],F=1,L=0,I={},R=!0,P=!1,W=0,K,U=[],te=["@id"],ne=[],Y="";function z(){g!=null&&g.id&&(U.length?localStorage.setItem(Y,JSON.stringify(U)):localStorage.removeItem(Y))}function H(){if(t(6,U=[]),!!(g!=null&&g.id))try{const le=localStorage.getItem(Y);le?t(6,U=JSON.parse(le)||[]):t(6,U=te)}catch{}}function j(le){return!!E.find(at=>at.id)}async function Me(){const le=F;for(let at=1;at<=le;at++)(at===1||u)&&await it(at,!1)}async function it(le=1,at=!0){var ae,be,bt;if(!(g!=null&&g.id))return;t(14,R=!0);let hn=y;const un=hn.match(hg),Rn=un?o.find(he=>he.name===un[2]):null;if(un&&Rn){const he=((bt=(be=(ae=_==null?void 0:_.find(Ue=>{var wt;return Ue.id==((wt=Rn.options)==null?void 0:wt.collectionId)}))==null?void 0:ae.schema)==null?void 0:be.filter(Ue=>Ue.presentable))==null?void 0:bt.map(Ue=>Ue.name))||[],yt=[];for(const Ue of he)yt.push((un[1]||"")+un[2]+"."+Ue);yt.length>0&&(hn=yt.join(","))}const qn=A.getAllCollectionIdentifiers(g),x=s.map(he=>he.name+":excerpt(200)").concat(o.map(he=>"expand."+he.name+".*:excerpt(200)"));return x.length&&x.unshift("*"),Ne.collection(g.id).getList(le,jo,{sort:hn,skipTotal:1,filter:A.normalizeSearchFilter(T,qn),expand:o.map(he=>he.name).join(","),fields:x.join(","),requestKey:"records_list"}).then(async he=>{var yt;if(le<=1&&gt(),t(14,R=!1),t(13,F=he.page),t(28,L=he.items.length),b("load",E.concat(he.items)),s.length)for(let Ue of he.items)Ue._partial=!0;if(at){const Ue=++W;for(;(yt=he.items)!=null&&yt.length&&W==Ue;){const wt=he.items.splice(0,20);for(let Zt of wt)A.pushOrReplaceByKey(E,Zt);t(4,E),await A.yieldToMain()}}else{for(let Ue of he.items)A.pushOrReplaceByKey(E,Ue);t(4,E)}}).catch(he=>{he!=null&&he.isAbort||(t(14,R=!1),console.warn(he),gt(),Ne.error(he,!T||(he==null?void 0:he.status)!=400))})}function gt(){k==null||k.resetVerticalScroll(),t(4,E=[]),t(13,F=1),t(28,L=0),t(5,I={})}function Mt(){c?Tt():_t()}function Tt(){t(5,I={})}function _t(){for(const le of E)t(5,I[le.id]=le,I);t(5,I)}function Dt(le){I[le.id]?delete I[le.id]:t(5,I[le.id]=le,I),t(5,I)}function et(){hi(`Do you really want to delete the selected ${f===1?"record":"records"}?`,lt)}async function lt(){if(P||!f||!(g!=null&&g.id))return;let le=[];for(const at of Object.keys(I))le.push(Ne.collection(g.id).delete(at));return t(15,P=!0),Promise.all(le).then(()=>{$r(`Successfully deleted the selected ${f===1?"record":"records"}.`),b("delete",I),Tt()}).catch(at=>{Ne.error(at)}).finally(()=>(t(15,P=!1),Me()))}function Se(le){St.call(this,n,le)}const Re=(le,at)=>{at.target.checked?A.removeByValue(U,le.id):A.pushUnique(U,le.id),t(6,U)},He=()=>Mt();function qe(le){y=le,t(0,y)}function rt(le){y=le,t(0,y)}function de(le){y=le,t(0,y)}function Z(le){y=le,t(0,y)}function Te(le){y=le,t(0,y)}function Ge(le){y=le,t(0,y)}function ot(le){oe[le?"unshift":"push"](()=>{K=le,t(16,K)})}const Pt=le=>Dt(le),ri=le=>er(`#/collections/${g.id}?recordId=${le.id}`),si=()=>t(1,T=""),Fn=()=>er(`#/collections/${g.id}`),vn=()=>it(F+1);function Pn(le){oe[le?"unshift":"push"](()=>{k=le,t(12,k)})}const mn=()=>Tt(),li=()=>et();return n.$$set=le=>{"collection"in le&&t(2,g=le.collection),"sort"in le&&t(0,y=le.sort),"filter"in le&&t(1,T=le.filter)},n.$$.update=()=>{n.$$.dirty[0]&4&&g!=null&&g.id&&(Y=g.id+"@hiddenColumns",H(),gt()),n.$$.dirty[0]&4&&t(11,i=(g==null?void 0:g.type)==="view"),n.$$.dirty[0]&4&&t(10,r=(g==null?void 0:g.type)==="auth"),n.$$.dirty[0]&4&&t(29,l=(g==null?void 0:g.schema)||[]),n.$$.dirty[0]&536870912&&(s=l.filter(le=>le.type==="editor")),n.$$.dirty[0]&536870912&&(o=l.filter(le=>le.type==="relation")),n.$$.dirty[0]&536870976&&t(20,a=l.filter(le=>!U.includes(le.id))),n.$$.dirty[0]&7&&g!=null&&g.id&&y!==-1&&T!==-1&&it(1),n.$$.dirty[0]&268435456&&t(19,u=L>=jo),n.$$.dirty[0]&32&&t(7,f=Object.keys(I).length),n.$$.dirty[0]&144&&t(18,c=E.length&&f===E.length),n.$$.dirty[0]&64&&U!==-1&&z(),n.$$.dirty[0]&2064&&t(9,m=!i||E.length>0&&typeof E[0].created<"u"),n.$$.dirty[0]&2064&&t(8,d=!i||E.length>0&&typeof E[0].updated<"u"),n.$$.dirty[0]&536872704&&t(17,ne=[].concat(r?[{id:"@username",name:"username"},{id:"@email",name:"email"}]:[],l.map(le=>({id:le.id,name:le.name})),m?{id:"@created",name:"created"}:[],d?{id:"@updated",name:"updated"}:[],{id:"@id",name:"id"}))},[y,T,g,it,E,I,U,f,d,m,r,i,k,F,R,P,K,ne,c,u,a,p,Mt,Tt,Dt,et,j,Me,L,l,Se,Re,He,qe,rt,de,Z,Te,Ge,ot,Pt,ri,si,Fn,vn,Pn,mn,li]}class gg extends ve{constructor(e){super(),ke(this,e,pg,mg,ye,{collection:2,sort:0,filter:1,hasRecord:26,reloadLoadedPages:27,load:3},null,[-1,-1,-1])}get hasRecord(){return this.$$.ctx[26]}get reloadLoadedPages(){return this.$$.ctx[27]}get load(){return this.$$.ctx[3]}}function _g(n){let e,t,i,r,l=(n[2]?"...":n[0])+"",s,o;return{c(){e=w("div"),t=w("span"),t.textContent="Total found:",i=q(),r=w("span"),s=re(l),h(t,"class","txt"),h(r,"class","txt"),h(e,"class",o="inline-flex flex-gap-5 records-counter "+n[1])},m(a,u){S(a,e,u),C(e,t),C(e,i),C(e,r),C(r,s)},p(a,[u]){u&5&&l!==(l=(a[2]?"...":a[0])+"")&&_e(s,l),u&2&&o!==(o="inline-flex flex-gap-5 records-counter "+a[1])&&h(e,"class",o)},i:G,o:G,d(a){a&&v(e)}}}function bg(n,e,t){const i=Ct();let{collection:r}=e,{filter:l=""}=e,{totalCount:s=0}=e,{class:o=void 0}=e,a=!1;async function u(){if(r!=null&&r.id){t(2,a=!0),t(0,s=0);try{const f=A.getAllCollectionIdentifiers(r),c=await Ne.collection(r.id).getList(1,1,{filter:A.normalizeSearchFilter(l,f),fields:"id",requestKey:"records_count"});t(0,s=c.totalItems),i("count",s),t(2,a=!1)}catch(f){f!=null&&f.isAbort||(t(2,a=!1),console.warn(f))}}}return n.$$set=f=>{"collection"in f&&t(3,r=f.collection),"filter"in f&&t(4,l=f.filter),"totalCount"in f&&t(0,s=f.totalCount),"class"in f&&t(1,o=f.class)},n.$$.update=()=>{n.$$.dirty&24&&r!=null&&r.id&&l!==-1&&u()},[s,o,a,r,l,u]}class yg extends ve{constructor(e){super(),ke(this,e,bg,_g,ye,{collection:3,filter:4,totalCount:0,class:1,reload:5})}get reload(){return this.$$.ctx[5]}}function wg(n){let e,t,i,r,l,s;return{c(){e=w("button"),t=w("i"),h(t,"class","ri-refresh-line svelte-1bvelc2"),h(e,"type","button"),h(e,"aria-label","Refresh"),h(e,"class",i="btn btn-transparent btn-circle "+n[1]+" svelte-1bvelc2"),J(e,"refreshing",n[2])},m(o,a){S(o,e,a),C(e,t),l||(s=[We(r=Je.call(null,e,n[0])),ee(e,"click",n[3])],l=!0)},p(o,[a]){a&2&&i!==(i="btn btn-transparent btn-circle "+o[1]+" svelte-1bvelc2")&&h(e,"class",i),r&&st(r.update)&&a&1&&r.update.call(null,o[0]),a&6&&J(e,"refreshing",o[2])},i:G,o:G,d(o){o&&v(e),l=!1,De(s)}}}function kg(n,e,t){const i=Ct();let{tooltip:r={text:"Refresh",position:"right"}}=e,{class:l=""}=e,s=null;function o(){i("refresh");const a=r;t(0,r=null),clearTimeout(s),t(2,s=setTimeout(()=>{t(2,s=null),t(0,r=a)},150))}return Ft(()=>()=>clearTimeout(s)),n.$$set=a=>{"tooltip"in a&&t(0,r=a.tooltip),"class"in a&&t(1,l=a.class)},[r,l,s,o]}class vg extends ve{constructor(e){super(),ke(this,e,kg,wg,ye,{tooltip:0,class:1})}}const Sg="modulepreload",Cg=function(n,e){return new URL(n,e).href},Vo={},jf=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const l=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=Cg(a,i),a in Vo)return;Vo[a]=!0;const u=a.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!i)for(let d=l.length-1;d>=0;d--){const _=l[d];if(_.href===a&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Sg,u||(m.as="script",m.crossOrigin=""),m.href=a,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((d,_)=>{m.addEventListener("load",d),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(l=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=l,window.dispatchEvent(s),!s.defaultPrevented)throw l})};function Tg(n){let e,t,i,r;return{c(){e=w("input"),h(e,"type","text"),h(e,"id",n[8]),h(e,"placeholder",t=n[0]||n[1])},m(l,s){S(l,e,s),n[13](e),Be(e,n[7]),i||(r=ee(e,"input",n[14]),i=!0)},p(l,s){s&3&&t!==(t=l[0]||l[1])&&h(e,"placeholder",t),s&128&&e.value!==l[7]&&Be(e,l[7])},i:G,o:G,d(l){l&&v(e),n[13](null),i=!1,r()}}}function Dg(n){let e,t,i,r;function l(a){n[12](a)}var s=n[4];function o(a,u){let f={id:a[8],singleLine:!0,disableRequestKeys:!0,disableCollectionJoinKeys:!0,extraAutocompleteKeys:a[3],baseCollection:a[2],placeholder:a[0]||a[1]};return a[7]!==void 0&&(f.value=a[7]),{props:f}}return s&&(e=Kt(s,o(n)),oe.push(()=>Ae(e,"value",l)),e.$on("submit",n[10])),{c(){e&&$(e.$$.fragment),i=ge()},m(a,u){e&&Q(e,a,u),S(a,i,u),r=!0},p(a,u){if(u&16&&s!==(s=a[4])){if(e){ue();const f=e;N(f.$$.fragment,1,0,()=>{X(f,1)}),fe()}s?(e=Kt(s,o(a)),oe.push(()=>Ae(e,"value",l)),e.$on("submit",a[10]),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,i.parentNode,i)):e=null}else if(s){const f={};u&8&&(f.extraAutocompleteKeys=a[3]),u&4&&(f.baseCollection=a[2]),u&3&&(f.placeholder=a[0]||a[1]),!t&&u&128&&(t=!0,f.value=a[7],Fe(()=>t=!1)),e.$set(f)}},i(a){r||(e&&O(e.$$.fragment,a),r=!0)},o(a){e&&N(e.$$.fragment,a),r=!1},d(a){a&&v(i),e&&X(e,a)}}}function Wo(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<span class="txt">Search</span>',h(e,"type","submit"),h(e,"class","btn btn-expanded-sm btn-sm btn-warning")},m(r,l){S(r,e,l),i=!0},i(r){i||(r&&ht(()=>{i&&(t||(t=mt(e,on,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=mt(e,on,{duration:150,x:5},!1)),t.run(0)),i=!1},d(r){r&&v(e),r&&t&&t.end()}}}function Ho(n){let e,t,i,r,l;return{c(){e=w("button"),e.innerHTML='<span class="txt">Clear</span>',h(e,"type","button"),h(e,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(s,o){S(s,e,o),i=!0,r||(l=ee(e,"click",n[15]),r=!0)},p:G,i(s){i||(s&&ht(()=>{i&&(t||(t=mt(e,on,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=mt(e,on,{duration:150,x:5},!1)),t.run(0)),i=!1},d(s){s&&v(e),s&&t&&t.end(),r=!1,l()}}}function Og(n){let e,t,i,r,l,s,o,a,u,f,c;const m=[Dg,Tg],d=[];function _(g,y){return g[4]&&!g[5]?0:1}l=_(n),s=d[l]=m[l](n);let p=(n[0].length||n[7].length)&&n[7]!=n[0]&&Wo(),b=(n[0].length||n[7].length)&&Ho(n);return{c(){e=w("form"),t=w("label"),i=w("i"),r=q(),s.c(),o=q(),p&&p.c(),a=q(),b&&b.c(),h(i,"class","ri-search-line"),h(t,"for",n[8]),h(t,"class","m-l-10 txt-xl"),h(e,"class","searchbar")},m(g,y){S(g,e,y),C(e,t),C(t,i),C(e,r),d[l].m(e,null),C(e,o),p&&p.m(e,null),C(e,a),b&&b.m(e,null),u=!0,f||(c=[ee(e,"click",Xt(n[11])),ee(e,"submit",Xe(n[10]))],f=!0)},p(g,[y]){let T=l;l=_(g),l===T?d[l].p(g,y):(ue(),N(d[T],1,1,()=>{d[T]=null}),fe(),s=d[l],s?s.p(g,y):(s=d[l]=m[l](g),s.c()),O(s,1),s.m(e,o)),(g[0].length||g[7].length)&&g[7]!=g[0]?p?y&129&&O(p,1):(p=Wo(),p.c(),O(p,1),p.m(e,a)):p&&(ue(),N(p,1,1,()=>{p=null}),fe()),g[0].length||g[7].length?b?(b.p(g,y),y&129&&O(b,1)):(b=Ho(g),b.c(),O(b,1),b.m(e,null)):b&&(ue(),N(b,1,1,()=>{b=null}),fe())},i(g){u||(O(s),O(p),O(b),u=!0)},o(g){N(s),N(p),N(b),u=!1},d(g){g&&v(e),d[l].d(),p&&p.d(),b&&b.d(),f=!1,De(c)}}}function Eg(n,e,t){const i=Ct(),r="search_"+A.randomString(7);let{value:l=""}=e,{placeholder:s='Search term or filter like created > "2022-01-01"...'}=e,{autocompleteCollection:o=A.initCollection()}=e,{extraAutocompleteKeys:a=[]}=e,u,f=!1,c,m="";function d(E=!0){t(7,m=""),E&&(c==null||c.focus()),i("clear")}function _(){t(0,l=m),i("submit",l)}async function p(){u||f||(t(5,f=!0),t(4,u=(await jf(()=>import("./FilterAutocompleteInput-DnYNr-hz.js"),__vite__mapDeps([0,1]),import.meta.url)).default),t(5,f=!1))}Ft(()=>{p()});function b(E){St.call(this,n,E)}function g(E){m=E,t(7,m),t(0,l)}function y(E){oe[E?"unshift":"push"](()=>{c=E,t(6,c)})}function T(){m=this.value,t(7,m),t(0,l)}const k=()=>{d(!1),_()};return n.$$set=E=>{"value"in E&&t(0,l=E.value),"placeholder"in E&&t(1,s=E.placeholder),"autocompleteCollection"in E&&t(2,o=E.autocompleteCollection),"extraAutocompleteKeys"in E&&t(3,a=E.extraAutocompleteKeys)},n.$$.update=()=>{n.$$.dirty&1&&typeof l=="string"&&t(7,m=l)},[l,s,o,a,u,f,c,m,r,d,_,b,g,y,T,k]}class Es extends ve{constructor(e){super(),ke(this,e,Eg,Og,ye,{value:0,placeholder:1,autocompleteCollection:2,extraAutocompleteKeys:3})}}function Mg(n){let e,t,i,r;return e=new Pf({}),i=new Ln({props:{class:"flex-content",$$slots:{footer:[Lg],default:[Ag]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment),t=q(),$(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,s){const o={};s&536871031&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(O(e.$$.fragment,l),O(i.$$.fragment,l),r=!0)},o(l){N(e.$$.fragment,l),N(i.$$.fragment,l),r=!1},d(l){l&&v(t),X(e,l),X(i,l)}}}function Ig(n){let e,t;return e=new Ln({props:{center:!0,$$slots:{default:[Fg]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&536870912&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Ng(n){let e,t;return e=new Ln({props:{center:!0,$$slots:{default:[Pg]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&536870912&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Uo(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<i class="ri-add-line"></i> <span class="txt">New record</span>',h(e,"type","button"),h(e,"class","btn btn-expanded")},m(r,l){S(r,e,l),t||(i=ee(e,"click",n[17]),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function Ag(n){let e,t,i,r,l,s=A.replacePcmsPrefix(n[2].name)+"",o,a,u,f,c,m,d,_,p,b,g,y,T,k,E;f=new vg({}),f.$on("refresh",n[16]);let F=n[2].type!=="view"&&n[2].createRule!==null&&Uo(n);_=new Es({props:{value:n[0],autocompleteCollection:n[2]}}),_.$on("submit",n[18]);function L(P){n[20](P)}function I(P){n[21](P)}let R={collection:n[2]};return n[0]!==void 0&&(R.filter=n[0]),n[1]!==void 0&&(R.sort=n[1]),y=new gg({props:R}),n[19](y),oe.push(()=>Ae(y,"filter",L)),oe.push(()=>Ae(y,"sort",I)),y.$on("select",n[22]),y.$on("delete",n[23]),y.$on("new",n[24]),{c(){e=w("header"),t=w("nav"),i=w("div"),i.textContent="Collections",r=q(),l=w("div"),o=re(s),a=q(),u=w("div"),$(f.$$.fragment),c=q(),m=w("div"),F&&F.c(),d=q(),$(_.$$.fragment),p=q(),b=w("div"),g=q(),$(y.$$.fragment),h(i,"class","breadcrumb-item"),h(l,"class","breadcrumb-item"),h(t,"class","breadcrumbs"),h(u,"class","inline-flex gap-5"),h(m,"class","btns-group"),h(e,"class","page-header"),h(b,"class","clearfix m-b-sm")},m(P,W){S(P,e,W),C(e,t),C(t,i),C(t,r),C(t,l),C(l,o),C(e,a),C(e,u),Q(f,u,null),C(e,c),C(e,m),F&&F.m(m,null),S(P,d,W),Q(_,P,W),S(P,p,W),S(P,b,W),S(P,g,W),Q(y,P,W),E=!0},p(P,W){(!E||W&4)&&s!==(s=A.replacePcmsPrefix(P[2].name)+"")&&_e(o,s),P[2].type!=="view"&&P[2].createRule!==null?F?F.p(P,W):(F=Uo(P),F.c(),F.m(m,null)):F&&(F.d(1),F=null);const K={};W&1&&(K.value=P[0]),W&4&&(K.autocompleteCollection=P[2]),_.$set(K);const U={};W&4&&(U.collection=P[2]),!T&&W&1&&(T=!0,U.filter=P[0],Fe(()=>T=!1)),!k&&W&2&&(k=!0,U.sort=P[1],Fe(()=>k=!1)),y.$set(U)},i(P){E||(O(f.$$.fragment,P),O(_.$$.fragment,P),O(y.$$.fragment,P),E=!0)},o(P){N(f.$$.fragment,P),N(_.$$.fragment,P),N(y.$$.fragment,P),E=!1},d(P){P&&(v(e),v(d),v(p),v(b),v(g)),X(f),F&&F.d(),X(_,P),n[19](null),X(y,P)}}}function Lg(n){let e,t,i;function r(s){n[15](s)}let l={class:"m-r-auto txt-sm txt-hint",collection:n[2],filter:n[0]};return n[6]!==void 0&&(l.totalCount=n[6]),e=new yg({props:l}),n[14](e),oe.push(()=>Ae(e,"totalCount",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&4&&(a.collection=s[2]),o&1&&(a.filter=s[0]),!t&&o&64&&(t=!0,a.totalCount=s[6],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){n[14](null),X(e,s)}}}function Fg(n){let e;return{c(){e=w("p"),e.textContent="no collections"},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function Pg(n){let e;return{c(){e=w("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',h(e,"class","placeholder-section m-b-base")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function Rg(n){let e,t,i,r;const l=[Ng,Ig,Mg],s=[];function o(a,u){return a[3]&&!a[7].length?0:a[7].length?2:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ge()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,[u]){let f=e;e=o(a),e===f?s[e].p(a,u):(ue(),N(s[f],1,1,()=>{s[f]=null}),fe(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&v(i),s[e].d(a)}}}function qg(n,e,t){let i,r,l,s,o,a;Ke(n,an,Y=>t(2,r=Y)),Ke(n,sr,Y=>t(25,l=Y)),Ke(n,vi,Y=>t(3,s=Y)),Ke(n,us,Y=>t(13,o=Y)),Ke(n,dn,Y=>t(7,a=Y));const u=new URLSearchParams(o);let f,c,m,d,_=u.get("filter")||"",p=u.get("sort")||"-created",b=u.get("collectionId")||(r==null?void 0:r.id),g=0;Cs(b);function y(){t(11,b=r==null?void 0:r.id),t(0,_=""),t(1,p="-created"),k({recordId:null}),T()}async function T(){if(!p)return;const Y=A.getAllCollectionIdentifiers(r),z=p.split(",").map(H=>H.startsWith("+")||H.startsWith("-")?H.substring(1):H);z.filter(H=>Y.includes(H)).length!=z.length&&(Y.includes("created")?t(1,p="-created"):t(1,p=""))}function k(Y={}){const z=Object.assign({collectionId:(r==null?void 0:r.id)||"",filter:_,sort:p},Y);A.replaceHashQueryParams(z)}function E(Y){oe[Y?"unshift":"push"](()=>{d=Y,t(5,d)})}function F(Y){g=Y,t(6,g)}const L=()=>{m==null||m.load(),d==null||d.reload()},I=()=>er(`#/collections/${r.id}`),R=Y=>t(0,_=Y.detail);function P(Y){oe[Y?"unshift":"push"](()=>{m=Y,t(4,m)})}function W(Y){_=Y,t(0,_)}function K(Y){p=Y,t(1,p)}const U=Y=>{k({recordId:Y.detail.id});let z=Y.detail._partial?Y.detail.id:Y.detail;r.type==="view"?c==null||c.show(z):f==null||f.show(z)},te=()=>{d==null||d.reload()},ne=()=>f==null?void 0:f.show();return n.$$.update=()=>{n.$$.dirty&8192&&t(12,i=new URLSearchParams(o)),n.$$.dirty&6152&&!s&&i.get("collectionId")&&i.get("collectionId")!=b&&_h(i.get("collectionId")),n.$$.dirty&2052&&r!=null&&r.id&&b!=r.id&&y(),n.$$.dirty&4&&r!=null&&r.id&&T(),n.$$.dirty&15&&!s&&(p||_||r!=null&&r.id)&&k(),n.$$.dirty&4&&lu(sr,l=(r==null?void 0:r.name)||"Collections",l)},[_,p,r,s,m,d,g,a,f,c,k,b,i,o,E,F,L,I,R,P,W,K,U,te,ne]}class jg extends ve{constructor(e){super(),ke(this,e,qg,Rg,ye,{})}}function Vg(n){let e,t,i,r,l,s,o,a,u,f;return l=new Ts({props:{value:n[1]}}),{c(){e=w("div"),t=w("span"),i=re(n[1]),r=q(),$(l.$$.fragment),s=q(),o=w("i"),h(t,"class","secret svelte-1md8247"),h(o,"class","ri-refresh-line txt-sm link-hint"),h(o,"aria-label","Refresh"),h(e,"class","flex flex-gap-5 p-5")},m(c,m){S(c,e,m),C(e,t),C(t,i),n[6](t),C(e,r),Q(l,e,null),C(e,s),C(e,o),a=!0,u||(f=[We(Je.call(null,o,"Refresh")),ee(o,"click",n[4])],u=!0)},p(c,m){(!a||m&2)&&_e(i,c[1]);const d={};m&2&&(d.value=c[1]),l.$set(d)},i(c){a||(O(l.$$.fragment,c),a=!0)},o(c){N(l.$$.fragment,c),a=!1},d(c){c&&v(e),n[6](null),X(l),u=!1,De(f)}}}function Wg(n){let e,t,i,r,l,s,o,a,u,f;function c(d){n[7](d)}let m={class:"dropdown dropdown-upside dropdown-center dropdown-nowrap",$$slots:{default:[Vg]},$$scope:{ctx:n}};return n[3]!==void 0&&(m.active=n[3]),r=new Ni({props:m}),oe.push(()=>Ae(r,"active",c)),r.$on("show",n[4]),{c(){e=w("button"),t=w("i"),i=q(),$(r.$$.fragment),h(t,"class","ri-sparkling-line"),h(t,"aria-hidden","true"),h(e,"tabindex","-1"),h(e,"type","button"),h(e,"aria-label","Generate"),h(e,"class",s="btn btn-circle "+n[0]+" svelte-1md8247")},m(d,_){S(d,e,_),C(e,t),C(e,i),Q(r,e,null),a=!0,u||(f=We(o=Je.call(null,e,n[3]?"":"Generate")),u=!0)},p(d,[_]){const p={};_&518&&(p.$$scope={dirty:_,ctx:d}),!l&&_&8&&(l=!0,p.active=d[3],Fe(()=>l=!1)),r.$set(p),(!a||_&1&&s!==(s="btn btn-circle "+d[0]+" svelte-1md8247"))&&h(e,"class",s),o&&st(o.update)&&_&8&&o.update.call(null,d[3]?"":"Generate")},i(d){a||(O(r.$$.fragment,d),a=!0)},o(d){N(r.$$.fragment,d),a=!1},d(d){d&&v(e),X(r),u=!1,f()}}}function Hg(n,e,t){const i=Ct();let{class:r="btn-sm btn-hint btn-transparent"}=e,{length:l=32}=e,s="",o,a=!1;async function u(){if(t(1,s=A.randomSecret(l)),i("generate",s),await rn(),o){let m=document.createRange();m.selectNode(o),window.getSelection().removeAllRanges(),window.getSelection().addRange(m)}}function f(m){oe[m?"unshift":"push"](()=>{o=m,t(2,o)})}function c(m){a=m,t(3,a)}return n.$$set=m=>{"class"in m&&t(0,r=m.class),"length"in m&&t(5,l=m.length)},[r,s,o,a,u,l,f,c]}class Ug extends ve{constructor(e){super(),ke(this,e,Hg,Wg,ye,{class:0,length:5})}}function zg(n){let e,t,i,r,l,s,o,a,u,f,c,m;return{c(){e=w("label"),t=w("i"),i=q(),r=w("span"),r.textContent="Username",s=q(),o=w("input"),h(t,"class",A.getFieldTypeIcon("user")),h(r,"class","txt"),h(e,"for",l=n[13]),h(o,"type","text"),h(o,"requried",a=!n[2]),h(o,"placeholder",u=n[2]?"Leave empty to auto generate...":n[4]),h(o,"id",f=n[13])},m(d,_){S(d,e,_),C(e,t),C(e,i),C(e,r),S(d,s,_),S(d,o,_),Be(o,n[0].username),c||(m=ee(o,"input",n[5]),c=!0)},p(d,_){_&8192&&l!==(l=d[13])&&h(e,"for",l),_&4&&a!==(a=!d[2])&&h(o,"requried",a),_&4&&u!==(u=d[2]?"Leave empty to auto generate...":d[4])&&h(o,"placeholder",u),_&8192&&f!==(f=d[13])&&h(o,"id",f),_&1&&o.value!==d[0].username&&Be(o,d[0].username)},d(d){d&&(v(e),v(s),v(o)),c=!1,m()}}}function Yg(n){let e,t,i,r,l,s,o,a,u,f,c=n[0].emailVisibility?"On":"Off",m,d,_,p,b,g,y,T;return{c(){var k;e=w("label"),t=w("i"),i=q(),r=w("span"),r.textContent="Email",s=q(),o=w("div"),a=w("button"),u=w("span"),f=re("Public: "),m=re(c),_=q(),p=w("input"),h(t,"class",A.getFieldTypeIcon("email")),h(r,"class","txt"),h(e,"for",l=n[13]),h(u,"class","txt"),h(a,"type","button"),h(a,"class",d="btn btn-sm btn-transparent "+(n[0].emailVisibility?"btn-success":"btn-hint")),h(o,"class","form-field-addon email-visibility-addon svelte-1751a4d"),h(p,"type","email"),p.autofocus=n[2],h(p,"autocomplete","off"),h(p,"id",b=n[13]),p.required=g=(k=n[1].options)==null?void 0:k.requireEmail,h(p,"class","svelte-1751a4d")},m(k,E){S(k,e,E),C(e,t),C(e,i),C(e,r),S(k,s,E),S(k,o,E),C(o,a),C(a,u),C(u,f),C(u,m),S(k,_,E),S(k,p,E),Be(p,n[0].email),n[2]&&p.focus(),y||(T=[We(Je.call(null,a,{text:"Make email public or private",position:"top-right"})),ee(a,"click",Xe(n[6])),ee(p,"input",n[7])],y=!0)},p(k,E){var F;E&8192&&l!==(l=k[13])&&h(e,"for",l),E&1&&c!==(c=k[0].emailVisibility?"On":"Off")&&_e(m,c),E&1&&d!==(d="btn btn-sm btn-transparent "+(k[0].emailVisibility?"btn-success":"btn-hint"))&&h(a,"class",d),E&4&&(p.autofocus=k[2]),E&8192&&b!==(b=k[13])&&h(p,"id",b),E&2&&g!==(g=(F=k[1].options)==null?void 0:F.requireEmail)&&(p.required=g),E&1&&p.value!==k[0].email&&Be(p,k[0].email)},d(k){k&&(v(e),v(s),v(o),v(_),v(p)),y=!1,De(T)}}}function zo(n){let e,t;return e=new xe({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[Bg,({uniqueId:i})=>({13:i}),({uniqueId:i})=>i?8192:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r&24584&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function Bg(n){let e,t,i,r,l,s,o,a;return{c(){e=w("input"),i=q(),r=w("label"),l=re("Change password"),h(e,"type","checkbox"),h(e,"id",t=n[13]),h(r,"for",s=n[13])},m(u,f){S(u,e,f),e.checked=n[3],S(u,i,f),S(u,r,f),C(r,l),o||(a=ee(e,"change",n[8]),o=!0)},p(u,f){f&8192&&t!==(t=u[13])&&h(e,"id",t),f&8&&(e.checked=u[3]),f&8192&&s!==(s=u[13])&&h(r,"for",s)},d(u){u&&(v(e),v(i),v(r)),o=!1,a()}}}function Yo(n){let e,t,i,r,l,s,o,a,u;return r=new xe({props:{class:"form-field required",name:"password",$$slots:{default:[Kg,({uniqueId:f})=>({13:f}),({uniqueId:f})=>f?8192:0]},$$scope:{ctx:n}}}),o=new xe({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[Zg,({uniqueId:f})=>({13:f}),({uniqueId:f})=>f?8192:0]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("div"),i=w("div"),$(r.$$.fragment),l=q(),s=w("div"),$(o.$$.fragment),h(i,"class","col-sm-6"),h(s,"class","col-sm-6"),h(t,"class","grid"),J(t,"p-t-xs",n[3]),h(e,"class","block")},m(f,c){S(f,e,c),C(e,t),C(t,i),Q(r,i,null),C(t,l),C(t,s),Q(o,s,null),u=!0},p(f,c){const m={};c&24579&&(m.$$scope={dirty:c,ctx:f}),r.$set(m);const d={};c&24577&&(d.$$scope={dirty:c,ctx:f}),o.$set(d),(!u||c&8)&&J(t,"p-t-xs",f[3])},i(f){u||(O(r.$$.fragment,f),O(o.$$.fragment,f),f&&ht(()=>{u&&(a||(a=mt(e,Xn,{duration:150},!0)),a.run(1))}),u=!0)},o(f){N(r.$$.fragment,f),N(o.$$.fragment,f),f&&(a||(a=mt(e,Xn,{duration:150},!1)),a.run(0)),u=!1},d(f){f&&v(e),X(r),X(o),f&&a&&a.end()}}}function Kg(n){var p,b;let e,t,i,r,l,s,o,a,u,f,c,m,d,_;return c=new Ug({props:{length:Math.max(15,((b=(p=n[1])==null?void 0:p.options)==null?void 0:b.minPasswordLength)||0)}}),{c(){e=w("label"),t=w("i"),i=q(),r=w("span"),r.textContent="Password",s=q(),o=w("input"),u=q(),f=w("div"),$(c.$$.fragment),h(t,"class","ri-lock-line"),h(r,"class","txt"),h(e,"for",l=n[13]),h(o,"type","password"),h(o,"autocomplete","new-password"),h(o,"id",a=n[13]),o.required=!0,h(f,"class","form-field-addon")},m(g,y){S(g,e,y),C(e,t),C(e,i),C(e,r),S(g,s,y),S(g,o,y),Be(o,n[0].password),S(g,u,y),S(g,f,y),Q(c,f,null),m=!0,d||(_=ee(o,"input",n[9]),d=!0)},p(g,y){var k,E;(!m||y&8192&&l!==(l=g[13]))&&h(e,"for",l),(!m||y&8192&&a!==(a=g[13]))&&h(o,"id",a),y&1&&o.value!==g[0].password&&Be(o,g[0].password);const T={};y&2&&(T.length=Math.max(15,((E=(k=g[1])==null?void 0:k.options)==null?void 0:E.minPasswordLength)||0)),c.$set(T)},i(g){m||(O(c.$$.fragment,g),m=!0)},o(g){N(c.$$.fragment,g),m=!1},d(g){g&&(v(e),v(s),v(o),v(u),v(f)),X(c),d=!1,_()}}}function Zg(n){let e,t,i,r,l,s,o,a,u,f;return{c(){e=w("label"),t=w("i"),i=q(),r=w("span"),r.textContent="Password confirm",s=q(),o=w("input"),h(t,"class","ri-lock-line"),h(r,"class","txt"),h(e,"for",l=n[13]),h(o,"type","password"),h(o,"autocomplete","new-password"),h(o,"id",a=n[13]),o.required=!0},m(c,m){S(c,e,m),C(e,t),C(e,i),C(e,r),S(c,s,m),S(c,o,m),Be(o,n[0].passwordConfirm),u||(f=ee(o,"input",n[10]),u=!0)},p(c,m){m&8192&&l!==(l=c[13])&&h(e,"for",l),m&8192&&a!==(a=c[13])&&h(o,"id",a),m&1&&o.value!==c[0].passwordConfirm&&Be(o,c[0].passwordConfirm)},d(c){c&&(v(e),v(s),v(o)),u=!1,f()}}}function Jg(n){let e,t,i,r,l,s,o,a;return{c(){e=w("input"),i=q(),r=w("label"),l=re("Verified"),h(e,"type","checkbox"),h(e,"id",t=n[13]),h(r,"for",s=n[13])},m(u,f){S(u,e,f),e.checked=n[0].verified,S(u,i,f),S(u,r,f),C(r,l),o||(a=[ee(e,"change",n[11]),ee(e,"change",Xe(n[12]))],o=!0)},p(u,f){f&8192&&t!==(t=u[13])&&h(e,"id",t),f&1&&(e.checked=u[0].verified),f&8192&&s!==(s=u[13])&&h(r,"for",s)},d(u){u&&(v(e),v(i),v(r)),o=!1,De(a)}}}function Gg(n){var b;let e,t,i,r,l,s,o,a,u,f,c,m,d;i=new xe({props:{class:"form-field "+(n[2]?"":"required"),name:"username",$$slots:{default:[zg,({uniqueId:g})=>({13:g}),({uniqueId:g})=>g?8192:0]},$$scope:{ctx:n}}}),s=new xe({props:{class:"form-field "+((b=n[1].options)!=null&&b.requireEmail?"required":""),name:"email",$$slots:{default:[Yg,({uniqueId:g})=>({13:g}),({uniqueId:g})=>g?8192:0]},$$scope:{ctx:n}}});let _=!n[2]&&zo(n),p=(n[2]||n[3])&&Yo(n);return m=new xe({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[Jg,({uniqueId:g})=>({13:g}),({uniqueId:g})=>g?8192:0]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("div"),$(i.$$.fragment),r=q(),l=w("div"),$(s.$$.fragment),o=q(),a=w("div"),_&&_.c(),u=q(),p&&p.c(),f=q(),c=w("div"),$(m.$$.fragment),h(t,"class","col-lg-6"),h(l,"class","col-lg-6"),h(a,"class","col-lg-12"),h(c,"class","col-lg-12"),h(e,"class","grid m-b-base")},m(g,y){S(g,e,y),C(e,t),Q(i,t,null),C(e,r),C(e,l),Q(s,l,null),C(e,o),C(e,a),_&&_.m(a,null),C(a,u),p&&p.m(a,null),C(e,f),C(e,c),Q(m,c,null),d=!0},p(g,[y]){var F;const T={};y&4&&(T.class="form-field "+(g[2]?"":"required")),y&24581&&(T.$$scope={dirty:y,ctx:g}),i.$set(T);const k={};y&2&&(k.class="form-field "+((F=g[1].options)!=null&&F.requireEmail?"required":"")),y&24583&&(k.$$scope={dirty:y,ctx:g}),s.$set(k),g[2]?_&&(ue(),N(_,1,1,()=>{_=null}),fe()):_?(_.p(g,y),y&4&&O(_,1)):(_=zo(g),_.c(),O(_,1),_.m(a,u)),g[2]||g[3]?p?(p.p(g,y),y&12&&O(p,1)):(p=Yo(g),p.c(),O(p,1),p.m(a,null)):p&&(ue(),N(p,1,1,()=>{p=null}),fe());const E={};y&24581&&(E.$$scope={dirty:y,ctx:g}),m.$set(E)},i(g){d||(O(i.$$.fragment,g),O(s.$$.fragment,g),O(_),O(p),O(m.$$.fragment,g),d=!0)},o(g){N(i.$$.fragment,g),N(s.$$.fragment,g),N(_),N(p),N(m.$$.fragment,g),d=!1},d(g){g&&v(e),X(i),X(s),_&&_.d(),p&&p.d(),X(m)}}}function Qg(n,e,t){let{record:i}=e,{collection:r}=e,{isNew:l=!(i!=null&&i.id)}=e,s=i.username||null,o=!1;function a(){i.username=this.value,t(0,i),t(3,o)}const u=()=>t(0,i.emailVisibility=!i.emailVisibility,i);function f(){i.email=this.value,t(0,i),t(3,o)}function c(){o=this.checked,t(3,o)}function m(){i.password=this.value,t(0,i),t(3,o)}function d(){i.passwordConfirm=this.value,t(0,i),t(3,o)}function _(){i.verified=this.checked,t(0,i),t(3,o)}const p=b=>{l||hi("Do you really want to manually change the verified account state?",()=>{},()=>{t(0,i.verified=!b.target.checked,i)})};return n.$$set=b=>{"record"in b&&t(0,i=b.record),"collection"in b&&t(1,r=b.collection),"isNew"in b&&t(2,l=b.isNew)},n.$$.update=()=>{n.$$.dirty&1&&!i.username&&i.username!==null&&t(0,i.username=null,i),n.$$.dirty&8&&(o||(t(0,i.password=null,i),t(0,i.passwordConfirm=null,i),Qr("password"),Qr("passwordConfirm")))},[i,r,l,o,s,a,u,f,c,m,d,_,p]}class Xg extends ve{constructor(e){super(),ke(this,e,Qg,Gg,ye,{record:0,collection:1,isNew:2})}}function $g(n){let e,t,i,r=[n[3]],l={};for(let s=0;s<r.length;s+=1)l=Ze(l,r[s]);return{c(){e=w("textarea"),Xi(e,l),J(e,"svelte-1x1pbts",!0)},m(s,o){S(s,e,o),e.autofocus&&e.focus(),n[5](e),Be(e,n[0]),t||(i=[ee(e,"input",n[6]),ee(e,"keydown",n[2])],t=!0)},p(s,[o]){Xi(e,l=Ht(r,[o&8&&s[3]])),o&1&&Be(e,s[0]),J(e,"svelte-1x1pbts",!0)},i:G,o:G,d(s){s&&v(e),n[5](null),t=!1,De(i)}}}function xg(n,e,t){const i=["value","maxHeight"];let r=ln(e,i),{value:l=""}=e,{maxHeight:s=200}=e,o,a;function u(){clearTimeout(a),a=setTimeout(()=>{o&&(t(1,o.style.height="",o),t(1,o.style.height=Math.min(o.scrollHeight,s)+"px",o))},0)}function f(d){if((d==null?void 0:d.code)==="Enter"&&!(d!=null&&d.shiftKey)&&!(d!=null&&d.isComposing)){d.preventDefault();const _=o.closest("form");_!=null&&_.requestSubmit&&_.requestSubmit()}}Ft(()=>(u(),()=>clearTimeout(a)));function c(d){oe[d?"unshift":"push"](()=>{o=d,t(1,o)})}function m(){l=this.value,t(0,l)}return n.$$set=d=>{e=Ze(Ze({},e),Ti(d)),t(3,r=ln(e,i)),"value"in d&&t(0,l=d.value),"maxHeight"in d&&t(4,s=d.maxHeight)},n.$$.update=()=>{n.$$.dirty&1&&typeof l!==void 0&&u()},[l,o,f,r,s,c,m]}class e1 extends ve{constructor(e){super(),ke(this,e,xg,$g,ye,{value:0,maxHeight:4})}}function t1(n){let e,t,i,r,l,s=n[1].name+"",o,a,u,f,c,m;function d(p){n[2](p)}let _={id:n[3],required:n[1].required};return n[0]!==void 0&&(_.value=n[0]),f=new e1({props:_}),oe.push(()=>Ae(f,"value",d)),{c(){e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),u=q(),$(f.$$.fragment),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(l,"class","txt"),h(e,"for",a=n[3])},m(p,b){S(p,e,b),C(e,t),C(e,r),C(e,l),C(l,o),S(p,u,b),Q(f,p,b),m=!0},p(p,b){(!m||b&2&&i!==(i=A.getFieldTypeIcon(p[1].type)))&&h(t,"class",i),(!m||b&2)&&s!==(s=p[1].name+"")&&_e(o,s),(!m||b&8&&a!==(a=p[3]))&&h(e,"for",a);const g={};b&8&&(g.id=p[3]),b&2&&(g.required=p[1].required),!c&&b&1&&(c=!0,g.value=p[0],Fe(()=>c=!1)),f.$set(g)},i(p){m||(O(f.$$.fragment,p),m=!0)},o(p){N(f.$$.fragment,p),m=!1},d(p){p&&(v(e),v(u)),X(f,p)}}}function n1(n){let e,t;return e=new xe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[t1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function i1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function l(s){r=s,t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class r1 extends ve{constructor(e){super(),ke(this,e,i1,n1,ye,{field:1,value:0})}}function s1(n){let e,t,i,r,l,s=n[1].name+"",o,a,u,f,c,m,d,_,p,b;return{c(){var g,y;e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),u=q(),f=w("input"),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(l,"class","txt"),h(e,"for",a=n[3]),h(f,"type","number"),h(f,"id",c=n[3]),f.required=m=n[1].required,h(f,"min",d=(g=n[1].options)==null?void 0:g.min),h(f,"max",_=(y=n[1].options)==null?void 0:y.max),h(f,"step","any")},m(g,y){S(g,e,y),C(e,t),C(e,r),C(e,l),C(l,o),S(g,u,y),S(g,f,y),Be(f,n[0]),p||(b=ee(f,"input",n[2]),p=!0)},p(g,y){var T,k;y&2&&i!==(i=A.getFieldTypeIcon(g[1].type))&&h(t,"class",i),y&2&&s!==(s=g[1].name+"")&&_e(o,s),y&8&&a!==(a=g[3])&&h(e,"for",a),y&8&&c!==(c=g[3])&&h(f,"id",c),y&2&&m!==(m=g[1].required)&&(f.required=m),y&2&&d!==(d=(T=g[1].options)==null?void 0:T.min)&&h(f,"min",d),y&2&&_!==(_=(k=g[1].options)==null?void 0:k.max)&&h(f,"max",_),y&1&&fu(f.value)!==g[0]&&Be(f,g[0])},d(g){g&&(v(e),v(u),v(f)),p=!1,b()}}}function l1(n){let e,t;return e=new xe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[s1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function o1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function l(){r=fu(this.value),t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class a1 extends ve{constructor(e){super(),ke(this,e,o1,l1,ye,{field:1,value:0})}}function u1(n){let e,t,i,r,l=n[1].name+"",s,o,a,u;return{c(){e=w("input"),i=q(),r=w("label"),s=re(l),h(e,"type","checkbox"),h(e,"id",t=n[3]),h(r,"for",o=n[3])},m(f,c){S(f,e,c),e.checked=n[0],S(f,i,c),S(f,r,c),C(r,s),a||(u=ee(e,"change",n[2]),a=!0)},p(f,c){c&8&&t!==(t=f[3])&&h(e,"id",t),c&1&&(e.checked=f[0]),c&2&&l!==(l=f[1].name+"")&&_e(s,l),c&8&&o!==(o=f[3])&&h(r,"for",o)},d(f){f&&(v(e),v(i),v(r)),a=!1,u()}}}function f1(n){let e,t;return e=new xe({props:{class:"form-field form-field-toggle "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[u1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field form-field-toggle "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function c1(n,e,t){let{field:i}=e,{value:r=!1}=e;function l(){r=this.checked,t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class d1 extends ve{constructor(e){super(),ke(this,e,c1,f1,ye,{field:1,value:0})}}function m1(n){let e,t,i,r,l,s=n[1].name+"",o,a,u,f,c,m,d,_;return{c(){e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),u=q(),f=w("input"),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(l,"class","txt"),h(e,"for",a=n[3]),h(f,"type","email"),h(f,"id",c=n[3]),f.required=m=n[1].required},m(p,b){S(p,e,b),C(e,t),C(e,r),C(e,l),C(l,o),S(p,u,b),S(p,f,b),Be(f,n[0]),d||(_=ee(f,"input",n[2]),d=!0)},p(p,b){b&2&&i!==(i=A.getFieldTypeIcon(p[1].type))&&h(t,"class",i),b&2&&s!==(s=p[1].name+"")&&_e(o,s),b&8&&a!==(a=p[3])&&h(e,"for",a),b&8&&c!==(c=p[3])&&h(f,"id",c),b&2&&m!==(m=p[1].required)&&(f.required=m),b&1&&f.value!==p[0]&&Be(f,p[0])},d(p){p&&(v(e),v(u),v(f)),d=!1,_()}}}function h1(n){let e,t;return e=new xe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[m1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function p1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function l(){r=this.value,t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class g1 extends ve{constructor(e){super(),ke(this,e,p1,h1,ye,{field:1,value:0})}}function _1(n){let e,t,i,r,l,s=n[1].name+"",o,a,u,f,c,m,d,_;return{c(){e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),u=q(),f=w("input"),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(l,"class","txt"),h(e,"for",a=n[3]),h(f,"type","url"),h(f,"id",c=n[3]),f.required=m=n[1].required},m(p,b){S(p,e,b),C(e,t),C(e,r),C(e,l),C(l,o),S(p,u,b),S(p,f,b),Be(f,n[0]),d||(_=ee(f,"input",n[2]),d=!0)},p(p,b){b&2&&i!==(i=A.getFieldTypeIcon(p[1].type))&&h(t,"class",i),b&2&&s!==(s=p[1].name+"")&&_e(o,s),b&8&&a!==(a=p[3])&&h(e,"for",a),b&8&&c!==(c=p[3])&&h(f,"id",c),b&2&&m!==(m=p[1].required)&&(f.required=m),b&1&&f.value!==p[0]&&Be(f,p[0])},d(p){p&&(v(e),v(u),v(f)),d=!1,_()}}}function b1(n){let e,t;return e=new xe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[_1,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&27&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function y1(n,e,t){let{field:i}=e,{value:r=void 0}=e;function l(){r=this.value,t(0,r)}return n.$$set=s=>{"field"in s&&t(1,i=s.field),"value"in s&&t(0,r=s.value)},[r,i,l]}class w1 extends ve{constructor(e){super(),ke(this,e,y1,b1,ye,{field:1,value:0})}}var qr=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Gn={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Si={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},It=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},zt=function(n){return n===!0?1:0};function Bo(n,e){var t;return function(){var i=this,r=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(i,r)},e)}}var jr=function(n){return n instanceof Array?n:[n]};function Ot(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Ve(n,e,t){var i=window.document.createElement(n);return e=e||"",t=t||"",i.className=e,t!==void 0&&(i.textContent=t),i}function Ui(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Vf(n,e){if(e(n))return n;if(n.parentNode)return Vf(n.parentNode,e)}function zi(n,e){var t=Ve("div","numInputWrapper"),i=Ve("input","numInput "+n),r=Ve("span","arrowUp"),l=Ve("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),e!==void 0)for(var s in e)i.setAttribute(s,e[s]);return t.appendChild(i),t.appendChild(r),t.appendChild(l),t}function qt(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var Vr=function(){},or=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},k1={D:Vr,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*zt(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var i=parseInt(e),r=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+t.firstDayOfWeek),r},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:Vr,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:Vr,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},On={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},gi={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[gi.w(n,e,t)]},F:function(n,e,t){return or(gi.n(n,e,t)-1,!1,e)},G:function(n,e,t){return It(gi.h(n,e,t))},H:function(n){return It(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[zt(n.getHours()>11)]},M:function(n,e){return or(n.getMonth(),!0,e)},S:function(n){return It(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return It(n.getFullYear(),4)},d:function(n){return It(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return It(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return It(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Wf=function(n){var e=n.config,t=e===void 0?Gn:e,i=n.l10n,r=i===void 0?Si:i,l=n.isMobile,s=l===void 0?!1:l;return function(o,a,u){var f=u||r;return t.formatDate!==void 0&&!s?t.formatDate(o,a,f):a.split("").map(function(c,m,d){return gi[c]&&d[m-1]!=="\\"?gi[c](o,f,t):c!=="\\"?c:""}).join("")}},ns=function(n){var e=n.config,t=e===void 0?Gn:e,i=n.l10n,r=i===void 0?Si:i;return function(l,s,o,a){if(!(l!==0&&!l)){var u=a||r,f,c=l;if(l instanceof Date)f=new Date(l.getTime());else if(typeof l!="string"&&l.toFixed!==void 0)f=new Date(l);else if(typeof l=="string"){var m=s||(t||Gn).dateFormat,d=String(l).trim();if(d==="today")f=new Date,o=!0;else if(t&&t.parseDate)f=t.parseDate(l,m);else if(/Z$/.test(d)||/GMT$/.test(d))f=new Date(l);else{for(var _=void 0,p=[],b=0,g=0,y="";b<m.length;b++){var T=m[b],k=T==="\\",E=m[b-1]==="\\"||k;if(On[T]&&!E){y+=On[T];var F=new RegExp(y).exec(l);F&&(_=!0)&&p[T!=="Y"?"push":"unshift"]({fn:k1[T],val:F[++g]})}else k||(y+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),p.forEach(function(L){var I=L.fn,R=L.val;return f=I(f,R,u)||f}),f=_?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+c));return}return o===!0&&f.setHours(0,0,0,0),f}}};function jt(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var v1=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},Wr=function(n,e,t){return n*3600+e*60+t},S1=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},C1={DAY:864e5};function Hr(n){var e=n.defaultHour,t=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),l=n.minDate.getMinutes(),s=n.minDate.getSeconds();e<r&&(e=r),e===r&&t<l&&(t=l),e===r&&t===l&&i<s&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var o=n.maxDate.getHours(),a=n.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(i=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(o){o&&Object.keys(o).forEach(function(a){return n[a]=o[a]})},r=0,l=e;r<l.length;r++){var s=l[r];i(s)}return n});var kt=function(){return kt=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},kt.apply(this,arguments)},Ko=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var l=arguments[e],s=0,o=l.length;s<o;s++,r++)i[r]=l[s];return i},T1=300;function D1(n,e){var t={config:kt(kt({},Gn),nt.defaultConfig),l10n:Si};t.parseDate=ns({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=p,t._setHoursFromDate=m,t._positionCalendar=Pt,t.changeMonth=it,t.changeYear=et,t.clear=gt,t.close=Mt,t.onMouseOver=qe,t._createElement=Ve,t.createDay=F,t.destroy=Tt,t.isEnabled=lt,t.jumpToDate=y,t.updateValue=Zt,t.open=de,t.redraw=Fn,t.set=li,t.setDate=at,t.toggle=ae;function i(){t.utils={getDaysInMonth:function(D,M){return D===void 0&&(D=t.currentMonth),M===void 0&&(M=t.currentYear),D===1&&(M%4===0&&M%100!==0||M%400===0)?29:t.l10n.daysInMonth[D]}}}function r(){t.element=t.input=n,t.isOpen=!1,Te(),ot(),Rn(),un(),i(),t.isMobile||E(),g(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&m(t.config.noCalendar?t.latestSelectedDateObj:void 0),Zt(!1)),o();var D=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&D&&Pt(),be("onReady")}function l(){var D;return((D=t.calendarContainer)===null||D===void 0?void 0:D.getRootNode()).activeElement||document.activeElement}function s(D){return D.bind(t)}function o(){var D=t.config;D.weekNumbers===!1&&D.showMonths===1||D.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var M=(t.days.offsetWidth+1)*D.showMonths;t.daysContainer.style.width=M+"px",t.calendarContainer.style.width=M+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(D){if(t.selectedDates.length===0){var M=t.config.minDate===void 0||jt(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),V=Hr(t.config);M.setHours(V.hours,V.minutes,V.seconds,M.getMilliseconds()),t.selectedDates=[M],t.latestSelectedDateObj=M}D!==void 0&&D.type!=="blur"&&Yf(D);var B=t._input.value;c(),Zt(),t._input.value!==B&&t._debouncedChange()}function u(D,M){return D%12+12*zt(M===t.l10n.amPM[1])}function f(D){switch(D%24){case 0:case 12:return 12;default:return D%12}}function c(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var D=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,M=(parseInt(t.minuteElement.value,10)||0)%60,V=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(D=u(D,t.amPM.textContent));var B=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&jt(t.latestSelectedDateObj,t.config.minDate,!0)===0,ie=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&jt(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var ce=Wr(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Ie=Wr(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),pe=Wr(D,M,V);if(pe>Ie&&pe<ce){var Le=S1(ce);D=Le[0],M=Le[1],V=Le[2]}}else{if(ie){var me=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;D=Math.min(D,me.getHours()),D===me.getHours()&&(M=Math.min(M,me.getMinutes())),M===me.getMinutes()&&(V=Math.min(V,me.getSeconds()))}if(B){var Ce=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;D=Math.max(D,Ce.getHours()),D===Ce.getHours()&&M<Ce.getMinutes()&&(M=Ce.getMinutes()),M===Ce.getMinutes()&&(V=Math.max(V,Ce.getSeconds()))}}d(D,M,V)}}function m(D){var M=D||t.latestSelectedDateObj;M&&M instanceof Date&&d(M.getHours(),M.getMinutes(),M.getSeconds())}function d(D,M,V){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(D%24,M,V||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=It(t.config.time_24hr?D:(12+D)%12+12*zt(D%12===0)),t.minuteElement.value=It(M),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[zt(D>=12)]),t.secondElement!==void 0&&(t.secondElement.value=It(V)))}function _(D){var M=qt(D),V=parseInt(M.value)+(D.delta||0);(V/1e3>1||D.key==="Enter"&&!/[^\d]/.test(V.toString()))&&et(V)}function p(D,M,V,B){if(M instanceof Array)return M.forEach(function(ie){return p(D,ie,V,B)});if(D instanceof Array)return D.forEach(function(ie){return p(ie,M,V,B)});D.addEventListener(M,V,B),t._handlers.push({remove:function(){return D.removeEventListener(M,V,B)}})}function b(){be("onChange")}function g(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(V){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+V+"]"),function(B){return p(B,"click",t[V])})}),t.isMobile){x();return}var D=Bo(rt,50);if(t._debouncedChange=Bo(b,T1),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&p(t.daysContainer,"mouseover",function(V){t.config.mode==="range"&&qe(qt(V))}),p(t._input,"keydown",He),t.calendarContainer!==void 0&&p(t.calendarContainer,"keydown",He),!t.config.inline&&!t.config.static&&p(window,"resize",D),window.ontouchstart!==void 0?p(window.document,"touchstart",Dt):p(window.document,"mousedown",Dt),p(window.document,"focus",Dt,{capture:!0}),t.config.clickOpens===!0&&(p(t._input,"focus",t.open),p(t._input,"click",t.open)),t.daysContainer!==void 0&&(p(t.monthNav,"click",zf),p(t.monthNav,["keyup","increment"],_),p(t.daysContainer,"click",Pn)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var M=function(V){return qt(V).select()};p(t.timeContainer,["increment"],a),p(t.timeContainer,"blur",a,{capture:!0}),p(t.timeContainer,"click",T),p([t.hourElement,t.minuteElement],["focus","click"],M),t.secondElement!==void 0&&p(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&p(t.amPM,"click",function(V){a(V)})}t.config.allowInput&&p(t._input,"blur",Re)}function y(D,M){var V=D!==void 0?t.parseDate(D):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),B=t.currentYear,ie=t.currentMonth;try{V!==void 0&&(t.currentYear=V.getFullYear(),t.currentMonth=V.getMonth())}catch(ce){ce.message="Invalid date supplied: "+V,t.config.errorHandler(ce)}M&&t.currentYear!==B&&(be("onYearChange"),U()),M&&(t.currentYear!==B||t.currentMonth!==ie)&&be("onMonthChange"),t.redraw()}function T(D){var M=qt(D);~M.className.indexOf("arrow")&&k(D,M.classList.contains("arrowUp")?1:-1)}function k(D,M,V){var B=D&&qt(D),ie=V||B&&B.parentNode&&B.parentNode.firstChild,ce=bt("increment");ce.delta=M,ie&&ie.dispatchEvent(ce)}function E(){var D=window.document.createDocumentFragment();if(t.calendarContainer=Ve("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(D.appendChild(Y()),t.innerContainer=Ve("div","flatpickr-innerContainer"),t.config.weekNumbers){var M=Me(),V=M.weekWrapper,B=M.weekNumbers;t.innerContainer.appendChild(V),t.weekNumbers=B,t.weekWrapper=V}t.rContainer=Ve("div","flatpickr-rContainer"),t.rContainer.appendChild(H()),t.daysContainer||(t.daysContainer=Ve("div","flatpickr-days"),t.daysContainer.tabIndex=-1),K(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),D.appendChild(t.innerContainer)}t.config.enableTime&&D.appendChild(z()),Ot(t.calendarContainer,"rangeMode",t.config.mode==="range"),Ot(t.calendarContainer,"animate",t.config.animate===!0),Ot(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(D);var ie=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!ie&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var ce=Ve("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(ce,t.element),ce.appendChild(t.element),t.altInput&&ce.appendChild(t.altInput),ce.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function F(D,M,V,B){var ie=lt(M,!0),ce=Ve("span",D,M.getDate().toString());return ce.dateObj=M,ce.$i=B,ce.setAttribute("aria-label",t.formatDate(M,t.config.ariaDateFormat)),D.indexOf("hidden")===-1&&jt(M,t.now)===0&&(t.todayDateElem=ce,ce.classList.add("today"),ce.setAttribute("aria-current","date")),ie?(ce.tabIndex=-1,he(M)&&(ce.classList.add("selected"),t.selectedDateElem=ce,t.config.mode==="range"&&(Ot(ce,"startRange",t.selectedDates[0]&&jt(M,t.selectedDates[0],!0)===0),Ot(ce,"endRange",t.selectedDates[1]&&jt(M,t.selectedDates[1],!0)===0),D==="nextMonthDay"&&ce.classList.add("inRange")))):ce.classList.add("flatpickr-disabled"),t.config.mode==="range"&&yt(M)&&!he(M)&&ce.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&D!=="prevMonthDay"&&B%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(M)+"</span>"),be("onDayCreate",ce),ce}function L(D){D.focus(),t.config.mode==="range"&&qe(D)}function I(D){for(var M=D>0?0:t.config.showMonths-1,V=D>0?t.config.showMonths:-1,B=M;B!=V;B+=D)for(var ie=t.daysContainer.children[B],ce=D>0?0:ie.children.length-1,Ie=D>0?ie.children.length:-1,pe=ce;pe!=Ie;pe+=D){var Le=ie.children[pe];if(Le.className.indexOf("hidden")===-1&&lt(Le.dateObj))return Le}}function R(D,M){for(var V=D.className.indexOf("Month")===-1?D.dateObj.getMonth():t.currentMonth,B=M>0?t.config.showMonths:-1,ie=M>0?1:-1,ce=V-t.currentMonth;ce!=B;ce+=ie)for(var Ie=t.daysContainer.children[ce],pe=V-t.currentMonth===ce?D.$i+M:M<0?Ie.children.length-1:0,Le=Ie.children.length,me=pe;me>=0&&me<Le&&me!=(M>0?Le:-1);me+=ie){var Ce=Ie.children[me];if(Ce.className.indexOf("hidden")===-1&&lt(Ce.dateObj)&&Math.abs(D.$i-me)>=Math.abs(M))return L(Ce)}t.changeMonth(ie),P(I(ie),0)}function P(D,M){var V=l(),B=Se(V||document.body),ie=D!==void 0?D:B?V:t.selectedDateElem!==void 0&&Se(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Se(t.todayDateElem)?t.todayDateElem:I(M>0?1:-1);ie===void 0?t._input.focus():B?R(ie,M):L(ie)}function W(D,M){for(var V=(new Date(D,M,1).getDay()-t.l10n.firstDayOfWeek+7)%7,B=t.utils.getDaysInMonth((M-1+12)%12,D),ie=t.utils.getDaysInMonth(M,D),ce=window.document.createDocumentFragment(),Ie=t.config.showMonths>1,pe=Ie?"prevMonthDay hidden":"prevMonthDay",Le=Ie?"nextMonthDay hidden":"nextMonthDay",me=B+1-V,Ce=0;me<=B;me++,Ce++)ce.appendChild(F("flatpickr-day "+pe,new Date(D,M-1,me),me,Ce));for(me=1;me<=ie;me++,Ce++)ce.appendChild(F("flatpickr-day",new Date(D,M,me),me,Ce));for(var Ye=ie+1;Ye<=42-V&&(t.config.showMonths===1||Ce%7!==0);Ye++,Ce++)ce.appendChild(F("flatpickr-day "+Le,new Date(D,M+1,Ye%ie),Ye,Ce));var tn=Ve("div","dayContainer");return tn.appendChild(ce),tn}function K(){if(t.daysContainer!==void 0){Ui(t.daysContainer),t.weekNumbers&&Ui(t.weekNumbers);for(var D=document.createDocumentFragment(),M=0;M<t.config.showMonths;M++){var V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+M),D.appendChild(W(V.getFullYear(),V.getMonth()))}t.daysContainer.appendChild(D),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&qe()}}function U(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var D=function(B){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&B<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&B>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var M=0;M<12;M++)if(D(M)){var V=Ve("option","flatpickr-monthDropdown-month");V.value=new Date(t.currentYear,M).getMonth().toString(),V.textContent=or(M,t.config.shorthandCurrentMonth,t.l10n),V.tabIndex=-1,t.currentMonth===M&&(V.selected=!0),t.monthsDropdownContainer.appendChild(V)}}}function te(){var D=Ve("div","flatpickr-month"),M=window.document.createDocumentFragment(),V;t.config.showMonths>1||t.config.monthSelectorType==="static"?V=Ve("span","cur-month"):(t.monthsDropdownContainer=Ve("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),p(t.monthsDropdownContainer,"change",function(Ie){var pe=qt(Ie),Le=parseInt(pe.value,10);t.changeMonth(Le-t.currentMonth),be("onMonthChange")}),U(),V=t.monthsDropdownContainer);var B=zi("cur-year",{tabindex:"-1"}),ie=B.getElementsByTagName("input")[0];ie.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&ie.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(ie.setAttribute("max",t.config.maxDate.getFullYear().toString()),ie.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var ce=Ve("div","flatpickr-current-month");return ce.appendChild(V),ce.appendChild(B),M.appendChild(ce),D.appendChild(M),{container:D,yearElement:ie,monthElement:V}}function ne(){Ui(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var D=t.config.showMonths;D--;){var M=te();t.yearElements.push(M.yearElement),t.monthElements.push(M.monthElement),t.monthNav.appendChild(M.container)}t.monthNav.appendChild(t.nextMonthNav)}function Y(){return t.monthNav=Ve("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Ve("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Ve("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ne(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(D){t.__hidePrevMonthArrow!==D&&(Ot(t.prevMonthNav,"flatpickr-disabled",D),t.__hidePrevMonthArrow=D)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(D){t.__hideNextMonthArrow!==D&&(Ot(t.nextMonthNav,"flatpickr-disabled",D),t.__hideNextMonthArrow=D)}}),t.currentYearElement=t.yearElements[0],Ue(),t.monthNav}function z(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var D=Hr(t.config);t.timeContainer=Ve("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var M=Ve("span","flatpickr-time-separator",":"),V=zi("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=V.getElementsByTagName("input")[0];var B=zi("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=B.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=It(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?D.hours:f(D.hours)),t.minuteElement.value=It(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():D.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(V),t.timeContainer.appendChild(M),t.timeContainer.appendChild(B),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var ie=zi("flatpickr-second");t.secondElement=ie.getElementsByTagName("input")[0],t.secondElement.value=It(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():D.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Ve("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(ie)}return t.config.time_24hr||(t.amPM=Ve("span","flatpickr-am-pm",t.l10n.amPM[zt((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function H(){t.weekdayContainer?Ui(t.weekdayContainer):t.weekdayContainer=Ve("div","flatpickr-weekdays");for(var D=t.config.showMonths;D--;){var M=Ve("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(M)}return j(),t.weekdayContainer}function j(){if(t.weekdayContainer){var D=t.l10n.firstDayOfWeek,M=Ko(t.l10n.weekdays.shorthand);D>0&&D<M.length&&(M=Ko(M.splice(D,M.length),M.splice(0,D)));for(var V=t.config.showMonths;V--;)t.weekdayContainer.children[V].innerHTML=`
      <span class='flatpickr-weekday'>
        `+M.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Me(){t.calendarContainer.classList.add("hasWeeks");var D=Ve("div","flatpickr-weekwrapper");D.appendChild(Ve("span","flatpickr-weekday",t.l10n.weekAbbreviation));var M=Ve("div","flatpickr-weeks");return D.appendChild(M),{weekWrapper:D,weekNumbers:M}}function it(D,M){M===void 0&&(M=!0);var V=M?D:D-t.currentMonth;V<0&&t._hidePrevMonthArrow===!0||V>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=V,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,be("onYearChange"),U()),K(),be("onMonthChange"),Ue())}function gt(D,M){if(D===void 0&&(D=!0),M===void 0&&(M=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,M===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var V=Hr(t.config),B=V.hours,ie=V.minutes,ce=V.seconds;d(B,ie,ce)}t.redraw(),D&&be("onChange")}function Mt(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),be("onClose")}function Tt(){t.config!==void 0&&be("onDestroy");for(var D=t._handlers.length;D--;)t._handlers[D].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var M=t.calendarContainer.parentNode;if(M.lastChild&&M.removeChild(M.lastChild),M.parentNode){for(;M.firstChild;)M.parentNode.insertBefore(M.firstChild,M);M.parentNode.removeChild(M)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(V){try{delete t[V]}catch{}})}function _t(D){return t.calendarContainer.contains(D)}function Dt(D){if(t.isOpen&&!t.config.inline){var M=qt(D),V=_t(M),B=M===t.input||M===t.altInput||t.element.contains(M)||D.path&&D.path.indexOf&&(~D.path.indexOf(t.input)||~D.path.indexOf(t.altInput)),ie=!B&&!V&&!_t(D.relatedTarget),ce=!t.config.ignoredFocusElements.some(function(Ie){return Ie.contains(M)});ie&&ce&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function et(D){if(!(!D||t.config.minDate&&D<t.config.minDate.getFullYear()||t.config.maxDate&&D>t.config.maxDate.getFullYear())){var M=D,V=t.currentYear!==M;t.currentYear=M||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),V&&(t.redraw(),be("onYearChange"),U())}}function lt(D,M){var V;M===void 0&&(M=!0);var B=t.parseDate(D,void 0,M);if(t.config.minDate&&B&&jt(B,t.config.minDate,M!==void 0?M:!t.minDateHasTime)<0||t.config.maxDate&&B&&jt(B,t.config.maxDate,M!==void 0?M:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(B===void 0)return!1;for(var ie=!!t.config.enable,ce=(V=t.config.enable)!==null&&V!==void 0?V:t.config.disable,Ie=0,pe=void 0;Ie<ce.length;Ie++){if(pe=ce[Ie],typeof pe=="function"&&pe(B))return ie;if(pe instanceof Date&&B!==void 0&&pe.getTime()===B.getTime())return ie;if(typeof pe=="string"){var Le=t.parseDate(pe,void 0,!0);return Le&&Le.getTime()===B.getTime()?ie:!ie}else if(typeof pe=="object"&&B!==void 0&&pe.from&&pe.to&&B.getTime()>=pe.from.getTime()&&B.getTime()<=pe.to.getTime())return ie}return!ie}function Se(D){return t.daysContainer!==void 0?D.className.indexOf("hidden")===-1&&D.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(D):!1}function Re(D){var M=D.target===t._input,V=t._input.value.trimEnd()!==wt();M&&V&&!(D.relatedTarget&&_t(D.relatedTarget))&&t.setDate(t._input.value,!0,D.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function He(D){var M=qt(D),V=t.config.wrap?n.contains(M):M===t._input,B=t.config.allowInput,ie=t.isOpen&&(!B||!V),ce=t.config.inline&&V&&!B;if(D.keyCode===13&&V){if(B)return t.setDate(t._input.value,!0,M===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),M.blur();t.open()}else if(_t(M)||ie||ce){var Ie=!!t.timeContainer&&t.timeContainer.contains(M);switch(D.keyCode){case 13:Ie?(D.preventDefault(),a(),vn()):Pn(D);break;case 27:D.preventDefault(),vn();break;case 8:case 46:V&&!t.config.allowInput&&(D.preventDefault(),t.clear());break;case 37:case 39:if(!Ie&&!V){D.preventDefault();var pe=l();if(t.daysContainer!==void 0&&(B===!1||pe&&Se(pe))){var Le=D.keyCode===39?1:-1;D.ctrlKey?(D.stopPropagation(),it(Le),P(I(1),0)):P(void 0,Le)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:D.preventDefault();var me=D.keyCode===40?1:-1;t.daysContainer&&M.$i!==void 0||M===t.input||M===t.altInput?D.ctrlKey?(D.stopPropagation(),et(t.currentYear-me),P(I(1),0)):Ie||P(void 0,me*7):M===t.currentYearElement?et(t.currentYear-me):t.config.enableTime&&(!Ie&&t.hourElement&&t.hourElement.focus(),a(D),t._debouncedChange());break;case 9:if(Ie){var Ce=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Rt){return Rt}),Ye=Ce.indexOf(M);if(Ye!==-1){var tn=Ce[Ye+(D.shiftKey?-1:1)];D.preventDefault(),(tn||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(M)&&D.shiftKey&&(D.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&M===t.amPM)switch(D.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],c(),Zt();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],c(),Zt();break}(V||_t(M))&&be("onKeyDown",D)}function qe(D,M){if(M===void 0&&(M="flatpickr-day"),!(t.selectedDates.length!==1||D&&(!D.classList.contains(M)||D.classList.contains("flatpickr-disabled")))){for(var V=D?D.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),B=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),ie=Math.min(V,t.selectedDates[0].getTime()),ce=Math.max(V,t.selectedDates[0].getTime()),Ie=!1,pe=0,Le=0,me=ie;me<ce;me+=C1.DAY)lt(new Date(me),!0)||(Ie=Ie||me>ie&&me<ce,me<B&&(!pe||me>pe)?pe=me:me>B&&(!Le||me<Le)&&(Le=me));var Ce=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+M));Ce.forEach(function(Ye){var tn=Ye.dateObj,Rt=tn.getTime(),oi=pe>0&&Rt<pe||Le>0&&Rt>Le;if(oi){Ye.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(jn){Ye.classList.remove(jn)});return}else if(Ie&&!oi)return;["startRange","inRange","endRange","notAllowed"].forEach(function(jn){Ye.classList.remove(jn)}),D!==void 0&&(D.classList.add(V<=t.selectedDates[0].getTime()?"startRange":"endRange"),B<V&&Rt===B?Ye.classList.add("startRange"):B>V&&Rt===B&&Ye.classList.add("endRange"),Rt>=pe&&(Le===0||Rt<=Le)&&v1(Rt,B,V)&&Ye.classList.add("inRange"))})}}function rt(){t.isOpen&&!t.config.static&&!t.config.inline&&Pt()}function de(D,M){if(M===void 0&&(M=t._positionElement),t.isMobile===!0){if(D){D.preventDefault();var V=qt(D);V&&V.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),be("onOpen");return}else if(t._input.disabled||t.config.inline)return;var B=t.isOpen;t.isOpen=!0,B||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),be("onOpen"),Pt(M)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(D===void 0||!t.timeContainer.contains(D.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function Z(D){return function(M){var V=t.config["_"+D+"Date"]=t.parseDate(M,t.config.dateFormat),B=t.config["_"+(D==="min"?"max":"min")+"Date"];V!==void 0&&(t[D==="min"?"minDateHasTime":"maxDateHasTime"]=V.getHours()>0||V.getMinutes()>0||V.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(ie){return lt(ie)}),!t.selectedDates.length&&D==="min"&&m(V),Zt()),t.daysContainer&&(Fn(),V!==void 0?t.currentYearElement[D]=V.getFullYear().toString():t.currentYearElement.removeAttribute(D),t.currentYearElement.disabled=!!B&&V!==void 0&&B.getFullYear()===V.getFullYear())}}function Te(){var D=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],M=kt(kt({},JSON.parse(JSON.stringify(n.dataset||{}))),e),V={};t.config.parseDate=M.parseDate,t.config.formatDate=M.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(Ce){t.config._enable=hn(Ce)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(Ce){t.config._disable=hn(Ce)}});var B=M.mode==="time";if(!M.dateFormat&&(M.enableTime||B)){var ie=nt.defaultConfig.dateFormat||Gn.dateFormat;V.dateFormat=M.noCalendar||B?"H:i"+(M.enableSeconds?":S":""):ie+" H:i"+(M.enableSeconds?":S":"")}if(M.altInput&&(M.enableTime||B)&&!M.altFormat){var ce=nt.defaultConfig.altFormat||Gn.altFormat;V.altFormat=M.noCalendar||B?"h:i"+(M.enableSeconds?":S K":" K"):ce+(" h:i"+(M.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:Z("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:Z("max")});var Ie=function(Ce){return function(Ye){t.config[Ce==="min"?"_minTime":"_maxTime"]=t.parseDate(Ye,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Ie("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Ie("max")}),M.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,V,M);for(var pe=0;pe<D.length;pe++)t.config[D[pe]]=t.config[D[pe]]===!0||t.config[D[pe]]==="true";qr.filter(function(Ce){return t.config[Ce]!==void 0}).forEach(function(Ce){t.config[Ce]=jr(t.config[Ce]||[]).map(s)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var pe=0;pe<t.config.plugins.length;pe++){var Le=t.config.plugins[pe](t)||{};for(var me in Le)qr.indexOf(me)>-1?t.config[me]=jr(Le[me]).map(s).concat(t.config[me]):typeof M[me]>"u"&&(t.config[me]=Le[me])}M.altInputClass||(t.config.altInputClass=Ge().className+" "+t.config.altInputClass),be("onParseConfig")}function Ge(){return t.config.wrap?n.querySelector("[data-input]"):n}function ot(){typeof t.config.locale!="object"&&typeof nt.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=kt(kt({},nt.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?nt.l10ns[t.config.locale]:void 0),On.D="("+t.l10n.weekdays.shorthand.join("|")+")",On.l="("+t.l10n.weekdays.longhand.join("|")+")",On.M="("+t.l10n.months.shorthand.join("|")+")",On.F="("+t.l10n.months.longhand.join("|")+")",On.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var D=kt(kt({},e),JSON.parse(JSON.stringify(n.dataset||{})));D.time_24hr===void 0&&nt.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Wf(t),t.parseDate=ns({config:t.config,l10n:t.l10n})}function Pt(D){if(typeof t.config.position=="function")return void t.config.position(t,D);if(t.calendarContainer!==void 0){be("onPreCalendarPosition");var M=D||t._positionElement,V=Array.prototype.reduce.call(t.calendarContainer.children,function($f,xf){return $f+xf.offsetHeight},0),B=t.calendarContainer.offsetWidth,ie=t.config.position.split(" "),ce=ie[0],Ie=ie.length>1?ie[1]:null,pe=M.getBoundingClientRect(),Le=window.innerHeight-pe.bottom,me=ce==="above"||ce!=="below"&&Le<V&&pe.top>V,Ce=window.pageYOffset+pe.top+(me?-V-2:M.offsetHeight+2);if(Ot(t.calendarContainer,"arrowTop",!me),Ot(t.calendarContainer,"arrowBottom",me),!t.config.inline){var Ye=window.pageXOffset+pe.left,tn=!1,Rt=!1;Ie==="center"?(Ye-=(B-pe.width)/2,tn=!0):Ie==="right"&&(Ye-=B-pe.width,Rt=!0),Ot(t.calendarContainer,"arrowLeft",!tn&&!Rt),Ot(t.calendarContainer,"arrowCenter",tn),Ot(t.calendarContainer,"arrowRight",Rt);var oi=window.document.body.offsetWidth-(window.pageXOffset+pe.right),jn=Ye+B>window.document.body.offsetWidth,Bf=oi+B>window.document.body.offsetWidth;if(Ot(t.calendarContainer,"rightMost",jn),!t.config.static)if(t.calendarContainer.style.top=Ce+"px",!jn)t.calendarContainer.style.left=Ye+"px",t.calendarContainer.style.right="auto";else if(!Bf)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=oi+"px";else{var Sr=ri();if(Sr===void 0)return;var Kf=window.document.body.offsetWidth,Zf=Math.max(0,Kf/2-B/2),Jf=".flatpickr-calendar.centerMost:before",Gf=".flatpickr-calendar.centerMost:after",Qf=Sr.cssRules.length,Xf="{left:"+pe.left+"px;right:auto;}";Ot(t.calendarContainer,"rightMost",!1),Ot(t.calendarContainer,"centerMost",!0),Sr.insertRule(Jf+","+Gf+Xf,Qf),t.calendarContainer.style.left=Zf+"px",t.calendarContainer.style.right="auto"}}}}function ri(){for(var D=null,M=0;M<document.styleSheets.length;M++){var V=document.styleSheets[M];if(V.cssRules){try{V.cssRules}catch{continue}D=V;break}}return D??si()}function si(){var D=document.createElement("style");return document.head.appendChild(D),D.sheet}function Fn(){t.config.noCalendar||t.isMobile||(U(),Ue(),K())}function vn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Pn(D){D.preventDefault(),D.stopPropagation();var M=function(Ce){return Ce.classList&&Ce.classList.contains("flatpickr-day")&&!Ce.classList.contains("flatpickr-disabled")&&!Ce.classList.contains("notAllowed")},V=Vf(qt(D),M);if(V!==void 0){var B=V,ie=t.latestSelectedDateObj=new Date(B.dateObj.getTime()),ce=(ie.getMonth()<t.currentMonth||ie.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=B,t.config.mode==="single")t.selectedDates=[ie];else if(t.config.mode==="multiple"){var Ie=he(ie);Ie?t.selectedDates.splice(parseInt(Ie),1):t.selectedDates.push(ie)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=ie,t.selectedDates.push(ie),jt(ie,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(Ce,Ye){return Ce.getTime()-Ye.getTime()}));if(c(),ce){var pe=t.currentYear!==ie.getFullYear();t.currentYear=ie.getFullYear(),t.currentMonth=ie.getMonth(),pe&&(be("onYearChange"),U()),be("onMonthChange")}if(Ue(),K(),Zt(),!ce&&t.config.mode!=="range"&&t.config.showMonths===1?L(B):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Le=t.config.mode==="single"&&!t.config.enableTime,me=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Le||me)&&vn()}b()}}var mn={locale:[ot,j],showMonths:[ne,o,H],minDate:[y],maxDate:[y],positionElement:[qn],clickOpens:[function(){t.config.clickOpens===!0?(p(t._input,"focus",t.open),p(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function li(D,M){if(D!==null&&typeof D=="object"){Object.assign(t.config,D);for(var V in D)mn[V]!==void 0&&mn[V].forEach(function(B){return B()})}else t.config[D]=M,mn[D]!==void 0?mn[D].forEach(function(B){return B()}):qr.indexOf(D)>-1&&(t.config[D]=jr(M));t.redraw(),Zt(!0)}function le(D,M){var V=[];if(D instanceof Array)V=D.map(function(B){return t.parseDate(B,M)});else if(D instanceof Date||typeof D=="number")V=[t.parseDate(D,M)];else if(typeof D=="string")switch(t.config.mode){case"single":case"time":V=[t.parseDate(D,M)];break;case"multiple":V=D.split(t.config.conjunction).map(function(B){return t.parseDate(B,M)});break;case"range":V=D.split(t.l10n.rangeSeparator).map(function(B){return t.parseDate(B,M)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(D)));t.selectedDates=t.config.allowInvalidPreload?V:V.filter(function(B){return B instanceof Date&&lt(B,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(B,ie){return B.getTime()-ie.getTime()})}function at(D,M,V){if(M===void 0&&(M=!1),V===void 0&&(V=t.config.dateFormat),D!==0&&!D||D instanceof Array&&D.length===0)return t.clear(M);le(D,V),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),y(void 0,M),m(),t.selectedDates.length===0&&t.clear(!1),Zt(M),M&&be("onChange")}function hn(D){return D.slice().map(function(M){return typeof M=="string"||typeof M=="number"||M instanceof Date?t.parseDate(M,void 0,!0):M&&typeof M=="object"&&M.from&&M.to?{from:t.parseDate(M.from,void 0),to:t.parseDate(M.to,void 0)}:M}).filter(function(M){return M})}function un(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var D=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);D&&le(D,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Rn(){if(t.input=Ge(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Ve(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),qn()}function qn(){t._positionElement=t.config.positionElement||t._input}function x(){var D=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Ve("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=D,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=D==="datetime-local"?"Y-m-d\\TH:i:S":D==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}p(t.mobileInput,"change",function(M){t.setDate(qt(M).value,!1,t.mobileFormatStr),be("onChange"),be("onClose")})}function ae(D){if(t.isOpen===!0)return t.close();t.open(D)}function be(D,M){if(t.config!==void 0){var V=t.config[D];if(V!==void 0&&V.length>0)for(var B=0;V[B]&&B<V.length;B++)V[B](t.selectedDates,t.input.value,t,M);D==="onChange"&&(t.input.dispatchEvent(bt("change")),t.input.dispatchEvent(bt("input")))}}function bt(D){var M=document.createEvent("Event");return M.initEvent(D,!0,!0),M}function he(D){for(var M=0;M<t.selectedDates.length;M++){var V=t.selectedDates[M];if(V instanceof Date&&jt(V,D)===0)return""+M}return!1}function yt(D){return t.config.mode!=="range"||t.selectedDates.length<2?!1:jt(D,t.selectedDates[0])>=0&&jt(D,t.selectedDates[1])<=0}function Ue(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(D,M){var V=new Date(t.currentYear,t.currentMonth,1);V.setMonth(t.currentMonth+M),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[M].textContent=or(V.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=V.getMonth().toString(),D.value=V.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function wt(D){var M=D||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(V){return t.formatDate(V,M)}).filter(function(V,B,ie){return t.config.mode!=="range"||t.config.enableTime||ie.indexOf(V)===B}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Zt(D){D===void 0&&(D=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=wt(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=wt(t.config.altFormat)),D!==!1&&be("onValueUpdate")}function zf(D){var M=qt(D),V=t.prevMonthNav.contains(M),B=t.nextMonthNav.contains(M);V||B?it(V?-1:1):t.yearElements.indexOf(M)>=0?M.select():M.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):M.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function Yf(D){D.preventDefault();var M=D.type==="keydown",V=qt(D),B=V;t.amPM!==void 0&&V===t.amPM&&(t.amPM.textContent=t.l10n.amPM[zt(t.amPM.textContent===t.l10n.amPM[0])]);var ie=parseFloat(B.getAttribute("min")),ce=parseFloat(B.getAttribute("max")),Ie=parseFloat(B.getAttribute("step")),pe=parseInt(B.value,10),Le=D.delta||(M?D.which===38?1:-1:0),me=pe+Ie*Le;if(typeof B.value<"u"&&B.value.length===2){var Ce=B===t.hourElement,Ye=B===t.minuteElement;me<ie?(me=ce+me+zt(!Ce)+(zt(Ce)&&zt(!t.amPM)),Ye&&k(void 0,-1,t.hourElement)):me>ce&&(me=B===t.hourElement?me-ce-zt(!t.amPM):ie,Ye&&k(void 0,1,t.hourElement)),t.amPM&&Ce&&(Ie===1?me+pe===23:Math.abs(me-pe)>Ie)&&(t.amPM.textContent=t.l10n.amPM[zt(t.amPM.textContent===t.l10n.amPM[0])]),B.value=It(me)}}return r(),t}function Qn(n,e){for(var t=Array.prototype.slice.call(n).filter(function(s){return s instanceof HTMLElement}),i=[],r=0;r<t.length;r++){var l=t[r];try{if(l.getAttribute("data-fp-omit")!==null)continue;l._flatpickr!==void 0&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=D1(l,e||{}),i.push(l._flatpickr)}catch(s){console.error(s)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Qn(this,n)},HTMLElement.prototype.flatpickr=function(n){return Qn([this],n)});var nt=function(n,e){return typeof n=="string"?Qn(window.document.querySelectorAll(n),e):n instanceof Node?Qn([n],e):Qn(n,e)};nt.defaultConfig={};nt.l10ns={en:kt({},Si),default:kt({},Si)};nt.localize=function(n){nt.l10ns.default=kt(kt({},nt.l10ns.default),n)};nt.setDefaults=function(n){nt.defaultConfig=kt(kt({},nt.defaultConfig),n)};nt.parseDate=ns({});nt.formatDate=Wf({});nt.compareDates=jt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Qn(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=nt);function O1(n){let e,t=[n[1]],i={};for(let r=0;r<t.length;r+=1)i=Ze(i,t[r]);return{c(){e=w("input"),Xi(e,i)},m(r,l){S(r,e,l),e.autofocus&&e.focus(),n[11](e)},p(r,l){Xi(e,i=Ht(t,[l&2&&r[1]]))},d(r){r&&v(e),n[11](null)}}}function E1(n){let e;const t=n[10].default,i=ut(t,n,n[9],null),r=i||O1(n);return{c(){r&&r.c()},m(l,s){r&&r.m(l,s),e=!0},p(l,[s]){i?i.p&&(!e||s&512)&&ct(i,t,l,l[9],e?ft(t,l[9],s,null):dt(l[9]),null):r&&r.p&&(!e||s&3)&&r.p(l,e?s:-1)},i(l){e||(O(r,l),e=!0)},o(l){N(r,l),e=!1},d(l){r&&r.d(l)}}}function M1(n){return n.charAt(2).toLowerCase()+n.substring(3)}function Zo(n,e){var i;return(((i=n==null?void 0:n.config)==null?void 0:i.mode)??"single")==="single"?e[0]:e}function Jo(n,e){return!!(n==e||n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf()||Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,i)=>t===e[i]))}function I1(n,e,t){const i=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let r=ln(e,i),{$$slots:l={},$$scope:s}=e;const o=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:a=void 0,formattedValue:u="",element:f=void 0,dateFormat:c=void 0}=e,{options:m={}}=e,d=!1,{input:_=void 0,flatpickr:p=void 0}=e;Ft(()=>{const k=f??_,E=g(m);return E.onReady.push((F,L,I)=>{a===void 0&&y(F,L,I),rn().then(()=>{t(8,d=!0)})}),t(3,p=nt(k,Object.assign(E,f?{wrap:!0}:{}))),()=>{p.destroy()}});const b=Ct();function g(k={}){k=Object.assign({},k);for(const E of o){const F=(L,I,R)=>{b(M1(E),[L,I,R])};E in k?(Array.isArray(k[E])||(k[E]=[k[E]]),k[E].push(F)):k[E]=[F]}return k.onChange&&!k.onChange.includes(y)&&k.onChange.push(y),k}function y(k,E,F){const L=Zo(F,k);!Jo(a,L)&&(a||L)&&t(2,a=L),t(4,u=E)}function T(k){oe[k?"unshift":"push"](()=>{_=k,t(0,_)})}return n.$$set=k=>{e=Ze(Ze({},e),Ti(k)),t(1,r=ln(e,i)),"value"in k&&t(2,a=k.value),"formattedValue"in k&&t(4,u=k.formattedValue),"element"in k&&t(5,f=k.element),"dateFormat"in k&&t(6,c=k.dateFormat),"options"in k&&t(7,m=k.options),"input"in k&&t(0,_=k.input),"flatpickr"in k&&t(3,p=k.flatpickr),"$$scope"in k&&t(9,s=k.$$scope)},n.$$.update=()=>{if(n.$$.dirty&332&&p&&d&&(Jo(a,Zo(p,p.selectedDates))||p.setDate(a,!0,c)),n.$$.dirty&392&&p&&d)for(const[k,E]of Object.entries(g(m)))p.set(k,E)},[_,r,a,p,u,f,c,m,d,s,l,T]}class N1 extends ve{constructor(e){super(),ke(this,e,I1,E1,ye,{value:2,formattedValue:4,element:5,dateFormat:6,options:7,input:0,flatpickr:3})}}function Go(n){let e,t,i,r;return{c(){e=w("div"),t=w("button"),t.innerHTML='<i class="ri-close-line"></i>',h(t,"type","button"),h(t,"class","link-hint clear-btn svelte-11df51y"),h(e,"class","form-field-addon")},m(l,s){S(l,e,s),C(e,t),i||(r=[We(Je.call(null,t,"Clear")),ee(t,"click",n[5])],i=!0)},p:G,d(l){l&&v(e),i=!1,De(r)}}}function A1(n){let e,t,i,r,l,s=n[1].name+"",o,a,u,f,c,m,d,_,p,b=n[0]&&!n[1].required&&Go(n);function g(k){n[6](k)}function y(k){n[7](k)}let T={id:n[8],options:A.defaultFlatpickrOptions()};return n[2]!==void 0&&(T.value=n[2]),n[0]!==void 0&&(T.formattedValue=n[0]),m=new N1({props:T}),oe.push(()=>Ae(m,"value",g)),oe.push(()=>Ae(m,"formattedValue",y)),m.$on("close",n[3]),{c(){e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),a=re(" (UTC)"),f=q(),b&&b.c(),c=q(),$(m.$$.fragment),h(t,"class",i=kn(A.getFieldTypeIcon(n[1].type))+" svelte-11df51y"),h(l,"class","txt"),h(e,"for",u=n[8])},m(k,E){S(k,e,E),C(e,t),C(e,r),C(e,l),C(l,o),C(l,a),S(k,f,E),b&&b.m(k,E),S(k,c,E),Q(m,k,E),p=!0},p(k,E){(!p||E&2&&i!==(i=kn(A.getFieldTypeIcon(k[1].type))+" svelte-11df51y"))&&h(t,"class",i),(!p||E&2)&&s!==(s=k[1].name+"")&&_e(o,s),(!p||E&256&&u!==(u=k[8]))&&h(e,"for",u),k[0]&&!k[1].required?b?b.p(k,E):(b=Go(k),b.c(),b.m(c.parentNode,c)):b&&(b.d(1),b=null);const F={};E&256&&(F.id=k[8]),!d&&E&4&&(d=!0,F.value=k[2],Fe(()=>d=!1)),!_&&E&1&&(_=!0,F.formattedValue=k[0],Fe(()=>_=!1)),m.$set(F)},i(k){p||(O(m.$$.fragment,k),p=!0)},o(k){N(m.$$.fragment,k),p=!1},d(k){k&&(v(e),v(f),v(c)),b&&b.d(k),X(m,k)}}}function L1(n){let e,t;return e=new xe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[A1,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&775&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function F1(n,e,t){let{field:i}=e,{value:r=void 0}=e,l=r;function s(c){c.detail&&c.detail.length==3&&t(0,r=c.detail[1])}function o(){t(0,r="")}const a=()=>o();function u(c){l=c,t(2,l),t(0,r)}function f(c){r=c,t(0,r)}return n.$$set=c=>{"field"in c&&t(1,i=c.field),"value"in c&&t(0,r=c.value)},n.$$.update=()=>{n.$$.dirty&1&&r&&r.length>19&&t(0,r=r.substring(0,19)),n.$$.dirty&5&&l!=r&&t(2,l=r)},[r,i,l,s,o,a,u,f]}class P1 extends ve{constructor(e){super(),ke(this,e,F1,L1,ye,{field:1,value:0})}}const R1=n=>({}),Qo=n=>({});function Xo(n,e,t){const i=n.slice();return i[48]=e[t],i}const q1=n=>({}),$o=n=>({});function xo(n,e,t){const i=n.slice();return i[48]=e[t],i[52]=t,i}function ea(n){let e,t,i;return{c(){e=w("div"),t=re(n[2]),i=q(),h(e,"class","block txt-placeholder"),J(e,"link-hint",!n[5]&&!n[6])},m(r,l){S(r,e,l),C(e,t),C(e,i)},p(r,l){l[0]&4&&_e(t,r[2]),l[0]&96&&J(e,"link-hint",!r[5]&&!r[6])},d(r){r&&v(e)}}}function j1(n){let e,t=n[48]+"",i;return{c(){e=w("span"),i=re(t),h(e,"class","txt")},m(r,l){S(r,e,l),C(e,i)},p(r,l){l[0]&1&&t!==(t=r[48]+"")&&_e(i,t)},i:G,o:G,d(r){r&&v(e)}}}function V1(n){let e,t,i;const r=[{item:n[48]},n[11]];var l=n[10];function s(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Ze(u,r[f]);return a!==void 0&&a[0]&2049&&(u=Ze(u,Ht(r,[a[0]&1&&{item:o[48]},a[0]&2048&&$t(o[11])]))),{props:u}}return l&&(e=Kt(l,s(n))),{c(){e&&$(e.$$.fragment),t=ge()},m(o,a){e&&Q(e,o,a),S(o,t,a),i=!0},p(o,a){if(a[0]&1024&&l!==(l=o[10])){if(e){ue();const u=e;N(u.$$.fragment,1,0,()=>{X(u,1)}),fe()}l?(e=Kt(l,s(o,a)),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(l){const u=a[0]&2049?Ht(r,[a[0]&1&&{item:o[48]},a[0]&2048&&$t(o[11])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&v(t),e&&X(e,o)}}}function ta(n){let e,t,i;function r(){return n[36](n[48])}return{c(){e=w("span"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"class","clear")},m(l,s){S(l,e,s),t||(i=[We(Je.call(null,e,"Clear")),ee(e,"click",Xt(Xe(r)))],t=!0)},p(l,s){n=l},d(l){l&&v(e),t=!1,De(i)}}}function na(n){let e,t,i,r,l,s;const o=[V1,j1],a=[];function u(c,m){return c[10]?0:1}t=u(n),i=a[t]=o[t](n);let f=(n[4]||n[8])&&ta(n);return{c(){e=w("div"),i.c(),r=q(),f&&f.c(),l=q(),h(e,"class","option")},m(c,m){S(c,e,m),a[t].m(e,null),C(e,r),f&&f.m(e,null),C(e,l),s=!0},p(c,m){let d=t;t=u(c),t===d?a[t].p(c,m):(ue(),N(a[d],1,1,()=>{a[d]=null}),fe(),i=a[t],i?i.p(c,m):(i=a[t]=o[t](c),i.c()),O(i,1),i.m(e,r)),c[4]||c[8]?f?f.p(c,m):(f=ta(c),f.c(),f.m(e,l)):f&&(f.d(1),f=null)},i(c){s||(O(i),s=!0)},o(c){N(i),s=!1},d(c){c&&v(e),a[t].d(),f&&f.d()}}}function ia(n){let e,t,i={class:"dropdown dropdown-block options-dropdown dropdown-left "+(n[7]?"dropdown-upside":""),trigger:n[20],$$slots:{default:[U1]},$$scope:{ctx:n}};return e=new Ni({props:i}),n[41](e),e.$on("show",n[26]),e.$on("hide",n[42]),{c(){$(e.$$.fragment)},m(r,l){Q(e,r,l),t=!0},p(r,l){const s={};l[0]&128&&(s.class="dropdown dropdown-block options-dropdown dropdown-left "+(r[7]?"dropdown-upside":"")),l[0]&1048576&&(s.trigger=r[20]),l[0]&6451722|l[1]&8192&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){n[41](null),X(e,r)}}}function ra(n){let e,t,i,r,l,s,o,a,u=n[17].length&&sa(n);return{c(){e=w("div"),t=w("label"),i=w("div"),i.innerHTML='<i class="ri-search-line"></i>',r=q(),l=w("input"),s=q(),u&&u.c(),h(i,"class","addon p-r-0"),l.autofocus=!0,h(l,"type","text"),h(l,"placeholder",n[3]),h(t,"class","input-group"),h(e,"class","form-field form-field-sm options-search")},m(f,c){S(f,e,c),C(e,t),C(t,i),C(t,r),C(t,l),Be(l,n[17]),C(t,s),u&&u.m(t,null),l.focus(),o||(a=ee(l,"input",n[38]),o=!0)},p(f,c){c[0]&8&&h(l,"placeholder",f[3]),c[0]&131072&&l.value!==f[17]&&Be(l,f[17]),f[17].length?u?u.p(f,c):(u=sa(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},d(f){f&&v(e),u&&u.d(),o=!1,a()}}}function sa(n){let e,t,i,r;return{c(){e=w("div"),t=w("button"),t.innerHTML='<i class="ri-close-line"></i>',h(t,"type","button"),h(t,"class","btn btn-sm btn-circle btn-transparent clear"),h(e,"class","addon suffix p-r-5")},m(l,s){S(l,e,s),C(e,t),i||(r=ee(t,"click",Xt(Xe(n[23]))),i=!0)},p:G,d(l){l&&v(e),i=!1,r()}}}function la(n){let e,t=n[1]&&oa(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[1]?t?t.p(i,r):(t=oa(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&v(e),t&&t.d(i)}}}function oa(n){let e,t;return{c(){e=w("div"),t=re(n[1]),h(e,"class","txt-missing")},m(i,r){S(i,e,r),C(e,t)},p(i,r){r[0]&2&&_e(t,i[1])},d(i){i&&v(e)}}}function W1(n){let e=n[48]+"",t;return{c(){t=re(e)},m(i,r){S(i,t,r)},p(i,r){r[0]&4194304&&e!==(e=i[48]+"")&&_e(t,e)},i:G,o:G,d(i){i&&v(t)}}}function H1(n){let e,t,i;const r=[{item:n[48]},n[13]];var l=n[12];function s(o,a){let u={};for(let f=0;f<r.length;f+=1)u=Ze(u,r[f]);return a!==void 0&&a[0]&4202496&&(u=Ze(u,Ht(r,[a[0]&4194304&&{item:o[48]},a[0]&8192&&$t(o[13])]))),{props:u}}return l&&(e=Kt(l,s(n))),{c(){e&&$(e.$$.fragment),t=ge()},m(o,a){e&&Q(e,o,a),S(o,t,a),i=!0},p(o,a){if(a[0]&4096&&l!==(l=o[12])){if(e){ue();const u=e;N(u.$$.fragment,1,0,()=>{X(u,1)}),fe()}l?(e=Kt(l,s(o,a)),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(l){const u=a[0]&4202496?Ht(r,[a[0]&4194304&&{item:o[48]},a[0]&8192&&$t(o[13])]):{};e.$set(u)}},i(o){i||(e&&O(e.$$.fragment,o),i=!0)},o(o){e&&N(e.$$.fragment,o),i=!1},d(o){o&&v(t),e&&X(e,o)}}}function aa(n){let e,t,i,r,l,s,o;const a=[H1,W1],u=[];function f(d,_){return d[12]?0:1}t=f(n),i=u[t]=a[t](n);function c(...d){return n[39](n[48],...d)}function m(...d){return n[40](n[48],...d)}return{c(){e=w("div"),i.c(),r=q(),h(e,"tabindex","0"),h(e,"class","dropdown-item option"),h(e,"role","menuitem"),J(e,"closable",n[9]),J(e,"selected",n[21](n[48]))},m(d,_){S(d,e,_),u[t].m(e,null),C(e,r),l=!0,s||(o=[ee(e,"click",c),ee(e,"keydown",m)],s=!0)},p(d,_){n=d;let p=t;t=f(n),t===p?u[t].p(n,_):(ue(),N(u[p],1,1,()=>{u[p]=null}),fe(),i=u[t],i?i.p(n,_):(i=u[t]=a[t](n),i.c()),O(i,1),i.m(e,r)),(!l||_[0]&512)&&J(e,"closable",n[9]),(!l||_[0]&6291456)&&J(e,"selected",n[21](n[48]))},i(d){l||(O(i),l=!0)},o(d){N(i),l=!1},d(d){d&&v(e),u[t].d(),s=!1,De(o)}}}function U1(n){let e,t,i,r,l,s=n[14]&&ra(n);const o=n[35].beforeOptions,a=ut(o,n,n[44],$o);let u=we(n[22]),f=[];for(let p=0;p<u.length;p+=1)f[p]=aa(Xo(n,u,p));const c=p=>N(f[p],1,1,()=>{f[p]=null});let m=null;u.length||(m=la(n));const d=n[35].afterOptions,_=ut(d,n,n[44],Qo);return{c(){s&&s.c(),e=q(),a&&a.c(),t=q(),i=w("div");for(let p=0;p<f.length;p+=1)f[p].c();m&&m.c(),r=q(),_&&_.c(),h(i,"class","options-list")},m(p,b){s&&s.m(p,b),S(p,e,b),a&&a.m(p,b),S(p,t,b),S(p,i,b);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(i,null);m&&m.m(i,null),S(p,r,b),_&&_.m(p,b),l=!0},p(p,b){if(p[14]?s?s.p(p,b):(s=ra(p),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),a&&a.p&&(!l||b[1]&8192)&&ct(a,o,p,p[44],l?ft(o,p[44],b,q1):dt(p[44]),$o),b[0]&56635906){u=we(p[22]);let g;for(g=0;g<u.length;g+=1){const y=Xo(p,u,g);f[g]?(f[g].p(y,b),O(f[g],1)):(f[g]=aa(y),f[g].c(),O(f[g],1),f[g].m(i,null))}for(ue(),g=u.length;g<f.length;g+=1)c(g);fe(),!u.length&&m?m.p(p,b):u.length?m&&(m.d(1),m=null):(m=la(p),m.c(),m.m(i,null))}_&&_.p&&(!l||b[1]&8192)&&ct(_,d,p,p[44],l?ft(d,p[44],b,R1):dt(p[44]),Qo)},i(p){if(!l){O(a,p);for(let b=0;b<u.length;b+=1)O(f[b]);O(_,p),l=!0}},o(p){N(a,p),f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)N(f[b]);N(_,p),l=!1},d(p){p&&(v(e),v(t),v(i),v(r)),s&&s.d(p),a&&a.d(p),cn(f,p),m&&m.d(),_&&_.d(p)}}}function z1(n){let e,t,i,r,l,s,o=we(A.toArray(n[0])),a=[];for(let m=0;m<o.length;m+=1)a[m]=na(xo(n,o,m));const u=m=>N(a[m],1,1,()=>{a[m]=null});let f=null;o.length||(f=ea(n));let c=!n[5]&&!n[6]&&ia(n);return{c(){e=w("div"),t=w("div");for(let m=0;m<a.length;m+=1)a[m].c();f&&f.c(),r=q(),c&&c.c(),h(t,"tabindex",i=n[5]||n[6]?"-1":"0"),h(t,"class","selected-container"),h(t,"role","button"),J(t,"disabled",n[5]),J(t,"readonly",n[6]),h(e,"class",l="select "+n[15]),J(e,"upside",n[7]),J(e,"multiple",n[4]),J(e,"disabled",n[5]),J(e,"readonly",n[6])},m(m,d){S(m,e,d),C(e,t);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(t,null);f&&f.m(t,null),n[37](t),C(e,r),c&&c.m(e,null),n[43](e),s=!0},p(m,d){if(d[0]&68981){o=we(A.toArray(m[0]));let _;for(_=0;_<o.length;_+=1){const p=xo(m,o,_);a[_]?(a[_].p(p,d),O(a[_],1)):(a[_]=na(p),a[_].c(),O(a[_],1),a[_].m(t,null))}for(ue(),_=o.length;_<a.length;_+=1)u(_);fe(),!o.length&&f?f.p(m,d):o.length?f&&(f.d(1),f=null):(f=ea(m),f.c(),f.m(t,null))}(!s||d[0]&96&&i!==(i=m[5]||m[6]?"-1":"0"))&&h(t,"tabindex",i),(!s||d[0]&32)&&J(t,"disabled",m[5]),(!s||d[0]&64)&&J(t,"readonly",m[6]),!m[5]&&!m[6]?c?(c.p(m,d),d[0]&96&&O(c,1)):(c=ia(m),c.c(),O(c,1),c.m(e,null)):c&&(ue(),N(c,1,1,()=>{c=null}),fe()),(!s||d[0]&32768&&l!==(l="select "+m[15]))&&h(e,"class",l),(!s||d[0]&32896)&&J(e,"upside",m[7]),(!s||d[0]&32784)&&J(e,"multiple",m[4]),(!s||d[0]&32800)&&J(e,"disabled",m[5]),(!s||d[0]&32832)&&J(e,"readonly",m[6])},i(m){if(!s){for(let d=0;d<o.length;d+=1)O(a[d]);O(c),s=!0}},o(m){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)N(a[d]);N(c),s=!1},d(m){m&&v(e),cn(a,m),f&&f.d(),n[37](null),c&&c.d(),n[43](null)}}}function Y1(n,e){let t=(""+e).replace(/\s+/g,"").toLowerCase(),i=n;try{typeof n=="object"&&n!==null&&(i=JSON.stringify(n))}catch{}return(""+i).replace(/\s+/g,"").toLowerCase().includes(t)}function B1(n,e,t){let i,r,{$$slots:l={},$$scope:s}=e,{id:o=""}=e,{noOptionsText:a="No options found"}=e,{selectPlaceholder:u="- Select -"}=e,{searchPlaceholder:f="Search..."}=e,{items:c=[]}=e,{multiple:m=!1}=e,{disabled:d=!1}=e,{readonly:_=!1}=e,{upside:p=!1}=e,{selected:b=m?[]:void 0}=e,{toggle:g=m}=e,{closable:y=!0}=e,{labelComponent:T=void 0}=e,{labelComponentProps:k={}}=e,{optionComponent:E=void 0}=e,{optionComponentProps:F={}}=e,{searchable:L=!1}=e,{searchFunc:I=void 0}=e,{class:R=""}=e,P,W="",K,U;function te(Z){if(A.isEmpty(b))return;let Te=A.toArray(b);A.inArray(Te,Z)&&(A.removeByValue(Te,Z),t(0,b=Te)),K==null||K.dispatchEvent(new CustomEvent("change",{detail:b,bubbles:!0}))}function ne(Z){if(m){let Te=A.toArray(b);A.inArray(Te,Z)||t(0,b=[...Te,Z])}else t(0,b=Z);K==null||K.dispatchEvent(new CustomEvent("change",{detail:b,bubbles:!0}))}function Y(Z){return r(Z)?te(Z):ne(Z)}function z(){t(0,b=m?[]:void 0)}function H(){P!=null&&P.show&&(P==null||P.show())}function j(){P!=null&&P.hide&&(P==null||P.hide())}function Me(){if(A.isEmpty(b)||A.isEmpty(c))return;let Z=A.toArray(b),Te=[];for(const Ge of Z)A.inArray(c,Ge)||Te.push(Ge);if(Te.length){for(const Ge of Te)A.removeByValue(Z,Ge);t(0,b=m?Z:Z[0])}}function it(){t(17,W="")}function gt(Z,Te){Z=Z||[];const Ge=I||Y1;return Z.filter(ot=>Ge(ot,Te))||[]}function Mt(Z,Te){Z.preventDefault(),g&&m?Y(Te):ne(Te)}function Tt(Z,Te){(Z.code==="Enter"||Z.code==="Space")&&(Mt(Z,Te),y&&j())}function _t(){it(),setTimeout(()=>{const Z=K==null?void 0:K.querySelector(".dropdown-item.option.selected");Z&&(Z.focus(),Z.scrollIntoView({block:"nearest"}))},0)}function Dt(Z){Z.stopPropagation(),!_&&!d&&(P==null||P.toggle())}Ft(()=>{const Z=document.querySelectorAll(`label[for="${o}"]`);for(const Te of Z)Te.addEventListener("click",Dt);return()=>{for(const Te of Z)Te.removeEventListener("click",Dt)}});const et=Z=>te(Z);function lt(Z){oe[Z?"unshift":"push"](()=>{U=Z,t(20,U)})}function Se(){W=this.value,t(17,W)}const Re=(Z,Te)=>Mt(Te,Z),He=(Z,Te)=>Tt(Te,Z);function qe(Z){oe[Z?"unshift":"push"](()=>{P=Z,t(18,P)})}function rt(Z){St.call(this,n,Z)}function de(Z){oe[Z?"unshift":"push"](()=>{K=Z,t(19,K)})}return n.$$set=Z=>{"id"in Z&&t(27,o=Z.id),"noOptionsText"in Z&&t(1,a=Z.noOptionsText),"selectPlaceholder"in Z&&t(2,u=Z.selectPlaceholder),"searchPlaceholder"in Z&&t(3,f=Z.searchPlaceholder),"items"in Z&&t(28,c=Z.items),"multiple"in Z&&t(4,m=Z.multiple),"disabled"in Z&&t(5,d=Z.disabled),"readonly"in Z&&t(6,_=Z.readonly),"upside"in Z&&t(7,p=Z.upside),"selected"in Z&&t(0,b=Z.selected),"toggle"in Z&&t(8,g=Z.toggle),"closable"in Z&&t(9,y=Z.closable),"labelComponent"in Z&&t(10,T=Z.labelComponent),"labelComponentProps"in Z&&t(11,k=Z.labelComponentProps),"optionComponent"in Z&&t(12,E=Z.optionComponent),"optionComponentProps"in Z&&t(13,F=Z.optionComponentProps),"searchable"in Z&&t(14,L=Z.searchable),"searchFunc"in Z&&t(29,I=Z.searchFunc),"class"in Z&&t(15,R=Z.class),"$$scope"in Z&&t(44,s=Z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&268435456&&c&&(Me(),it()),n.$$.dirty[0]&268566528&&t(22,i=gt(c,W)),n.$$.dirty[0]&1&&t(21,r=function(Z){const Te=A.toArray(b);return A.inArray(Te,Z)})},[b,a,u,f,m,d,_,p,g,y,T,k,E,F,L,R,te,W,P,K,U,r,i,it,Mt,Tt,_t,o,c,I,ne,Y,z,H,j,l,et,lt,Se,Re,He,qe,rt,de,s]}class Hf extends ve{constructor(e){super(),ke(this,e,B1,z1,ye,{id:27,noOptionsText:1,selectPlaceholder:2,searchPlaceholder:3,items:28,multiple:4,disabled:5,readonly:6,upside:7,selected:0,toggle:8,closable:9,labelComponent:10,labelComponentProps:11,optionComponent:12,optionComponentProps:13,searchable:14,searchFunc:29,class:15,deselectItem:16,selectItem:30,toggleItem:31,reset:32,showDropdown:33,hideDropdown:34},null,[-1,-1])}get deselectItem(){return this.$$.ctx[16]}get selectItem(){return this.$$.ctx[30]}get toggleItem(){return this.$$.ctx[31]}get reset(){return this.$$.ctx[32]}get showDropdown(){return this.$$.ctx[33]}get hideDropdown(){return this.$$.ctx[34]}}function ua(n){let e,t,i=n[1].options.maxSelect+"",r,l;return{c(){e=w("div"),t=re("Select up to "),r=re(i),l=re(" items."),h(e,"class","help-block")},m(s,o){S(s,e,o),C(e,t),C(e,r),C(e,l)},p(s,o){o&2&&i!==(i=s[1].options.maxSelect+"")&&_e(r,i)},d(s){s&&v(e)}}}function K1(n){var y,T,k,E,F,L;let e,t,i,r,l,s=n[1].name+"",o,a,u,f,c,m,d,_;function p(I){n[3](I)}let b={id:n[4],toggle:!n[1].required||n[2],multiple:n[2],closable:!n[2]||((y=n[0])==null?void 0:y.length)>=((T=n[1].options)==null?void 0:T.maxSelect),items:(k=n[1].options)==null?void 0:k.values,searchable:((F=(E=n[1].options)==null?void 0:E.values)==null?void 0:F.length)>5};n[0]!==void 0&&(b.selected=n[0]),f=new Hf({props:b}),oe.push(()=>Ae(f,"selected",p));let g=((L=n[1].options)==null?void 0:L.maxSelect)>1&&ua(n);return{c(){e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),u=q(),$(f.$$.fragment),m=q(),g&&g.c(),d=ge(),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(l,"class","txt"),h(e,"for",a=n[4])},m(I,R){S(I,e,R),C(e,t),C(e,r),C(e,l),C(l,o),S(I,u,R),Q(f,I,R),S(I,m,R),g&&g.m(I,R),S(I,d,R),_=!0},p(I,R){var W,K,U,te,ne,Y;(!_||R&2&&i!==(i=A.getFieldTypeIcon(I[1].type)))&&h(t,"class",i),(!_||R&2)&&s!==(s=I[1].name+"")&&_e(o,s),(!_||R&16&&a!==(a=I[4]))&&h(e,"for",a);const P={};R&16&&(P.id=I[4]),R&6&&(P.toggle=!I[1].required||I[2]),R&4&&(P.multiple=I[2]),R&7&&(P.closable=!I[2]||((W=I[0])==null?void 0:W.length)>=((K=I[1].options)==null?void 0:K.maxSelect)),R&2&&(P.items=(U=I[1].options)==null?void 0:U.values),R&2&&(P.searchable=((ne=(te=I[1].options)==null?void 0:te.values)==null?void 0:ne.length)>5),!c&&R&1&&(c=!0,P.selected=I[0],Fe(()=>c=!1)),f.$set(P),((Y=I[1].options)==null?void 0:Y.maxSelect)>1?g?g.p(I,R):(g=ua(I),g.c(),g.m(d.parentNode,d)):g&&(g.d(1),g=null)},i(I){_||(O(f.$$.fragment,I),_=!0)},o(I){N(f.$$.fragment,I),_=!1},d(I){I&&(v(e),v(u),v(m),v(d)),X(f,I),g&&g.d(I)}}}function Z1(n){let e,t;return e=new xe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[K1,({uniqueId:i})=>({4:i}),({uniqueId:i})=>i?16:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&55&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function J1(n,e,t){let i,{field:r}=e,{value:l=void 0}=e;function s(o){l=o,t(0,l),t(2,i),t(1,r)}return n.$$set=o=>{"field"in o&&t(1,r=o.field),"value"in o&&t(0,l=o.value)},n.$$.update=()=>{var o;n.$$.dirty&2&&t(2,i=((o=r.options)==null?void 0:o.maxSelect)>1),n.$$.dirty&5&&typeof l>"u"&&t(0,l=i?[]:""),n.$$.dirty&7&&i&&Array.isArray(l)&&l.length>r.options.maxSelect&&t(0,l=l.slice(l.length-r.options.maxSelect))},[l,r,i,s]}class G1 extends ve{constructor(e){super(),ke(this,e,J1,Z1,ye,{field:1,value:0})}}function Q1(n){let e;return{c(){e=w("i"),h(e,"class","ri-error-warning-fill txt-danger")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function X1(n){let e;return{c(){e=w("i"),h(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function $1(n){let e;return{c(){e=w("input"),h(e,"type","text"),h(e,"class","txt-mono"),e.value="Loading...",e.disabled=!0},m(t,i){S(t,e,i)},p:G,i:G,o:G,d(t){t&&v(e)}}}function x1(n){let e,t,i;var r=n[3];function l(s,o){return{props:{id:s[6],maxHeight:"500",language:"json",value:s[2]}}}return r&&(e=Kt(r,l(n)),e.$on("change",n[5])),{c(){e&&$(e.$$.fragment),t=ge()},m(s,o){e&&Q(e,s,o),S(s,t,o),i=!0},p(s,o){if(o&8&&r!==(r=s[3])){if(e){ue();const a=e;N(a.$$.fragment,1,0,()=>{X(a,1)}),fe()}r?(e=Kt(r,l(s)),e.$on("change",s[5]),$(e.$$.fragment),O(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(r){const a={};o&64&&(a.id=s[6]),o&4&&(a.value=s[2]),e.$set(a)}},i(s){i||(e&&O(e.$$.fragment,s),i=!0)},o(s){e&&N(e.$$.fragment,s),i=!1},d(s){s&&v(t),e&&X(e,s)}}}function e_(n){let e,t,i,r,l,s=n[1].name+"",o,a,u,f,c,m,d,_,p,b,g,y;function T(R,P){return R[4]?X1:Q1}let k=T(n),E=k(n);const F=[x1,$1],L=[];function I(R,P){return R[3]?0:1}return d=I(n),_=L[d]=F[d](n),{c(){e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),a=q(),u=w("span"),E.c(),m=q(),_.c(),p=ge(),h(t,"class",i=kn(A.getFieldTypeIcon(n[1].type))+" svelte-p6ecb8"),h(l,"class","txt"),h(u,"class","json-state svelte-p6ecb8"),h(e,"for",c=n[6])},m(R,P){S(R,e,P),C(e,t),C(e,r),C(e,l),C(l,o),C(e,a),C(e,u),E.m(u,null),S(R,m,P),L[d].m(R,P),S(R,p,P),b=!0,g||(y=We(f=Je.call(null,u,{position:"left",text:n[4]?"Valid JSON":"Invalid JSON"})),g=!0)},p(R,P){(!b||P&2&&i!==(i=kn(A.getFieldTypeIcon(R[1].type))+" svelte-p6ecb8"))&&h(t,"class",i),(!b||P&2)&&s!==(s=R[1].name+"")&&_e(o,s),k!==(k=T(R))&&(E.d(1),E=k(R),E&&(E.c(),E.m(u,null))),f&&st(f.update)&&P&16&&f.update.call(null,{position:"left",text:R[4]?"Valid JSON":"Invalid JSON"}),(!b||P&64&&c!==(c=R[6]))&&h(e,"for",c);let W=d;d=I(R),d===W?L[d].p(R,P):(ue(),N(L[W],1,1,()=>{L[W]=null}),fe(),_=L[d],_?_.p(R,P):(_=L[d]=F[d](R),_.c()),O(_,1),_.m(p.parentNode,p))},i(R){b||(O(_),b=!0)},o(R){N(_),b=!1},d(R){R&&(v(e),v(m),v(p)),E.d(),L[d].d(R),g=!1,y()}}}function t_(n){let e,t;return e=new xe({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[e_,({uniqueId:i})=>({6:i}),({uniqueId:i})=>i?64:0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&2&&(l.class="form-field "+(i[1].required?"required":"")),r&2&&(l.name=i[1].name),r&223&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function fa(n){return typeof n=="string"&&Uf(n)?n:JSON.stringify(typeof n>"u"?null:n,null,2)}function Uf(n){try{return JSON.parse(n===""?null:n),!0}catch{}return!1}function n_(n,e,t){let i,{field:r}=e,{value:l=void 0}=e,s,o=fa(l);Ft(async()=>{try{t(3,s=(await jf(()=>import("./CodeEditor-do0a6uQv.js"),__vite__mapDeps([2,1]),import.meta.url)).default)}catch(u){console.warn(u)}});const a=u=>{t(2,o=u.detail),t(0,l=o.trim())};return n.$$set=u=>{"field"in u&&t(1,r=u.field),"value"in u&&t(0,l=u.value)},n.$$.update=()=>{n.$$.dirty&5&&l!==(o==null?void 0:o.trim())&&(t(2,o=fa(l)),t(0,l=o)),n.$$.dirty&4&&t(4,i=Uf(o))},[l,r,o,s,i,a]}class i_ extends ve{constructor(e){super(),ke(this,e,n_,t_,ye,{field:1,value:0})}}const r_=n=>({dragging:n&4,dragover:n&8}),ca=n=>({dragging:n[2],dragover:n[3]});function s_(n){let e,t,i,r,l;const s=n[10].default,o=ut(s,n,n[9],ca);return{c(){e=w("div"),o&&o.c(),h(e,"draggable",t=!n[1]),h(e,"class","draggable svelte-28orm4"),J(e,"dragging",n[2]),J(e,"dragover",n[3])},m(a,u){S(a,e,u),o&&o.m(e,null),i=!0,r||(l=[ee(e,"dragover",Xe(n[11])),ee(e,"dragleave",Xe(n[12])),ee(e,"dragend",n[13]),ee(e,"dragstart",n[14]),ee(e,"drop",n[15])],r=!0)},p(a,[u]){o&&o.p&&(!i||u&524)&&ct(o,s,a,a[9],i?ft(s,a[9],u,r_):dt(a[9]),ca),(!i||u&2&&t!==(t=!a[1]))&&h(e,"draggable",t),(!i||u&4)&&J(e,"dragging",a[2]),(!i||u&8)&&J(e,"dragover",a[3])},i(a){i||(O(o,a),i=!0)},o(a){N(o,a),i=!1},d(a){a&&v(e),o&&o.d(a),r=!1,De(l)}}}function l_(n,e,t){let{$$slots:i={},$$scope:r}=e;const l=Ct();let{index:s}=e,{list:o=[]}=e,{group:a="default"}=e,{disabled:u=!1}=e,{dragHandleClass:f=""}=e,c=!1,m=!1;function d(k,E){if(!(!k||u)){if(f&&!k.target.classList.contains(f)){t(3,m=!1),t(2,c=!1),k.preventDefault();return}t(2,c=!0),k.dataTransfer.effectAllowed="move",k.dataTransfer.dropEffect="move",k.dataTransfer.setData("text/plain",JSON.stringify({index:E,group:a})),l("drag",k)}}function _(k,E){if(t(3,m=!1),t(2,c=!1),!k||u)return;k.dataTransfer.dropEffect="move";let F={};try{F=JSON.parse(k.dataTransfer.getData("text/plain"))}catch{}if(F.group!=a)return;const L=F.index<<0;L<E?(o.splice(E+1,0,o[L]),o.splice(L,1)):(o.splice(E,0,o[L]),o.splice(L+1,1)),t(6,o),l("sort",{oldIndex:L,newIndex:E,list:o})}const p=()=>{t(3,m=!0)},b=()=>{t(3,m=!1)},g=()=>{t(3,m=!1),t(2,c=!1)},y=k=>d(k,s),T=k=>_(k,s);return n.$$set=k=>{"index"in k&&t(0,s=k.index),"list"in k&&t(6,o=k.list),"group"in k&&t(7,a=k.group),"disabled"in k&&t(1,u=k.disabled),"dragHandleClass"in k&&t(8,f=k.dragHandleClass),"$$scope"in k&&t(9,r=k.$$scope)},[s,u,c,m,d,_,o,a,f,r,i,p,b,g,y,T]}class vr extends ve{constructor(e){super(),ke(this,e,l_,s_,ye,{index:0,list:6,group:7,disabled:1,dragHandleClass:8})}}function o_(n){let e,t;return{c(){e=w("i"),h(e,"class","ri-file-line"),h(e,"alt",t=n[0].name)},m(i,r){S(i,e,r)},p(i,r){r&1&&t!==(t=i[0].name)&&h(e,"alt",t)},d(i){i&&v(e)}}}function a_(n){let e,t,i;return{c(){e=w("img"),h(e,"draggable",!1),sn(e.src,t=n[2])||h(e,"src",t),h(e,"width",n[1]),h(e,"height",n[1]),h(e,"alt",i=n[0].name)},m(r,l){S(r,e,l)},p(r,l){l&4&&!sn(e.src,t=r[2])&&h(e,"src",t),l&2&&h(e,"width",r[1]),l&2&&h(e,"height",r[1]),l&1&&i!==(i=r[0].name)&&h(e,"alt",i)},d(r){r&&v(e)}}}function u_(n){let e;function t(l,s){return l[2]?a_:o_}let i=t(n),r=i(n);return{c(){r.c(),e=ge()},m(l,s){r.m(l,s),S(l,e,s)},p(l,[s]){i===(i=t(l))&&r?r.p(l,s):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},i:G,o:G,d(l){l&&v(e),r.d(l)}}}function f_(n,e,t){let i,{file:r}=e,{size:l=50}=e;function s(){A.hasImageExtension(r==null?void 0:r.name)?A.generateThumb(r,l,l).then(o=>{t(2,i=o)}).catch(o=>{t(2,i=""),console.warn("Unable to generate thumb: ",o)}):t(2,i="")}return n.$$set=o=>{"file"in o&&t(0,r=o.file),"size"in o&&t(1,l=o.size)},n.$$.update=()=>{n.$$.dirty&1&&typeof r<"u"&&s()},t(2,i=""),[r,l,i]}class c_ extends ve{constructor(e){super(),ke(this,e,f_,u_,ye,{file:0,size:1})}}function da(n,e,t){const i=n.slice();return i[29]=e[t],i[31]=t,i}function ma(n,e,t){const i=n.slice();i[34]=e[t],i[31]=t;const r=i[2].includes(i[34]);return i[35]=r,i}function d_(n){let e,t,i;function r(){return n[17](n[34])}return{c(){e=w("button"),e.innerHTML='<i class="ri-close-line"></i>',h(e,"type","button"),h(e,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove")},m(l,s){S(l,e,s),t||(i=[We(Je.call(null,e,"Remove file")),ee(e,"click",r)],t=!0)},p(l,s){n=l},d(l){l&&v(e),t=!1,De(i)}}}function m_(n){let e,t,i;function r(){return n[16](n[34])}return{c(){e=w("button"),e.innerHTML='<span class="txt">Restore</span>',h(e,"type","button"),h(e,"class","btn btn-sm btn-danger btn-transparent")},m(l,s){S(l,e,s),t||(i=ee(e,"click",r),t=!0)},p(l,s){n=l},d(l){l&&v(e),t=!1,i()}}}function h_(n){let e,t,i,r,l,s,o=n[34]+"",a,u,f,c,m,d;i=new Os({props:{record:n[3],filename:n[34]}});function _(g,y){return g[35]?m_:d_}let p=_(n),b=p(n);return{c(){e=w("div"),t=w("div"),$(i.$$.fragment),r=q(),l=w("div"),s=w("a"),a=re(o),c=q(),m=w("div"),b.c(),J(t,"fade",n[35]),h(s,"draggable",!1),h(s,"href",u=Ne.files.getUrl(n[3],n[34],{token:n[10]})),h(s,"class",f="txt-ellipsis "+(n[35]?"txt-strikethrough txt-hint":"link-primary")),h(s,"title","Download"),h(s,"target","_blank"),h(s,"rel","noopener noreferrer"),h(l,"class","content"),h(m,"class","actions"),h(e,"class","list-item"),J(e,"dragging",n[32]),J(e,"dragover",n[33])},m(g,y){S(g,e,y),C(e,t),Q(i,t,null),C(e,r),C(e,l),C(l,s),C(s,a),C(e,c),C(e,m),b.m(m,null),d=!0},p(g,y){const T={};y[0]&8&&(T.record=g[3]),y[0]&32&&(T.filename=g[34]),i.$set(T),(!d||y[0]&36)&&J(t,"fade",g[35]),(!d||y[0]&32)&&o!==(o=g[34]+"")&&_e(a,o),(!d||y[0]&1064&&u!==(u=Ne.files.getUrl(g[3],g[34],{token:g[10]})))&&h(s,"href",u),(!d||y[0]&36&&f!==(f="txt-ellipsis "+(g[35]?"txt-strikethrough txt-hint":"link-primary")))&&h(s,"class",f),p===(p=_(g))&&b?b.p(g,y):(b.d(1),b=p(g),b&&(b.c(),b.m(m,null))),(!d||y[1]&2)&&J(e,"dragging",g[32]),(!d||y[1]&4)&&J(e,"dragover",g[33])},i(g){d||(O(i.$$.fragment,g),d=!0)},o(g){N(i.$$.fragment,g),d=!1},d(g){g&&v(e),X(i),b.d()}}}function ha(n,e){let t,i,r,l;function s(a){e[18](a)}let o={group:e[4].name+"_uploaded",index:e[31],disabled:!e[6],$$slots:{default:[h_,({dragging:a,dragover:u})=>({32:a,33:u}),({dragging:a,dragover:u})=>[0,(a?2:0)|(u?4:0)]]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.list=e[0]),i=new vr({props:o}),oe.push(()=>Ae(i,"list",s)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_uploaded"),u[0]&32&&(f.index=e[31]),u[0]&64&&(f.disabled=!e[6]),u[0]&1068|u[1]&70&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&1&&(r=!0,f.list=e[0],Fe(()=>r=!1)),i.$set(f)},i(a){l||(O(i.$$.fragment,a),l=!0)},o(a){N(i.$$.fragment,a),l=!1},d(a){a&&v(t),X(i,a)}}}function p_(n){let e,t,i,r,l,s,o,a,u=n[29].name+"",f,c,m,d,_,p,b;i=new c_({props:{file:n[29]}});function g(){return n[19](n[31])}return{c(){e=w("div"),t=w("figure"),$(i.$$.fragment),r=q(),l=w("div"),s=w("small"),s.textContent="New",o=q(),a=w("span"),f=re(u),m=q(),d=w("button"),d.innerHTML='<i class="ri-close-line"></i>',h(t,"class","thumb"),h(s,"class","label label-success m-r-5"),h(a,"class","txt"),h(l,"class","filename m-r-auto"),h(l,"title",c=n[29].name),h(d,"type","button"),h(d,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),h(e,"class","list-item"),J(e,"dragging",n[32]),J(e,"dragover",n[33])},m(y,T){S(y,e,T),C(e,t),Q(i,t,null),C(e,r),C(e,l),C(l,s),C(l,o),C(l,a),C(a,f),C(e,m),C(e,d),_=!0,p||(b=[We(Je.call(null,d,"Remove file")),ee(d,"click",g)],p=!0)},p(y,T){n=y;const k={};T[0]&2&&(k.file=n[29]),i.$set(k),(!_||T[0]&2)&&u!==(u=n[29].name+"")&&_e(f,u),(!_||T[0]&2&&c!==(c=n[29].name))&&h(l,"title",c),(!_||T[1]&2)&&J(e,"dragging",n[32]),(!_||T[1]&4)&&J(e,"dragover",n[33])},i(y){_||(O(i.$$.fragment,y),_=!0)},o(y){N(i.$$.fragment,y),_=!1},d(y){y&&v(e),X(i),p=!1,De(b)}}}function pa(n,e){let t,i,r,l;function s(a){e[20](a)}let o={group:e[4].name+"_new",index:e[31],disabled:!e[6],$$slots:{default:[p_,({dragging:a,dragover:u})=>({32:a,33:u}),({dragging:a,dragover:u})=>[0,(a?2:0)|(u?4:0)]]},$$scope:{ctx:e}};return e[1]!==void 0&&(o.list=e[1]),i=new vr({props:o}),oe.push(()=>Ae(i,"list",s)),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u[0]&16&&(f.group=e[4].name+"_new"),u[0]&2&&(f.index=e[31]),u[0]&64&&(f.disabled=!e[6]),u[0]&2|u[1]&70&&(f.$$scope={dirty:u,ctx:e}),!r&&u[0]&2&&(r=!0,f.list=e[1],Fe(()=>r=!1)),i.$set(f)},i(a){l||(O(i.$$.fragment,a),l=!0)},o(a){N(i.$$.fragment,a),l=!1},d(a){a&&v(t),X(i,a)}}}function g_(n){let e,t,i,r,l,s=n[4].name+"",o,a,u,f,c=[],m=new Map,d,_=[],p=new Map,b,g,y,T,k,E,F,L,I,R,P,W,K=we(n[5]);const U=Y=>Y[34]+Y[3].id;for(let Y=0;Y<K.length;Y+=1){let z=ma(n,K,Y),H=U(z);m.set(H,c[Y]=ha(H,z))}let te=we(n[1]);const ne=Y=>Y[29].name+Y[31];for(let Y=0;Y<te.length;Y+=1){let z=da(n,te,Y),H=ne(z);p.set(H,_[Y]=pa(H,z))}return{c(){var Y,z;e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),u=q(),f=w("div");for(let H=0;H<c.length;H+=1)c[H].c();d=q();for(let H=0;H<_.length;H+=1)_[H].c();b=q(),g=w("div"),y=w("input"),k=q(),E=w("button"),F=w("i"),L=q(),I=w("span"),I.textContent="Upload new file",h(t,"class",i=A.getFieldTypeIcon(n[4].type)),h(l,"class","txt"),h(e,"for",a=n[28]),h(y,"type","file"),h(y,"class","hidden"),h(y,"accept",T=((z=(Y=n[4].options)==null?void 0:Y.mimeTypes)==null?void 0:z.join(","))||null),y.multiple=n[6],h(F,"class","ri-upload-cloud-line"),h(I,"class","txt"),h(E,"type","button"),h(E,"class","btn btn-transparent btn-sm btn-block"),E.disabled=n[11],h(g,"class","list-item list-item-btn"),h(f,"class","list")},m(Y,z){S(Y,e,z),C(e,t),C(e,r),C(e,l),C(l,o),S(Y,u,z),S(Y,f,z);for(let H=0;H<c.length;H+=1)c[H]&&c[H].m(f,null);C(f,d);for(let H=0;H<_.length;H+=1)_[H]&&_[H].m(f,null);C(f,b),C(f,g),C(g,y),n[21](y),C(g,k),C(g,E),C(E,F),C(E,L),C(E,I),n[24](f),R=!0,P||(W=[ee(y,"change",n[22]),ee(E,"click",n[23])],P=!0)},p(Y,z){var H,j;(!R||z[0]&16&&i!==(i=A.getFieldTypeIcon(Y[4].type)))&&h(t,"class",i),(!R||z[0]&16)&&s!==(s=Y[4].name+"")&&_e(o,s),(!R||z[0]&268435456&&a!==(a=Y[28]))&&h(e,"for",a),z[0]&13437|z[1]&6&&(K=we(Y[5]),ue(),c=pt(c,z,U,1,Y,K,m,f,Lt,ha,d,ma),fe()),z[0]&16466|z[1]&6&&(te=we(Y[1]),ue(),_=pt(_,z,ne,1,Y,te,p,f,Lt,pa,b,da),fe()),(!R||z[0]&16&&T!==(T=((j=(H=Y[4].options)==null?void 0:H.mimeTypes)==null?void 0:j.join(","))||null))&&h(y,"accept",T),(!R||z[0]&64)&&(y.multiple=Y[6]),(!R||z[0]&2048)&&(E.disabled=Y[11])},i(Y){if(!R){for(let z=0;z<K.length;z+=1)O(c[z]);for(let z=0;z<te.length;z+=1)O(_[z]);R=!0}},o(Y){for(let z=0;z<c.length;z+=1)N(c[z]);for(let z=0;z<_.length;z+=1)N(_[z]);R=!1},d(Y){Y&&(v(e),v(u),v(f));for(let z=0;z<c.length;z+=1)c[z].d();for(let z=0;z<_.length;z+=1)_[z].d();n[21](null),n[24](null),P=!1,De(W)}}}function __(n){let e,t,i,r,l;return t=new xe({props:{class:`
            form-field form-field-list form-field-file
            `+(n[4].required?"required":"")+`
            `+(n[9]?"dragover":"")+`
        `,name:n[4].name,$$slots:{default:[g_,({uniqueId:s})=>({28:s}),({uniqueId:s})=>[s?268435456:0]]},$$scope:{ctx:n}}}),{c(){e=w("div"),$(t.$$.fragment),h(e,"class","block")},m(s,o){S(s,e,o),Q(t,e,null),i=!0,r||(l=[ee(e,"dragover",Xe(n[25])),ee(e,"dragleave",n[26]),ee(e,"drop",n[15])],r=!0)},p(s,o){const a={};o[0]&528&&(a.class=`
            form-field form-field-list form-field-file
            `+(s[4].required?"required":"")+`
            `+(s[9]?"dragover":"")+`
        `),o[0]&16&&(a.name=s[4].name),o[0]&268439039|o[1]&64&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){i||(O(t.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),i=!1},d(s){s&&v(e),X(t),r=!1,De(l)}}}function b_(n,e,t){let i,r,l,{record:s}=e,{field:o}=e,{value:a=""}=e,{uploadedFiles:u=[]}=e,{deletedFileNames:f=[]}=e,c,m,d=!1,_="";function p(ne){A.removeByValue(f,ne),t(2,f)}function b(ne){A.pushUnique(f,ne),t(2,f)}function g(ne){A.isEmpty(u[ne])||u.splice(ne,1),t(1,u)}function y(){m==null||m.dispatchEvent(new CustomEvent("change",{detail:{value:a,uploadedFiles:u,deletedFileNames:f},bubbles:!0}))}function T(ne){var z,H;ne.preventDefault(),t(9,d=!1);const Y=((z=ne.dataTransfer)==null?void 0:z.files)||[];if(!(l||!Y.length)){for(const j of Y){const Me=r.length+u.length-f.length;if(((H=o.options)==null?void 0:H.maxSelect)<=Me)break;u.push(j)}t(1,u)}}Ft(async()=>{t(10,_=await Ne.getAdminFileToken(s.collectionId))});const k=ne=>p(ne),E=ne=>b(ne);function F(ne){a=ne,t(0,a),t(6,i),t(4,o)}const L=ne=>g(ne);function I(ne){u=ne,t(1,u)}function R(ne){oe[ne?"unshift":"push"](()=>{c=ne,t(7,c)})}const P=()=>{for(let ne of c.files)u.push(ne);t(1,u),t(7,c.value=null,c)},W=()=>c==null?void 0:c.click();function K(ne){oe[ne?"unshift":"push"](()=>{m=ne,t(8,m)})}const U=()=>{t(9,d=!0)},te=()=>{t(9,d=!1)};return n.$$set=ne=>{"record"in ne&&t(3,s=ne.record),"field"in ne&&t(4,o=ne.field),"value"in ne&&t(0,a=ne.value),"uploadedFiles"in ne&&t(1,u=ne.uploadedFiles),"deletedFileNames"in ne&&t(2,f=ne.deletedFileNames)},n.$$.update=()=>{var ne,Y;n.$$.dirty[0]&2&&(Array.isArray(u)||t(1,u=A.toArray(u))),n.$$.dirty[0]&4&&(Array.isArray(f)||t(2,f=A.toArray(f))),n.$$.dirty[0]&16&&t(6,i=((ne=o.options)==null?void 0:ne.maxSelect)>1),n.$$.dirty[0]&65&&A.isEmpty(a)&&t(0,a=i?[]:""),n.$$.dirty[0]&1&&t(5,r=A.toArray(a)),n.$$.dirty[0]&54&&t(11,l=(r.length||u.length)&&((Y=o.options)==null?void 0:Y.maxSelect)<=r.length+u.length-f.length),n.$$.dirty[0]&6&&(u!==-1||f!==-1)&&y()},[a,u,f,s,o,r,i,c,m,d,_,l,p,b,g,T,k,E,F,L,I,R,P,W,K,U,te]}class y_ extends ve{constructor(e){super(),ke(this,e,b_,__,ye,{record:3,field:4,value:0,uploadedFiles:1,deletedFileNames:2},null,[-1,-1])}}function ga(n){return typeof n=="function"?{threshold:100,callback:n}:n||{}}function w_(n,e){e=ga(e),e!=null&&e.callback&&e.callback();function t(i){if(!(e!=null&&e.callback))return;i.target.scrollHeight-i.target.clientHeight-i.target.scrollTop<=e.threshold&&e.callback()}return n.addEventListener("scroll",t),n.addEventListener("resize",t),{update(i){e=ga(i)},destroy(){n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}}}function _a(n,e,t){const i=n.slice();return i[46]=e[t],i[48]=t,i}function ba(n,e,t){const i=n.slice();i[46]=e[t];const r=i[8](i[46]);return i[6]=r,i}function ya(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<div class="txt">New record</div>',h(e,"type","button"),h(e,"class","btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs")},m(r,l){S(r,e,l),t||(i=ee(e,"click",n[30]),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function wa(n){let e,t=!n[12]&&ka(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[12]?t&&(t.d(1),t=null):t?t.p(i,r):(t=ka(i),t.c(),t.m(e.parentNode,e))},d(i){i&&v(e),t&&t.d(i)}}}function ka(n){var l;let e,t,i,r=((l=n[2])==null?void 0:l.length)&&va(n);return{c(){e=w("div"),t=w("span"),t.textContent="No records found.",i=q(),r&&r.c(),h(t,"class","txt txt-hint"),h(e,"class","list-item")},m(s,o){S(s,e,o),C(e,t),C(e,i),r&&r.m(e,null)},p(s,o){var a;(a=s[2])!=null&&a.length?r?r.p(s,o):(r=va(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&v(e),r&&r.d()}}}function va(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<span class="txt">Clear filters</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-sm")},m(r,l){S(r,e,l),t||(i=ee(e,"click",n[34]),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function k_(n){let e;return{c(){e=w("i"),h(e,"class","ri-checkbox-blank-circle-line txt-disabled")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function v_(n){let e;return{c(){e=w("i"),h(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Sa(n){let e,t,i,r;function l(){return n[31](n[46])}return{c(){e=w("div"),t=w("button"),t.innerHTML='<i class="ri-pencil-line"></i>',h(t,"type","button"),h(t,"class","btn btn-sm btn-circle btn-transparent btn-hint m-l-auto"),h(e,"class","actions nonintrusive")},m(s,o){S(s,e,o),C(e,t),i||(r=[We(Je.call(null,t,"Edit")),ee(t,"keydown",Xt(n[26])),ee(t,"click",Xt(l))],i=!0)},p(s,o){n=s},d(s){s&&v(e),i=!1,De(r)}}}function Ca(n,e){let t,i,r,l,s,o,a,u;function f(b,g){return b[6]?v_:k_}let c=f(e),m=c(e);l=new kr({props:{record:e[46]}});let d=!e[10]&&Sa(e);function _(){return e[32](e[46])}function p(...b){return e[33](e[46],...b)}return{key:n,first:null,c(){t=w("div"),m.c(),i=q(),r=w("div"),$(l.$$.fragment),s=q(),d&&d.c(),h(r,"class","content"),h(t,"tabindex","0"),h(t,"class","list-item handle"),J(t,"selected",e[6]),J(t,"disabled",!e[6]&&e[4]>1&&!e[9]),this.first=t},m(b,g){S(b,t,g),m.m(t,null),C(t,i),C(t,r),Q(l,r,null),C(t,s),d&&d.m(t,null),o=!0,a||(u=[ee(t,"click",_),ee(t,"keydown",p)],a=!0)},p(b,g){e=b,c!==(c=f(e))&&(m.d(1),m=c(e),m&&(m.c(),m.m(t,i)));const y={};g[0]&128&&(y.record=e[46]),l.$set(y),e[10]?d&&(d.d(1),d=null):d?d.p(e,g):(d=Sa(e),d.c(),d.m(t,null)),(!o||g[0]&384)&&J(t,"selected",e[6]),(!o||g[0]&912)&&J(t,"disabled",!e[6]&&e[4]>1&&!e[9])},i(b){o||(O(l.$$.fragment,b),o=!0)},o(b){N(l.$$.fragment,b),o=!1},d(b){b&&v(t),m.d(),X(l),d&&d.d(),a=!1,De(u)}}}function Ta(n){let e;return{c(){e=w("div"),e.innerHTML='<div class="block txt-center"><span class="loader loader-sm active"></span></div>',h(e,"class","list-item")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Da(n){let e,t=n[6].length+"",i,r,l,s;return{c(){e=re("("),i=re(t),r=re(" of MAX "),l=re(n[4]),s=re(")")},m(o,a){S(o,e,a),S(o,i,a),S(o,r,a),S(o,l,a),S(o,s,a)},p(o,a){a[0]&64&&t!==(t=o[6].length+"")&&_e(i,t),a[0]&16&&_e(l,o[4])},d(o){o&&(v(e),v(i),v(r),v(l),v(s))}}}function S_(n){let e;return{c(){e=w("p"),e.textContent="No selected records.",h(e,"class","txt-hint")},m(t,i){S(t,e,i)},p:G,i:G,o:G,d(t){t&&v(e)}}}function C_(n){let e,t,i=we(n[6]),r=[];for(let s=0;s<i.length;s+=1)r[s]=Oa(_a(n,i,s));const l=s=>N(r[s],1,1,()=>{r[s]=null});return{c(){e=w("div");for(let s=0;s<r.length;s+=1)r[s].c();h(e,"class","selected-list svelte-1u8jhky")},m(s,o){S(s,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);t=!0},p(s,o){if(o[0]&32832|o[1]&786432){i=we(s[6]);let a;for(a=0;a<i.length;a+=1){const u=_a(s,i,a);r[a]?(r[a].p(u,o),O(r[a],1)):(r[a]=Oa(u),r[a].c(),O(r[a],1),r[a].m(e,null))}for(ue(),a=i.length;a<r.length;a+=1)l(a);fe()}},i(s){if(!t){for(let o=0;o<i.length;o+=1)O(r[o]);t=!0}},o(s){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);t=!1},d(s){s&&v(e),cn(r,s)}}}function T_(n){let e,t,i,r,l,s,o,a;t=new kr({props:{record:n[46]}});function u(){return n[36](n[46])}return{c(){e=w("span"),$(t.$$.fragment),i=q(),r=w("button"),r.innerHTML='<i class="ri-close-line"></i>',l=q(),h(r,"type","button"),h(r,"title","Remove"),h(r,"class","btn btn-circle btn-transparent btn-hint btn-xs"),h(e,"class","label"),J(e,"label-danger",n[49]),J(e,"label-warning",n[50])},m(f,c){S(f,e,c),Q(t,e,null),C(e,i),C(e,r),S(f,l,c),s=!0,o||(a=ee(r,"click",u),o=!0)},p(f,c){n=f;const m={};c[0]&64&&(m.record=n[46]),t.$set(m),(!s||c[1]&262144)&&J(e,"label-danger",n[49]),(!s||c[1]&524288)&&J(e,"label-warning",n[50])},i(f){s||(O(t.$$.fragment,f),s=!0)},o(f){N(t.$$.fragment,f),s=!1},d(f){f&&(v(e),v(l)),X(t),o=!1,a()}}}function Oa(n){let e,t,i;function r(s){n[37](s)}let l={index:n[48],$$slots:{default:[T_,({dragging:s,dragover:o})=>({49:s,50:o}),({dragging:s,dragover:o})=>[0,(s?262144:0)|(o?524288:0)]]},$$scope:{ctx:n}};return n[6]!==void 0&&(l.list=n[6]),e=new vr({props:l}),oe.push(()=>Ae(e,"list",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[0]&64|o[1]&4980736&&(a.$$scope={dirty:o,ctx:s}),!t&&o[0]&64&&(t=!0,a.list=s[6],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function D_(n){let e,t,i,r,l,s=[],o=new Map,a,u,f,c,m,d,_,p,b,g,y,T;t=new Es({props:{value:n[2],autocompleteCollection:n[5]}}),t.$on("submit",n[29]);let k=!n[10]&&ya(n),E=we(n[7]);const F=U=>U[46].id;for(let U=0;U<E.length;U+=1){let te=ba(n,E,U),ne=F(te);o.set(ne,s[U]=Ca(ne,te))}let L=null;E.length||(L=wa(n));let I=n[12]&&Ta(),R=n[4]>1&&Da(n);const P=[C_,S_],W=[];function K(U,te){return U[6].length?0:1}return _=K(n),p=W[_]=P[_](n),{c(){e=w("div"),$(t.$$.fragment),i=q(),k&&k.c(),r=q(),l=w("div");for(let U=0;U<s.length;U+=1)s[U].c();L&&L.c(),a=q(),I&&I.c(),f=q(),c=w("h5"),m=re(`Selected
        `),R&&R.c(),d=q(),p.c(),b=ge(),h(e,"class","flex m-b-base flex-gap-10"),h(l,"class","list picker-list m-b-base svelte-1u8jhky"),h(c,"class","section-title")},m(U,te){S(U,e,te),Q(t,e,null),C(e,i),k&&k.m(e,null),S(U,r,te),S(U,l,te);for(let ne=0;ne<s.length;ne+=1)s[ne]&&s[ne].m(l,null);L&&L.m(l,null),C(l,a),I&&I.m(l,null),S(U,f,te),S(U,c,te),C(c,m),R&&R.m(c,null),S(U,d,te),W[_].m(U,te),S(U,b,te),g=!0,y||(T=We(u=w_.call(null,l,n[35])),y=!0)},p(U,te){const ne={};te[0]&4&&(ne.value=U[2]),te[0]&32&&(ne.autocompleteCollection=U[5]),t.$set(ne),U[10]?k&&(k.d(1),k=null):k?k.p(U,te):(k=ya(U),k.c(),k.m(e,null)),te[0]&79764&&(E=we(U[7]),ue(),s=pt(s,te,F,1,U,E,o,l,Lt,Ca,a,ba),fe(),!E.length&&L?L.p(U,te):E.length?L&&(L.d(1),L=null):(L=wa(U),L.c(),L.m(l,a))),U[12]?I||(I=Ta(),I.c(),I.m(l,null)):I&&(I.d(1),I=null),u&&st(u.update)&&te[0]&2056&&u.update.call(null,U[35]),U[4]>1?R?R.p(U,te):(R=Da(U),R.c(),R.m(c,null)):R&&(R.d(1),R=null);let Y=_;_=K(U),_===Y?W[_].p(U,te):(ue(),N(W[Y],1,1,()=>{W[Y]=null}),fe(),p=W[_],p?p.p(U,te):(p=W[_]=P[_](U),p.c()),O(p,1),p.m(b.parentNode,b))},i(U){if(!g){O(t.$$.fragment,U);for(let te=0;te<E.length;te+=1)O(s[te]);O(p),g=!0}},o(U){N(t.$$.fragment,U);for(let te=0;te<s.length;te+=1)N(s[te]);N(p),g=!1},d(U){U&&(v(e),v(r),v(l),v(f),v(c),v(d),v(b)),X(t),k&&k.d();for(let te=0;te<s.length;te+=1)s[te].d();L&&L.d(),I&&I.d(),R&&R.d(),W[_].d(U),y=!1,T()}}}function O_(n){var o;let e,t,i,r=(((o=n[5])==null?void 0:o.name)||"")+"",l,s;return{c(){e=w("h4"),t=re("Select "),i=w("strong"),l=re(r),s=re(" records")},m(a,u){S(a,e,u),C(e,t),C(e,i),C(i,l),C(e,s)},p(a,u){var f;u[0]&32&&r!==(r=(((f=a[5])==null?void 0:f.name)||"")+"")&&_e(l,r)},d(a){a&&v(e)}}}function E_(n){let e,t,i,r,l;return{c(){e=w("button"),e.innerHTML='<span class="txt">Cancel</span>',t=q(),i=w("button"),i.innerHTML='<span class="txt">Set selection</span>',h(e,"type","button"),h(e,"class","btn btn-transparent"),h(i,"type","button"),h(i,"class","btn")},m(s,o){S(s,e,o),S(s,t,o),S(s,i,o),r||(l=[ee(e,"click",n[27]),ee(i,"click",n[28])],r=!0)},p:G,d(s){s&&(v(e),v(t),v(i)),r=!1,De(l)}}}function M_(n){let e,t;const i=[{popup:!0},{class:"overlay-panel-xl"},n[18]];let r={$$slots:{footer:[E_],header:[O_],default:[D_]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)r=Ze(r,i[l]);return e=new yr({props:r}),n[38](e),e.$on("hide",n[39]),e.$on("show",n[40]),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),t=!0},p(l,s){const o=s[0]&262144?Ht(i,[i[0],i[1],$t(l[18])]):{};s[0]&8188|s[1]&4194304&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){n[38](null),X(e,l)}}}const Yi=50;function I_(n,e,t){let i,r,l,s,o,a,u,f;const c=["value","field","show","hide"];let m=ln(e,c),d;Ke(n,dn,de=>t(25,d=de));const _=Ct(),p="picker_"+A.randomString(5);let{value:b}=e,{field:g}=e,y,T,k="",E=[],F=[],L=1,I=0,R=!1,P=!1;function W(){return t(2,k=""),t(7,E=[]),t(6,F=[]),U(),te(!0),y==null?void 0:y.show()}function K(){return y==null?void 0:y.hide()}async function U(){const de=A.toArray(b);if(!r||!de.length)return;t(23,P=!0);let Z=[];const Te=de.slice(),Ge=[];for(;Te.length>0;){const ot=[];for(const Pt of Te.splice(0,Yi))ot.push(`id="${Pt}"`);Ge.push(Ne.collection(r).getFullList({batch:Yi,filter:ot.join("||"),fields:"*:excerpt(200)",requestKey:null}))}try{await Promise.all(Ge).then(ot=>{Z=Z.concat(...ot)}),t(6,F=[]);for(const ot of de){const Pt=A.findByKey(Z,"id",ot);Pt&&F.push(Pt)}k.trim()||t(7,E=A.filterDuplicatesByKey(F.concat(E))),t(23,P=!1)}catch(ot){ot.isAbort||(Ne.error(ot),t(23,P=!1))}}async function te(de=!1){if(r){t(3,R=!0),de&&(k.trim()?t(7,E=[]):t(7,E=A.toArray(F).slice()));try{const Z=de?1:L+1,Te=A.getAllCollectionIdentifiers(l),Ge=await Ne.collection(r).getList(Z,Yi,{filter:A.normalizeSearchFilter(k,Te),sort:s?"":"-created",fields:"*:excerpt(200)",skipTotal:1,requestKey:p+"loadList"});t(7,E=A.filterDuplicatesByKey(E.concat(Ge.items))),L=Ge.page,t(22,I=Ge.items.length),t(3,R=!1)}catch(Z){Z.isAbort||(Ne.error(Z),t(3,R=!1))}}}function ne(de){i==1?t(6,F=[de]):u&&(A.pushOrReplaceByKey(F,de),t(6,F))}function Y(de){A.removeByKey(F,"id",de.id),t(6,F)}function z(de){f(de)?Y(de):ne(de)}function H(){var de;i!=1?t(19,b=F.map(Z=>Z.id)):t(19,b=((de=F==null?void 0:F[0])==null?void 0:de.id)||""),_("save",F),K()}function j(de){St.call(this,n,de)}const Me=()=>K(),it=()=>H(),gt=de=>t(2,k=de.detail),Mt=()=>T==null?void 0:T.show(),Tt=de=>T==null?void 0:T.show(de),_t=de=>z(de),Dt=(de,Z)=>{(Z.code==="Enter"||Z.code==="Space")&&(Z.preventDefault(),Z.stopPropagation(),z(de))},et=()=>t(2,k=""),lt=()=>{a&&!R&&te()},Se=de=>Y(de);function Re(de){F=de,t(6,F)}function He(de){oe[de?"unshift":"push"](()=>{y=de,t(1,y)})}function qe(de){St.call(this,n,de)}function rt(de){St.call(this,n,de)}return n.$$set=de=>{e=Ze(Ze({},e),Ti(de)),t(18,m=ln(e,c)),"value"in de&&t(19,b=de.value),"field"in de&&t(20,g=de.field)},n.$$.update=()=>{var de,Z;n.$$.dirty[0]&1048576&&t(4,i=((de=g==null?void 0:g.options)==null?void 0:de.maxSelect)||null),n.$$.dirty[0]&1048576&&t(24,r=(Z=g==null?void 0:g.options)==null?void 0:Z.collectionId),n.$$.dirty[0]&50331648&&t(5,l=d.find(Te=>Te.id==r)||null),n.$$.dirty[0]&6&&typeof k<"u"&&y!=null&&y.isActive()&&te(!0),n.$$.dirty[0]&32&&t(10,s=(l==null?void 0:l.type)==="view"),n.$$.dirty[0]&8388616&&t(12,o=R||P),n.$$.dirty[0]&4194304&&t(11,a=I==Yi),n.$$.dirty[0]&80&&t(9,u=i===null||i>F.length),n.$$.dirty[0]&64&&t(8,f=function(Te){return A.findByKey(F,"id",Te.id)})},[K,y,k,R,i,l,F,E,f,u,s,a,o,T,te,Y,z,H,m,b,g,W,I,P,r,d,j,Me,it,gt,Mt,Tt,_t,Dt,et,lt,Se,Re,He,qe,rt]}class N_ extends ve{constructor(e){super(),ke(this,e,I_,M_,ye,{value:19,field:20,show:21,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[21]}get hide(){return this.$$.ctx[0]}}function Ea(n,e,t){const i=n.slice();return i[21]=e[t],i[23]=t,i}function Ma(n,e,t){const i=n.slice();return i[26]=e[t],i}function Ia(n){let e,t,i,r;return{c(){e=w("i"),h(e,"class","ri-error-warning-line link-hint m-l-auto flex-order-10")},m(l,s){S(l,e,s),i||(r=We(t=Je.call(null,e,{position:"left",text:"The following relation ids were removed from the list because they are missing or invalid: "+n[6].join(", ")})),i=!0)},p(l,s){t&&st(t.update)&&s&64&&t.update.call(null,{position:"left",text:"The following relation ids were removed from the list because they are missing or invalid: "+l[6].join(", ")})},d(l){l&&v(e),i=!1,r()}}}function Na(n){let e,t=n[5]&&Aa(n);return{c(){t&&t.c(),e=ge()},m(i,r){t&&t.m(i,r),S(i,e,r)},p(i,r){i[5]?t?t.p(i,r):(t=Aa(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&v(e),t&&t.d(i)}}}function Aa(n){let e,t=we(A.toArray(n[0]).slice(0,10)),i=[];for(let r=0;r<t.length;r+=1)i[r]=La(Ma(n,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=ge()},m(r,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(r,l);S(r,e,l)},p(r,l){if(l&1){t=we(A.toArray(r[0]).slice(0,10));let s;for(s=0;s<t.length;s+=1){const o=Ma(r,t,s);i[s]?i[s].p(o,l):(i[s]=La(),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(r){r&&v(e),cn(i,r)}}}function La(n){let e;return{c(){e=w("div"),e.innerHTML='<div class="skeleton-loader"></div> ',h(e,"class","list-item")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function A_(n){let e,t,i,r,l,s,o,a,u,f;i=new kr({props:{record:n[21]}});function c(){return n[11](n[21])}return{c(){e=w("div"),t=w("div"),$(i.$$.fragment),r=q(),l=w("div"),s=w("button"),s.innerHTML='<i class="ri-close-line"></i>',o=q(),h(t,"class","content"),h(s,"type","button"),h(s,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),h(l,"class","actions"),h(e,"class","list-item"),J(e,"dragging",n[24]),J(e,"dragover",n[25])},m(m,d){S(m,e,d),C(e,t),Q(i,t,null),C(e,r),C(e,l),C(l,s),S(m,o,d),a=!0,u||(f=[We(Je.call(null,s,"Remove")),ee(s,"click",c)],u=!0)},p(m,d){n=m;const _={};d&16&&(_.record=n[21]),i.$set(_),(!a||d&16777216)&&J(e,"dragging",n[24]),(!a||d&33554432)&&J(e,"dragover",n[25])},i(m){a||(O(i.$$.fragment,m),a=!0)},o(m){N(i.$$.fragment,m),a=!1},d(m){m&&(v(e),v(o)),X(i),u=!1,De(f)}}}function Fa(n,e){let t,i,r,l;function s(a){e[12](a)}let o={group:e[2].name+"_relation",index:e[23],disabled:!e[7],$$slots:{default:[A_,({dragging:a,dragover:u})=>({24:a,25:u}),({dragging:a,dragover:u})=>(a?16777216:0)|(u?33554432:0)]},$$scope:{ctx:e}};return e[4]!==void 0&&(o.list=e[4]),i=new vr({props:o}),oe.push(()=>Ae(i,"list",s)),i.$on("sort",e[13]),{key:n,first:null,c(){t=ge(),$(i.$$.fragment),this.first=t},m(a,u){S(a,t,u),Q(i,a,u),l=!0},p(a,u){e=a;const f={};u&4&&(f.group=e[2].name+"_relation"),u&16&&(f.index=e[23]),u&128&&(f.disabled=!e[7]),u&587202576&&(f.$$scope={dirty:u,ctx:e}),!r&&u&16&&(r=!0,f.list=e[4],Fe(()=>r=!1)),i.$set(f)},i(a){l||(O(i.$$.fragment,a),l=!0)},o(a){N(i.$$.fragment,a),l=!1},d(a){a&&v(t),X(i,a)}}}function L_(n){let e,t,i,r,l,s=n[2].name+"",o,a,u,f,c,m,d=[],_=new Map,p,b,g,y,T,k,E=n[6].length&&Ia(n),F=we(n[4]);const L=R=>R[21].id;for(let R=0;R<F.length;R+=1){let P=Ea(n,F,R),W=L(P);_.set(W,d[R]=Fa(W,P))}let I=null;return F.length||(I=Na(n)),{c(){e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),a=q(),E&&E.c(),f=q(),c=w("div"),m=w("div");for(let R=0;R<d.length;R+=1)d[R].c();I&&I.c(),p=q(),b=w("div"),g=w("button"),g.innerHTML='<i class="ri-magic-line"></i> <span class="txt">Open picker</span>',h(t,"class",i=kn(A.getFieldTypeIcon(n[2].type))+" svelte-1ynw0pc"),h(l,"class","txt"),h(e,"for",u=n[20]),h(m,"class","relations-list svelte-1ynw0pc"),h(g,"type","button"),h(g,"class","btn btn-transparent btn-sm btn-block"),h(b,"class","list-item list-item-btn"),h(c,"class","list")},m(R,P){S(R,e,P),C(e,t),C(e,r),C(e,l),C(l,o),C(e,a),E&&E.m(e,null),S(R,f,P),S(R,c,P),C(c,m);for(let W=0;W<d.length;W+=1)d[W]&&d[W].m(m,null);I&&I.m(m,null),C(c,p),C(c,b),C(b,g),y=!0,T||(k=ee(g,"click",n[14]),T=!0)},p(R,P){(!y||P&4&&i!==(i=kn(A.getFieldTypeIcon(R[2].type))+" svelte-1ynw0pc"))&&h(t,"class",i),(!y||P&4)&&s!==(s=R[2].name+"")&&_e(o,s),R[6].length?E?E.p(R,P):(E=Ia(R),E.c(),E.m(e,null)):E&&(E.d(1),E=null),(!y||P&1048576&&u!==(u=R[20]))&&h(e,"for",u),P&50332597&&(F=we(R[4]),ue(),d=pt(d,P,L,1,R,F,_,m,Lt,Fa,null,Ea),fe(),!F.length&&I?I.p(R,P):F.length?I&&(I.d(1),I=null):(I=Na(R),I.c(),I.m(m,null)))},i(R){if(!y){for(let P=0;P<F.length;P+=1)O(d[P]);y=!0}},o(R){for(let P=0;P<d.length;P+=1)N(d[P]);y=!1},d(R){R&&(v(e),v(f),v(c)),E&&E.d();for(let P=0;P<d.length;P+=1)d[P].d();I&&I.d(),T=!1,k()}}}function F_(n){let e,t,i,r,l={class:"form-field form-field-list "+(n[2].required?"required":""),name:n[2].name,$$slots:{default:[L_,({uniqueId:o})=>({20:o}),({uniqueId:o})=>o?1048576:0]},$$scope:{ctx:n}};e=new xe({props:l}),n[15](e);let s={value:n[0],field:n[2]};return i=new N_({props:s}),n[16](i),i.$on("save",n[17]),{c(){$(e.$$.fragment),t=q(),$(i.$$.fragment)},m(o,a){Q(e,o,a),S(o,t,a),Q(i,o,a),r=!0},p(o,[a]){const u={};a&4&&(u.class="form-field form-field-list "+(o[2].required?"required":"")),a&4&&(u.name=o[2].name),a&537919735&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const f={};a&1&&(f.value=o[0]),a&4&&(f.field=o[2]),i.$set(f)},i(o){r||(O(e.$$.fragment,o),O(i.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),N(i.$$.fragment,o),r=!1},d(o){o&&v(t),n[15](null),X(e,o),n[16](null),X(i,o)}}}const Pa=100;function P_(n,e,t){let i,{field:r}=e,{value:l}=e,{picker:s}=e,o,a=[],u=!1,f,c=[];function m(){if(u)return!1;const L=A.toArray(l);return t(4,a=a.filter(I=>L.includes(I.id))),L.length!=a.length}async function d(){var P,W;const L=A.toArray(l);if(t(4,a=[]),t(6,c=[]),!((P=r==null?void 0:r.options)!=null&&P.collectionId)||!L.length){t(5,u=!1);return}t(5,u=!0);const I=L.slice(),R=[];for(;I.length>0;){const K=[];for(const U of I.splice(0,Pa))K.push(`id="${U}"`);R.push(Ne.collection((W=r==null?void 0:r.options)==null?void 0:W.collectionId).getFullList(Pa,{filter:K.join("||"),fields:"*:excerpt(200)",requestKey:null}))}try{let K=[];await Promise.all(R).then(U=>{K=K.concat(...U)});for(const U of L){const te=A.findByKey(K,"id",U);te?a.push(te):c.push(U)}t(4,a),p()}catch(K){Ne.error(K)}t(5,u=!1)}function _(L){A.removeByKey(a,"id",L.id),t(4,a),p()}function p(){var L;i?t(0,l=a.map(I=>I.id)):t(0,l=((L=a[0])==null?void 0:L.id)||"")}mu(()=>{clearTimeout(f)});const b=L=>_(L);function g(L){a=L,t(4,a)}const y=()=>{p()},T=()=>s==null?void 0:s.show();function k(L){oe[L?"unshift":"push"](()=>{o=L,t(3,o)})}function E(L){oe[L?"unshift":"push"](()=>{s=L,t(1,s)})}const F=L=>{var I;t(4,a=L.detail||[]),t(0,l=i?a.map(R=>R.id):((I=a[0])==null?void 0:I.id)||"")};return n.$$set=L=>{"field"in L&&t(2,r=L.field),"value"in L&&t(0,l=L.value),"picker"in L&&t(1,s=L.picker)},n.$$.update=()=>{var L;n.$$.dirty&4&&t(7,i=((L=r.options)==null?void 0:L.maxSelect)!=1),n.$$.dirty&9&&typeof l<"u"&&(o==null||o.changed()),n.$$.dirty&1041&&m()&&(t(5,u=!0),clearTimeout(f),t(10,f=setTimeout(d,0)))},[l,s,r,o,a,u,c,i,_,p,f,b,g,y,T,k,E,F]}class R_ extends ve{constructor(e){super(),ke(this,e,P_,F_,ye,{field:2,value:0,picker:1})}}function Ra(n){let e,t;return{c(){e=w("i"),h(e,"class",t="icon "+n[0].icon)},m(i,r){S(i,e,r)},p(i,r){r&1&&t!==(t="icon "+i[0].icon)&&h(e,"class",t)},d(i){i&&v(e)}}}function q_(n){let e,t,i=(n[0].label||n[0].name||n[0].title||n[0].id||n[0].value)+"",r,l=n[0].icon&&Ra(n);return{c(){l&&l.c(),e=q(),t=w("span"),r=re(i),h(t,"class","txt")},m(s,o){l&&l.m(s,o),S(s,e,o),S(s,t,o),C(t,r)},p(s,[o]){s[0].icon?l?l.p(s,o):(l=Ra(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&1&&i!==(i=(s[0].label||s[0].name||s[0].title||s[0].id||s[0].value)+"")&&_e(r,i)},i:G,o:G,d(s){s&&(v(e),v(t)),l&&l.d(s)}}}function j_(n,e,t){let{item:i={}}=e;return n.$$set=r=>{"item"in r&&t(0,i=r.item)},[i]}class qa extends ve{constructor(e){super(),ke(this,e,j_,q_,ye,{item:0})}}const V_=n=>({}),ja=n=>({});function W_(n){let e;const t=n[8].afterOptions,i=ut(t,n,n[12],ja);return{c(){i&&i.c()},m(r,l){i&&i.m(r,l),e=!0},p(r,l){i&&i.p&&(!e||l&4096)&&ct(i,t,r,r[12],e?ft(t,r[12],l,V_):dt(r[12]),ja)},i(r){e||(O(i,r),e=!0)},o(r){N(i,r),e=!1},d(r){i&&i.d(r)}}}function H_(n){let e,t,i;const r=[{items:n[1]},{multiple:n[2]},{labelComponent:n[3]},{optionComponent:n[4]},n[5]];function l(o){n[9](o)}let s={$$slots:{afterOptions:[W_]},$$scope:{ctx:n}};for(let o=0;o<r.length;o+=1)s=Ze(s,r[o]);return n[0]!==void 0&&(s.selected=n[0]),e=new Hf({props:s}),oe.push(()=>Ae(e,"selected",l)),e.$on("show",n[10]),e.$on("hide",n[11]),{c(){$(e.$$.fragment)},m(o,a){Q(e,o,a),i=!0},p(o,[a]){const u=a&62?Ht(r,[a&2&&{items:o[1]},a&4&&{multiple:o[2]},a&8&&{labelComponent:o[3]},a&16&&{optionComponent:o[4]},a&32&&$t(o[5])]):{};a&4096&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.selected=o[0],Fe(()=>t=!1)),e.$set(u)},i(o){i||(O(e.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),i=!1},d(o){X(e,o)}}}function U_(n,e,t){const i=["items","multiple","selected","labelComponent","optionComponent","selectionKey","keyOfSelected"];let r=ln(e,i),{$$slots:l={},$$scope:s}=e,{items:o=[]}=e,{multiple:a=!1}=e,{selected:u=a?[]:void 0}=e,{labelComponent:f=qa}=e,{optionComponent:c=qa}=e,{selectionKey:m="value"}=e,{keyOfSelected:d=a?[]:void 0}=e;function _(T){T=A.toArray(T,!0);let k=[];for(let E of T){const F=A.findByKey(o,m,E);F&&k.push(F)}T.length&&!k.length||t(0,u=a?k:k[0])}async function p(T){let k=A.toArray(T,!0).map(E=>E[m]);o.length&&t(6,d=a?k:k[0])}function b(T){u=T,t(0,u)}function g(T){St.call(this,n,T)}function y(T){St.call(this,n,T)}return n.$$set=T=>{e=Ze(Ze({},e),Ti(T)),t(5,r=ln(e,i)),"items"in T&&t(1,o=T.items),"multiple"in T&&t(2,a=T.multiple),"selected"in T&&t(0,u=T.selected),"labelComponent"in T&&t(3,f=T.labelComponent),"optionComponent"in T&&t(4,c=T.optionComponent),"selectionKey"in T&&t(7,m=T.selectionKey),"keyOfSelected"in T&&t(6,d=T.keyOfSelected),"$$scope"in T&&t(12,s=T.$$scope)},n.$$.update=()=>{n.$$.dirty&66&&o&&_(d),n.$$.dirty&1&&p(u)},[u,o,a,f,c,r,d,m,l,b,g,y,s]}class z_ extends ve{constructor(e){super(),ke(this,e,U_,H_,ye,{items:1,multiple:2,selected:0,labelComponent:3,optionComponent:4,selectionKey:7,keyOfSelected:6})}}function Va(n,e,t){const i=n.slice();i[41]=e[t];const r=i[19](i[41]);return i[42]=r,i}function Wa(n,e,t){const i=n.slice();return i[45]=e[t],i}function Ha(n,e,t){const i=n.slice();return i[48]=e[t],i}function Y_(n){let e,t,i=[],r=new Map,l,s,o,a,u,f,c,m,d,_,p,b=we(n[7]);const g=y=>y[48].id;for(let y=0;y<b.length;y+=1){let T=Ha(n,b,y),k=g(T);r.set(k,i[y]=Ua(k,T))}return a=new Es({props:{value:n[4],placeholder:"Record search term or filter...",autocompleteCollection:n[8]}}),a.$on("submit",n[30]),m=new Rf({props:{class:"files-list",vThreshold:100,$$slots:{default:[Q_]},$$scope:{ctx:n}}}),m.$on("vScrollEnd",n[32]),{c(){e=w("div"),t=w("aside");for(let y=0;y<i.length;y+=1)i[y].c();l=q(),s=w("div"),o=w("div"),$(a.$$.fragment),u=q(),f=w("button"),f.innerHTML='<div class="txt">New record</div>',c=q(),$(m.$$.fragment),h(t,"class","file-picker-sidebar"),h(f,"type","button"),h(f,"class","btn btn-pill btn-transparent btn-hint p-l-xs p-r-xs"),h(o,"class","flex m-b-base flex-gap-10"),h(s,"class","file-picker-content"),h(e,"class","file-picker")},m(y,T){S(y,e,T),C(e,t);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(t,null);C(e,l),C(e,s),C(s,o),Q(a,o,null),C(o,u),C(o,f),C(s,c),Q(m,s,null),d=!0,_||(p=ee(f,"click",n[31]),_=!0)},p(y,T){T[0]&384&&(b=we(y[7]),i=pt(i,T,g,1,y,b,r,t,as,Ua,null,Ha));const k={};T[0]&16&&(k.value=y[4]),T[0]&256&&(k.autocompleteCollection=y[8]),a.$set(k);const E={};T[0]&49264|T[1]&1048576&&(E.$$scope={dirty:T,ctx:y}),m.$set(E)},i(y){d||(O(a.$$.fragment,y),O(m.$$.fragment,y),d=!0)},o(y){N(a.$$.fragment,y),N(m.$$.fragment,y),d=!1},d(y){y&&v(e);for(let T=0;T<i.length;T+=1)i[T].d();X(a),X(m),_=!1,p()}}}function B_(n){let e;return{c(){e=w("h6"),e.innerHTML="You currently don&#39;t have any collection with <code>file</code> field.",h(e,"class","txt-center txt-hint")},m(t,i){S(t,e,i)},p:G,i:G,o:G,d(t){t&&v(e)}}}function Ua(n,e){let t,i=e[48].name+"",r,l,s,o;function a(){return e[29](e[48])}return{key:n,first:null,c(){var u;t=w("button"),r=re(i),l=q(),h(t,"type","button"),h(t,"class","sidebar-item"),J(t,"active",((u=e[8])==null?void 0:u.id)==e[48].id),this.first=t},m(u,f){S(u,t,f),C(t,r),C(t,l),s||(o=ee(t,"click",Xe(a)),s=!0)},p(u,f){var c;e=u,f[0]&128&&i!==(i=e[48].name+"")&&_e(r,i),f[0]&384&&J(t,"active",((c=e[8])==null?void 0:c.id)==e[48].id)},d(u){u&&v(t),s=!1,o()}}}function K_(n){var l;let e,t,i,r=((l=n[4])==null?void 0:l.length)&&za(n);return{c(){e=w("div"),t=w("span"),t.textContent="No records with images found.",i=q(),r&&r.c(),h(t,"class","txt txt-hint"),h(e,"class","inline-flex")},m(s,o){S(s,e,o),C(e,t),C(e,i),r&&r.m(e,null)},p(s,o){var a;(a=s[4])!=null&&a.length?r?r.p(s,o):(r=za(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&v(e),r&&r.d()}}}function Z_(n){let e=[],t=new Map,i,r=we(n[5]);const l=s=>s[41].id;for(let s=0;s<r.length;s+=1){let o=Va(n,r,s),a=l(o);t.set(a,e[s]=Ba(a,o))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();i=ge()},m(s,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,o);S(s,i,o)},p(s,o){o[0]&1605664&&(r=we(s[5]),e=pt(e,o,l,1,s,r,t,i.parentNode,as,Ba,i,Va))},d(s){s&&v(i);for(let o=0;o<e.length;o+=1)e[o].d(s)}}}function za(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<span class="txt">Clear filter</span>',h(e,"type","button"),h(e,"class","btn btn-hint btn-sm")},m(r,l){S(r,e,l),t||(i=ee(e,"click",Xe(n[17])),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function J_(n){let e;return{c(){e=w("i"),h(e,"class","ri-file-3-line")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function G_(n){let e,t,i;return{c(){e=w("img"),h(e,"loading","lazy"),sn(e.src,t=Ne.files.getUrl(n[41],n[45],{thumb:"100x100"}))||h(e,"src",t),h(e,"alt",i=n[45])},m(r,l){S(r,e,l)},p(r,l){l[0]&32&&!sn(e.src,t=Ne.files.getUrl(r[41],r[45],{thumb:"100x100"}))&&h(e,"src",t),l[0]&32&&i!==(i=r[45])&&h(e,"alt",i)},d(r){r&&v(e)}}}function Ya(n){let e,t,i,r,l,s;function o(f,c){return c[0]&32&&(t=null),t==null&&(t=!!A.hasImageExtension(f[45])),t?G_:J_}let a=o(n,[-1,-1]),u=a(n);return{c(){e=w("button"),u.c(),i=q(),h(e,"type","button"),h(e,"class","thumb handle"),J(e,"thumb-warning",n[15](n[41],n[45]))},m(f,c){S(f,e,c),u.m(e,null),C(e,i),l||(s=[We(r=Je.call(null,e,n[45]+`
(record: `+n[41].id+")")),ee(e,"click",Xe(function(){st(n[20](n[41],n[45]))&&n[20](n[41],n[45]).apply(this,arguments)}))],l=!0)},p(f,c){n=f,a===(a=o(n,c))&&u?u.p(n,c):(u.d(1),u=a(n),u&&(u.c(),u.m(e,i))),r&&st(r.update)&&c[0]&32&&r.update.call(null,n[45]+`
(record: `+n[41].id+")"),c[0]&557088&&J(e,"thumb-warning",n[15](n[41],n[45]))},d(f){f&&v(e),u.d(),l=!1,De(s)}}}function Ba(n,e){let t,i,r=we(e[42]),l=[];for(let s=0;s<r.length;s+=1)l[s]=Ya(Wa(e,r,s));return{key:n,first:null,c(){t=ge();for(let s=0;s<l.length;s+=1)l[s].c();i=ge(),this.first=t},m(s,o){S(s,t,o);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(s,o);S(s,i,o)},p(s,o){if(e=s,o[0]&1605664){r=we(e[42]);let a;for(a=0;a<r.length;a+=1){const u=Wa(e,r,a);l[a]?l[a].p(u,o):(l[a]=Ya(u),l[a].c(),l[a].m(i.parentNode,i))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},d(s){s&&(v(t),v(i)),cn(l,s)}}}function Ka(n){let e;return{c(){e=w("div"),e.innerHTML='<span class="loader loader-sm active"></span>',h(e,"class","block txt-center")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function Q_(n){let e,t;function i(o,a){if(o[14])return Z_;if(!o[6])return K_}let r=i(n),l=r&&r(n),s=n[6]&&Ka();return{c(){l&&l.c(),e=q(),s&&s.c(),t=ge()},m(o,a){l&&l.m(o,a),S(o,e,a),s&&s.m(o,a),S(o,t,a)},p(o,a){r===(r=i(o))&&l?l.p(o,a):(l&&l.d(1),l=r&&r(o),l&&(l.c(),l.m(e.parentNode,e))),o[6]?s||(s=Ka(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(o){o&&(v(e),v(t)),l&&l.d(o),s&&s.d(o)}}}function X_(n){let e,t,i,r;const l=[B_,Y_],s=[];function o(a,u){return a[7].length?1:0}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ge()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(ue(),N(s[f],1,1,()=>{s[f]=null}),fe(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&v(i),s[e].d(a)}}}function $_(n){let e,t;return{c(){e=w("h4"),t=re(n[0])},m(i,r){S(i,e,r),C(e,t)},p(i,r){r[0]&1&&_e(t,i[0])},d(i){i&&v(e)}}}function Za(n){let e,t;return e=new xe({props:{class:"form-field file-picker-size-select",$$slots:{default:[x_,({uniqueId:i})=>({23:i}),({uniqueId:i})=>[i?8388608:0]]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[0]&8395776|r[1]&1048576&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function x_(n){let e,t,i;function r(s){n[28](s)}let l={upside:!0,id:n[23],items:n[10],disabled:!n[12],selectPlaceholder:"Select size"};return n[11]!==void 0&&(l.keyOfSelected=n[11]),e=new z_({props:l}),oe.push(()=>Ae(e,"keyOfSelected",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o[0]&8388608&&(a.id=s[23]),o[0]&1024&&(a.items=s[10]),o[0]&4096&&(a.disabled=!s[12]),!t&&o[0]&2048&&(t=!0,a.keyOfSelected=s[11],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function e0(n){var _;let e,t,i,r=A.hasImageExtension((_=n[9])==null?void 0:_.name),l,s,o,a,u,f,c,m,d=r&&Za(n);return{c(){e=w("button"),t=w("span"),t.textContent="Cancel",i=q(),d&&d.c(),l=q(),s=w("button"),o=w("span"),a=re(n[1]),h(t,"class","txt"),h(e,"type","button"),h(e,"class","btn btn-transparent m-r-auto"),e.disabled=n[6],h(o,"class","txt"),h(s,"type","button"),h(s,"class","btn btn-expanded"),s.disabled=u=!n[12]},m(p,b){S(p,e,b),C(e,t),S(p,i,b),d&&d.m(p,b),S(p,l,b),S(p,s,b),C(s,o),C(o,a),f=!0,c||(m=[ee(e,"click",n[2]),ee(s,"click",n[21])],c=!0)},p(p,b){var g;(!f||b[0]&64)&&(e.disabled=p[6]),b[0]&512&&(r=A.hasImageExtension((g=p[9])==null?void 0:g.name)),r?d?(d.p(p,b),b[0]&512&&O(d,1)):(d=Za(p),d.c(),O(d,1),d.m(l.parentNode,l)):d&&(ue(),N(d,1,1,()=>{d=null}),fe()),(!f||b[0]&2)&&_e(a,p[1]),(!f||b[0]&4096&&u!==(u=!p[12]))&&(s.disabled=u)},i(p){f||(O(d),f=!0)},o(p){N(d),f=!1},d(p){p&&(v(e),v(i),v(l),v(s)),d&&d.d(p),c=!1,De(m)}}}function t0(n){let e,t;const i=[{popup:!0},{class:"file-picker-popup"},n[22]];let r={$$slots:{footer:[e0],header:[$_],default:[X_]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)r=Ze(r,i[l]);return e=new yr({props:r}),n[33](e),e.$on("hide",n[34]),e.$on("show",n[35]),{c(){$(e.$$.fragment)},m(l,s){Q(e,l,s),t=!0},p(l,s){const o=s[0]&4194304?Ht(i,[i[0],i[1],$t(l[22])]):{};s[0]&65523|s[1]&1048576&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){n[33](null),X(e,l)}}}const Ja=50;function n0(n,e,t){let i,r,l,s;const o=["title","submitText","fileTypes","show","hide"];let a=ln(e,o),u;Ke(n,dn,Se=>t(27,u=Se));const f=Ct(),c="file_picker_"+A.randomString(5);let{title:m="Select a file"}=e,{submitText:d="Insert"}=e,{fileTypes:_=["image","document","video","audio","file"]}=e,p,b,g="",y=[],T=1,k=0,E=!1,F=[],L=[],I=[],R={},P={},W="";function K(){return Y(!0),p==null?void 0:p.show()}function U(){return p==null?void 0:p.hide()}function te(){t(5,y=[]),t(9,P={}),t(11,W="")}function ne(){t(4,g="")}async function Y(Se=!1){if(R!=null&&R.id){t(6,E=!0),Se&&te();try{const Re=Se?1:T+1,He=A.getAllCollectionIdentifiers(R);let qe=A.normalizeSearchFilter(g,He)||"";qe&&(qe+=" && "),qe+="("+L.map(de=>`${de.name}:length>0`).join("||")+")";const rt=await Ne.collection(R.id).getList(Re,Ja,{filter:qe,sort:"-created",fields:"*:excerpt(100)",skipTotal:1,requestKey:c+"loadImagePicker"});t(5,y=A.filterDuplicatesByKey(y.concat(rt.items))),T=rt.page,t(26,k=rt.items.length),t(6,E=!1)}catch(Re){Re.isAbort||(Ne.error(Re),t(6,E=!1))}}}function z(){var Re,He;let Se=["100x100"];if((Re=P==null?void 0:P.record)!=null&&Re.id){for(const qe of L)if(A.toArray(P.record[qe.name]).includes(P.name)){Se=Se.concat(A.toArray((He=qe.options)==null?void 0:He.thumbs));break}}t(10,I=[{label:"Original size",value:""}]);for(const qe of Se)I.push({label:`${qe} thumb`,value:qe});W&&!Se.includes(W)&&t(11,W="")}function H(Se){let Re=[];for(const He of L){const qe=A.toArray(Se[He.name]);for(const rt of qe)_.includes(A.getFileType(rt))&&Re.push(rt)}return Re}function j(Se,Re){t(9,P={record:Se,name:Re})}function Me(){s&&(f("submit",Object.assign({size:W},P)),U())}function it(Se){W=Se,t(11,W)}const gt=Se=>{t(8,R=Se)},Mt=Se=>t(4,g=Se.detail),Tt=()=>b==null?void 0:b.show(),_t=()=>{l&&Y()};function Dt(Se){oe[Se?"unshift":"push"](()=>{p=Se,t(3,p)})}function et(Se){St.call(this,n,Se)}function lt(Se){St.call(this,n,Se)}return n.$$set=Se=>{e=Ze(Ze({},e),Ti(Se)),t(22,a=ln(e,o)),"title"in Se&&t(0,m=Se.title),"submitText"in Se&&t(1,d=Se.submitText),"fileTypes"in Se&&t(24,_=Se.fileTypes)},n.$$.update=()=>{var Se;n.$$.dirty[0]&134217728&&t(7,F=u.filter(Re=>Re.type!=="view"&&!!A.toArray(Re.schema).find(He=>{var qe,rt,de,Z,Te;return He.type==="file"&&!((qe=He.options)!=null&&qe.protected)&&(!((de=(rt=He.options)==null?void 0:rt.mimeTypes)!=null&&de.length)||!!((Te=(Z=He.options)==null?void 0:Z.mimeTypes)!=null&&Te.find(Ge=>Ge.startsWith("image/"))))}))),n.$$.dirty[0]&384&&!(R!=null&&R.id)&&F.length>0&&t(8,R=F[0]),n.$$.dirty[0]&256&&(L=(Se=R==null?void 0:R.schema)==null?void 0:Se.filter(Re=>{var He;return Re.type==="file"&&!((He=Re.options)!=null&&He.protected)})),n.$$.dirty[0]&256&&R!=null&&R.id&&(ne(),z()),n.$$.dirty[0]&512&&P!=null&&P.name&&z(),n.$$.dirty[0]&280&&typeof g<"u"&&R!=null&&R.id&&p!=null&&p.isActive()&&Y(!0),n.$$.dirty[0]&512&&t(15,i=(Re,He)=>{var qe;return(P==null?void 0:P.name)==He&&((qe=P==null?void 0:P.record)==null?void 0:qe.id)==Re.id}),n.$$.dirty[0]&32&&t(14,r=y.find(Re=>H(Re).length>0)),n.$$.dirty[0]&67108928&&t(13,l=!E&&k==Ja),n.$$.dirty[0]&576&&t(12,s=!E&&!!(P!=null&&P.name))},[m,d,U,p,g,y,E,F,R,P,I,W,s,l,r,i,b,ne,Y,H,j,Me,a,c,_,K,k,u,it,gt,Mt,Tt,_t,Dt,et,lt]}class i0 extends ve{constructor(e){super(),ke(this,e,n0,t0,ye,{title:0,submitText:1,fileTypes:24,show:25,hide:2},null,[-1,-1])}get show(){return this.$$.ctx[25]}get hide(){return this.$$.ctx[2]}}function r0(n){let e;return{c(){e=w("div"),h(e,"class","tinymce-wrapper")},m(t,i){S(t,e,i)},p:G,i:G,o:G,d(t){t&&v(e)}}}function s0(n){let e,t,i;function r(s){n[6](s)}let l={id:n[11],conf:n[5]};return n[0]!==void 0&&(l.value=n[0]),e=new qf({props:l}),oe.push(()=>Ae(e,"value",r)),e.$on("init",n[7]),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){const a={};o&2048&&(a.id=s[11]),o&32&&(a.conf=s[5]),!t&&o&1&&(t=!0,a.value=s[0],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function l0(n){let e,t,i,r,l,s=n[1].name+"",o,a,u,f,c,m,d;const _=[s0,r0],p=[];function b(g,y){return g[4]?0:1}return f=b(n),c=p[f]=_[f](n),{c(){e=w("label"),t=w("i"),r=q(),l=w("span"),o=re(s),u=q(),c.c(),m=ge(),h(t,"class",i=A.getFieldTypeIcon(n[1].type)),h(l,"class","txt"),h(e,"for",a=n[11])},m(g,y){S(g,e,y),C(e,t),C(e,r),C(e,l),C(l,o),S(g,u,y),p[f].m(g,y),S(g,m,y),d=!0},p(g,y){(!d||y&2&&i!==(i=A.getFieldTypeIcon(g[1].type)))&&h(t,"class",i),(!d||y&2)&&s!==(s=g[1].name+"")&&_e(o,s),(!d||y&2048&&a!==(a=g[11]))&&h(e,"for",a);let T=f;f=b(g),f===T?p[f].p(g,y):(ue(),N(p[T],1,1,()=>{p[T]=null}),fe(),c=p[f],c?c.p(g,y):(c=p[f]=_[f](g),c.c()),O(c,1),c.m(m.parentNode,m))},i(g){d||(O(c),d=!0)},o(g){N(c),d=!1},d(g){g&&(v(e),v(u),v(m)),p[f].d(g)}}}function o0(n){let e,t,i,r;e=new xe({props:{class:"form-field form-field-editor "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[l0,({uniqueId:s})=>({11:s}),({uniqueId:s})=>s?2048:0]},$$scope:{ctx:n}}});let l={title:"Select an image",fileTypes:["image"]};return i=new i0({props:l}),n[8](i),i.$on("submit",n[9]),{c(){$(e.$$.fragment),t=q(),$(i.$$.fragment)},m(s,o){Q(e,s,o),S(s,t,o),Q(i,s,o),r=!0},p(s,[o]){const a={};o&2&&(a.class="form-field form-field-editor "+(s[1].required?"required":"")),o&2&&(a.name=s[1].name),o&6207&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const u={};i.$set(u)},i(s){r||(O(e.$$.fragment,s),O(i.$$.fragment,s),r=!0)},o(s){N(e.$$.fragment,s),N(i.$$.fragment,s),r=!1},d(s){s&&v(t),X(e,s),n[8](null),X(i,s)}}}function a0(n,e,t){let i,{field:r}=e,{value:l=""}=e,s,o,a=!1,u=null;Ft(async()=>(typeof l>"u"&&t(0,l=""),u=setTimeout(()=>{t(4,a=!0)},100),()=>{clearTimeout(u)}));function f(_){l=_,t(0,l)}const c=_=>{t(3,o=_.detail.editor),o.on("collections_file_picker",()=>{s==null||s.show()})};function m(_){oe[_?"unshift":"push"](()=>{s=_,t(2,s)})}const d=_=>{o==null||o.execCommand("InsertImage",!1,Ne.files.getUrl(_.detail.record,_.detail.name,{thumb:_.detail.size}))};return n.$$set=_=>{"field"in _&&t(1,r=_.field),"value"in _&&t(0,l=_.value)},n.$$.update=()=>{var _;n.$$.dirty&2&&t(5,i=Object.assign(A.defaultEditorOptions(),{convert_urls:(_=r.options)==null?void 0:_.convertUrls,relative_urls:!1})),n.$$.dirty&1&&typeof l>"u"&&t(0,l="")},[l,r,s,o,a,i,f,c,m,d]}class u0 extends ve{constructor(e){super(),ke(this,e,a0,o0,ye,{field:1,value:0})}}function Ga(n,e,t){const i=n.slice();return i[69]=e[t],i[70]=e,i[71]=t,i}function f0(n){let e,t,i,r;return e=new Pf({}),i=new Ln({props:{class:"flex-content",$$slots:{default:[O0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment),t=q(),$(i.$$.fragment)},m(l,s){Q(e,l,s),S(l,t,s),Q(i,l,s),r=!0},p(l,s){const o={};s[0]&32510|s[2]&1024&&(o.$$scope={dirty:s,ctx:l}),i.$set(o)},i(l){r||(O(e.$$.fragment,l),O(i.$$.fragment,l),r=!0)},o(l){N(e.$$.fragment,l),N(i.$$.fragment,l),r=!1},d(l){l&&v(t),X(e,l),X(i,l)}}}function c0(n){let e,t;return e=new Ln({props:{center:!0,$$slots:{default:[E0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[2]&1024&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function d0(n){let e,t;return e=new Ln({props:{center:!0,$$slots:{default:[M0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,r){const l={};r[2]&1024&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function m0(n){let e,t,i,r,l,s,o,a,u,f,c,m,d,_,p;s=new Ni({props:{class:"dropdown dropdown-right dropdown-nowrap",$$slots:{default:[p0]},$$scope:{ctx:n}}});let b=n[7].updateRule!==null&&Xa(n);return{c(){e=w("div"),t=q(),i=w("div"),r=w("i"),l=q(),$(s.$$.fragment),o=q(),a=w("button"),u=w("span"),u.textContent="Cancel",c=q(),b&&b.c(),m=ge(),h(e,"class","flex-fill"),h(r,"class","ri-more-line"),h(r,"aria-hidden","true"),h(i,"tabindex","0"),h(i,"role","button"),h(i,"aria-label","More record options"),h(i,"class","btn btn-sm btn-circle btn-transparent flex-gap-0"),h(u,"class","txt"),h(a,"type","button"),h(a,"class","btn btn-transparent"),a.disabled=f=n[10]||n[5]},m(g,y){S(g,e,y),S(g,t,y),S(g,i,y),C(i,r),C(i,l),Q(s,i,null),S(g,o,y),S(g,a,y),C(a,u),S(g,c,y),b&&b.m(g,y),S(g,m,y),d=!0,_||(p=ee(a,"click",n[33]),_=!0)},p(g,y){const T={};y[0]&128|y[2]&1024&&(T.$$scope={dirty:y,ctx:g}),s.$set(T),(!d||y[0]&1056&&f!==(f=g[10]||g[5]))&&(a.disabled=f),g[7].updateRule!==null?b?b.p(g,y):(b=Xa(g),b.c(),b.m(m.parentNode,m)):b&&(b.d(1),b=null)},i(g){d||(O(s.$$.fragment,g),d=!0)},o(g){N(s.$$.fragment,g),d=!1},d(g){g&&(v(e),v(t),v(i),v(o),v(a),v(c),v(m)),X(s),b&&b.d(g),_=!1,p()}}}function h0(n){let e,t,i;return{c(){e=w("span"),t=q(),i=w("h4"),i.textContent="Loading...",h(e,"class","loader loader-sm"),h(i,"class","panel-title txt-hint svelte-qc5ngu")},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},p:G,i:G,o:G,d(r){r&&(v(e),v(t),v(i))}}}function Qa(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<i class="ri-delete-bin-7-line"></i> <span class="txt">Delete</span>',h(e,"type","button"),h(e,"class","dropdown-item txt-danger closable"),h(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=ee(e,"click",Xt(Xe(n[32]))),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function p0(n){let e,t,i,r,l,s=n[7].deleteRule&&Qa(n);return{c(){e=w("button"),e.innerHTML='<i class="ri-file-copy-line"></i> <span class="txt">Duplicate</span>',t=q(),s&&s.c(),i=ge(),h(e,"type","button"),h(e,"class","dropdown-item closable"),h(e,"role","menuitem")},m(o,a){S(o,e,a),S(o,t,a),s&&s.m(o,a),S(o,i,a),r||(l=ee(e,"click",n[31]),r=!0)},p(o,a){o[7].deleteRule?s?s.p(o,a):(s=Qa(o),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(o){o&&(v(e),v(t),v(i)),s&&s.d(o),r=!1,l()}}}function Xa(n){let e,t,i=n[4]?"Create":"Save changes",r,l;return{c(){e=w("button"),t=w("span"),r=re(i),h(t,"class","txt"),h(e,"type","submit"),h(e,"form",n[16]),h(e,"class","btn btn-expanded"),e.disabled=l=!n[13]||n[10],J(e,"btn-loading",n[10]||n[5])},m(s,o){S(s,e,o),C(e,t),C(t,r)},p(s,o){o[0]&16&&i!==(i=s[4]?"Create":"Save changes")&&_e(r,i),o[0]&9216&&l!==(l=!s[13]||s[10])&&(e.disabled=l),o[0]&1056&&J(e,"btn-loading",s[10]||s[5])},d(s){s&&v(e)}}}function $a(n){let e,t,i,r,l,s,o,a,u,f,c,m,d,_,p;return{c(){e=w("div"),t=w("div"),i=w("div"),i.innerHTML='<i class="ri-information-line"></i>',r=q(),l=w("div"),s=re(`The record has previous unsaved changes.
                                `),o=w("button"),o.textContent="Restore draft",a=q(),u=w("button"),u.innerHTML='<i class="ri-close-line"></i>',f=q(),c=w("div"),h(i,"class","icon"),h(o,"type","button"),h(o,"class","btn btn-sm btn-secondary"),h(l,"class","flex flex-gap-xs"),h(u,"type","button"),h(u,"class","close"),h(u,"aria-label","Discard draft"),h(t,"class","alert alert-info m-0"),h(c,"class","clearfix p-b-base"),h(e,"class","block")},m(b,g){S(b,e,g),C(e,t),C(t,i),C(t,r),C(t,l),C(l,s),C(l,o),C(t,a),C(t,u),C(e,f),C(e,c),d=!0,_||(p=[ee(o,"click",n[34]),We(Je.call(null,u,"Discard draft")),ee(u,"click",Xe(n[35]))],_=!0)},p:G,i(b){d||(m&&m.end(1),d=!0)},o(b){b&&(m=os(e,Xn,{duration:150})),d=!1},d(b){b&&v(e),b&&m&&m.end(),_=!1,De(p)}}}function xa(n){var u,f;let e,t,i,r,l;function s(c){n[36](c)}let o={isNew:n[4],$activeCollection:n[7]};n[1]!==void 0&&(o.record=n[1]),e=new Xg({props:o}),oe.push(()=>Ae(e,"record",s));let a=((f=(u=n[7])==null?void 0:u.schema)==null?void 0:f.length)&&eu();return{c(){$(e.$$.fragment),i=q(),a&&a.c(),r=ge()},m(c,m){Q(e,c,m),S(c,i,m),a&&a.m(c,m),S(c,r,m),l=!0},p(c,m){var _,p;const d={};m[0]&16&&(d.isNew=c[4]),m[0]&128&&(d.$activeCollection=c[7]),!t&&m[0]&2&&(t=!0,d.record=c[1],Fe(()=>t=!1)),e.$set(d),(p=(_=c[7])==null?void 0:_.schema)!=null&&p.length?a||(a=eu(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(c){l||(O(e.$$.fragment,c),l=!0)},o(c){N(e.$$.fragment,c),l=!1},d(c){c&&(v(i),v(r)),X(e,c),a&&a.d(c)}}}function eu(n){let e;return{c(){e=w("hr")},m(t,i){S(t,e,i)},d(t){t&&v(e)}}}function g0(n){let e,t,i;function r(s){n[49](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new R_({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function _0(n){let e,t,i,r,l;function s(f){n[46](f,n[69])}function o(f){n[47](f,n[69])}function a(f){n[48](f,n[69])}let u={field:n[69],record:n[1]};return n[1][n[69].name]!==void 0&&(u.value=n[1][n[69].name]),n[2][n[69].name]!==void 0&&(u.uploadedFiles=n[2][n[69].name]),n[3][n[69].name]!==void 0&&(u.deletedFileNames=n[3][n[69].name]),e=new y_({props:u}),oe.push(()=>Ae(e,"value",s)),oe.push(()=>Ae(e,"uploadedFiles",o)),oe.push(()=>Ae(e,"deletedFileNames",a)),{c(){$(e.$$.fragment)},m(f,c){Q(e,f,c),l=!0},p(f,c){n=f;const m={};c[0]&128&&(m.field=n[69]),c[0]&2&&(m.record=n[1]),!t&&c[0]&130&&(t=!0,m.value=n[1][n[69].name],Fe(()=>t=!1)),!i&&c[0]&132&&(i=!0,m.uploadedFiles=n[2][n[69].name],Fe(()=>i=!1)),!r&&c[0]&136&&(r=!0,m.deletedFileNames=n[3][n[69].name],Fe(()=>r=!1)),e.$set(m)},i(f){l||(O(e.$$.fragment,f),l=!0)},o(f){N(e.$$.fragment,f),l=!1},d(f){X(e,f)}}}function b0(n){let e,t,i;function r(s){n[45](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new i_({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function y0(n){let e,t,i;function r(s){n[44](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new G1({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function w0(n){let e,t,i;function r(s){n[43](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new P1({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function k0(n){let e,t,i;function r(s){n[42](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new u0({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function v0(n){let e,t,i;function r(s){n[41](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new w1({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function S0(n){let e,t,i;function r(s){n[40](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new g1({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function C0(n){let e,t,i;function r(s){n[39](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new d1({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function T0(n){let e,t,i;function r(s){n[38](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new a1({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function D0(n){let e,t,i;function r(s){n[37](s,n[69])}let l={field:n[69]};return n[1][n[69].name]!==void 0&&(l.value=n[1][n[69].name]),e=new r1({props:l}),oe.push(()=>Ae(e,"value",r)),{c(){$(e.$$.fragment)},m(s,o){Q(e,s,o),i=!0},p(s,o){n=s;const a={};o[0]&128&&(a.field=n[69]),!t&&o[0]&130&&(t=!0,a.value=n[1][n[69].name],Fe(()=>t=!1)),e.$set(a)},i(s){i||(O(e.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),i=!1},d(s){X(e,s)}}}function tu(n,e){let t,i,r,l,s;const o=[D0,T0,C0,S0,v0,k0,w0,y0,b0,_0,g0],a=[];function u(f,c){return f[69].type==="text"?0:f[69].type==="number"?1:f[69].type==="bool"?2:f[69].type==="email"?3:f[69].type==="url"?4:f[69].type==="editor"?5:f[69].type==="date"?6:f[69].type==="select"?7:f[69].type==="json"?8:f[69].type==="file"?9:f[69].type==="relation"?10:-1}return~(i=u(e))&&(r=a[i]=o[i](e)),{key:n,first:null,c(){t=ge(),r&&r.c(),l=ge(),this.first=t},m(f,c){S(f,t,c),~i&&a[i].m(f,c),S(f,l,c),s=!0},p(f,c){e=f;let m=i;i=u(e),i===m?~i&&a[i].p(e,c):(r&&(ue(),N(a[m],1,1,()=>{a[m]=null}),fe()),~i?(r=a[i],r?r.p(e,c):(r=a[i]=o[i](e),r.c()),O(r,1),r.m(l.parentNode,l)):r=null)},i(f){s||(O(r),s=!0)},o(f){N(r),s=!1},d(f){f&&(v(t),v(l)),~i&&a[i].d(f)}}}function O0(n){var Y;let e,t,i,r,l,s=A.replacePcmsPrefix(n[7].name)+"",o,a,u,f,c,m,d,_,p,b,g,y,T,k=[],E=new Map,F,L,I;const R=[h0,m0],P=[];function W(z,H){return z[5]?0:z[4]?-1:1}~(d=W(n))&&(_=P[d]=R[d](n));let K=!n[6]&&n[9]&&!n[5]&&$a(n),U=n[12]&&xa(n),te=we(((Y=n[7])==null?void 0:Y.schema)||[]);const ne=z=>z[69].name;for(let z=0;z<te.length;z+=1){let H=Ga(n,te,z),j=ne(H);E.set(j,k[z]=tu(j,H))}return{c(){e=w("header"),t=w("nav"),i=w("div"),i.textContent="Collections",r=q(),l=w("a"),o=re(s),u=q(),f=w("div"),c=re(n[14]),m=q(),_&&_.c(),p=q(),b=w("div"),g=w("form"),K&&K.c(),y=q(),U&&U.c(),T=q();for(let z=0;z<k.length;z+=1)k[z].c();h(i,"class","breadcrumb-item"),h(l,"href",a="#/collections?collectionId="+n[7].id),h(l,"class","breadcrumb-item"),h(f,"class","breadcrumb-item"),h(t,"class","breadcrumbs"),h(e,"class","page-header"),h(g,"id",n[16]),h(g,"class","tab-item"),J(g,"no-pointer-events",n[5]),J(g,"active",n[11]===ar),h(b,"class","tabs-content no-animations")},m(z,H){S(z,e,H),C(e,t),C(t,i),C(t,r),C(t,l),C(l,o),C(t,u),C(t,f),C(f,c),C(e,m),~d&&P[d].m(e,null),S(z,p,H),S(z,b,H),C(b,g),K&&K.m(g,null),C(g,y),U&&U.m(g,null),C(g,T);for(let j=0;j<k.length;j+=1)k[j]&&k[j].m(g,null);F=!0,L||(I=[ee(g,"submit",Xe(n[19])),ee(g,"keydown",n[22])],L=!0)},p(z,H){var Me;(!F||H[0]&128)&&s!==(s=A.replacePcmsPrefix(z[7].name)+"")&&_e(o,s),(!F||H[0]&128&&a!==(a="#/collections?collectionId="+z[7].id))&&h(l,"href",a),(!F||H[0]&16384)&&_e(c,z[14]);let j=d;d=W(z),d===j?~d&&P[d].p(z,H):(_&&(ue(),N(P[j],1,1,()=>{P[j]=null}),fe()),~d?(_=P[d],_?_.p(z,H):(_=P[d]=R[d](z),_.c()),O(_,1),_.m(e,null)):_=null),!z[6]&&z[9]&&!z[5]?K?(K.p(z,H),H[0]&608&&O(K,1)):(K=$a(z),K.c(),O(K,1),K.m(g,y)):K&&(ue(),N(K,1,1,()=>{K=null}),fe()),z[12]?U?(U.p(z,H),H[0]&4096&&O(U,1)):(U=xa(z),U.c(),O(U,1),U.m(g,T)):U&&(ue(),N(U,1,1,()=>{U=null}),fe()),H[0]&142&&(te=we(((Me=z[7])==null?void 0:Me.schema)||[]),ue(),k=pt(k,H,ne,1,z,te,E,g,Lt,tu,null,Ga),fe()),(!F||H[0]&32)&&J(g,"no-pointer-events",z[5]),(!F||H[0]&2048)&&J(g,"active",z[11]===ar)},i(z){if(!F){O(_),O(K),O(U);for(let H=0;H<te.length;H+=1)O(k[H]);F=!0}},o(z){N(_),N(K),N(U);for(let H=0;H<k.length;H+=1)N(k[H]);F=!1},d(z){z&&(v(e),v(p),v(b)),~d&&P[d].d(),K&&K.d(),U&&U.d();for(let H=0;H<k.length;H+=1)k[H].d();L=!1,De(I)}}}function E0(n){let e;return{c(){e=w("p"),e.textContent="no collections"},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function M0(n){let e;return{c(){e=w("div"),e.innerHTML='<span class="loader loader-lg"></span> <h1>Loading collections...</h1>',h(e,"class","placeholder-section m-b-base")},m(t,i){S(t,e,i)},p:G,d(t){t&&v(e)}}}function I0(n){let e,t,i,r;const l=[d0,c0,f0],s=[];function o(a,u){return a[8]&&!a[15].length?0:a[15].length?2:1}return e=o(n),t=s[e]=l[e](n),{c(){t.c(),i=ge()},m(a,u){s[e].m(a,u),S(a,i,u),r=!0},p(a,u){let f=e;e=o(a),e===f?s[e].p(a,u):(ue(),N(s[f],1,1,()=>{s[f]=null}),fe(),t=s[e],t?t.p(a,u):(t=s[e]=l[e](a),t.c()),O(t,1),t.m(i.parentNode,i))},i(a){r||(O(t),r=!0)},o(a){N(t),r=!1},d(a){a&&v(i),s[e].d(a)}}}const ar="form";function N0(n,e,t){let i,r,l,s,o,a,u,f,c,m;Ke(n,an,x=>t(7,u=x)),Ke(n,vi,x=>t(8,f=x)),Ke(n,us,x=>t(52,c=x)),Ke(n,dn,x=>t(15,m=x));const d=Ct(),_="record_"+A.randomString(5);let{params:p}=e;Cs(p.collectionId);let b=new URLSearchParams(c),g,y={},T={},k=null,E=!1,F=!1,L={},I={},R=JSON.stringify(y),P=R,W=ar,K=!0,U=!0,te=u;function ne(x){return Me(x),F=!0,t(11,W=ar),g==null?void 0:g.show()}function Y(){if(o&&F)return hi("You have unsaved changes. Do you really want to close this screen?",()=>{z()}),!1;pi({}),et(),er(`#/collections?collectionId=${u==null?void 0:u.id}`)}function z(){F=!1,Y()}function H(){t(28,te=u)}async function j(x){if(x&&typeof x=="string"){try{return await Ne.collection(u.id).getOne(x)}catch(ae){ae.isAbort||(z(),console.warn("resolveModel:",ae),vs(`Unable to load record with id "${x}"`))}return null}return x}async function Me(x){t(5,U=!0),pi({}),t(2,L={}),t(3,I={}),t(25,y=typeof x=="string"?{id:x,collectionId:u==null?void 0:u.id,collectionName:u==null?void 0:u.name}:x||{}),t(1,T=structuredClone(y)),t(25,y=await j(x)||{}),t(1,T=structuredClone(y)),await rn(),t(9,k=Mt()),!k||Dt(T,k)?t(9,k=null):(delete k.password,delete k.passwordConfirm),t(26,R=JSON.stringify(T)),t(5,U=!1)}async function it(x){var be,bt;pi({}),t(25,y=x||{}),t(2,L={}),t(3,I={});const ae=((bt=(be=u==null?void 0:u.schema)==null?void 0:be.filter(he=>he.type!="file"))==null?void 0:bt.map(he=>he.name))||[];for(let he in x)ae.includes(he)||t(1,T[he]=x[he],T);await rn(),t(26,R=JSON.stringify(T)),et()}function gt(){return"record_draft_"+((u==null?void 0:u.id)||"")+"_"+((y==null?void 0:y.id)||"")}function Mt(x){try{const ae=window.localStorage.getItem(gt());if(ae)return JSON.parse(ae)}catch{}return x}function Tt(x){try{window.localStorage.setItem(gt(),x)}catch(ae){console.warn("updateDraft failure:",ae),window.localStorage.removeItem(gt())}}function _t(){k&&(t(1,T=k),t(9,k=null))}function Dt(x,ae){var Ue;const be=structuredClone(x||{}),bt=structuredClone(ae||{}),he=(Ue=u==null?void 0:u.schema)==null?void 0:Ue.filter(wt=>wt.type==="file");for(let wt of he)delete be[wt.name],delete bt[wt.name];const yt=["expand","password","passwordConfirm"];for(let wt of yt)delete be[wt],delete bt[wt];return JSON.stringify(be)==JSON.stringify(bt)}function et(){t(9,k=null),window.localStorage.removeItem(gt())}async function lt(x=!0){if(!(E||!a||!(u!=null&&u.id))){t(10,E=!0);try{const ae=Re();let be;K?be=await Ne.collection(u.id).create(ae):be=await Ne.collection(u.id).update(T.id,ae),$r(K?"Successfully created record.":"Successfully updated record."),et(),x?z():it(be),Y()}catch(ae){Ne.error(ae)}t(10,E=!1)}}function Se(){y!=null&&y.id&&hi("Do you really want to delete the selected record?",()=>Ne.collection(y.collectionId).delete(y.id).then(()=>{Y(),$r("Successfully deleted record."),d("delete",y)}).catch(x=>{Ne.error(x)}))}function Re(){const x=structuredClone(T||{}),ae=new FormData,be={id:x.id},bt={};for(const he of(u==null?void 0:u.schema)||[])be[he.name]=!0,he.type=="json"&&(bt[he.name]=!0);i&&(be.username=!0,be.email=!0,be.emailVisibility=!0,be.password=!0,be.passwordConfirm=!0,be.verified=!0);for(const he in x)if(be[he]){if(typeof x[he]>"u"&&(x[he]=null),bt[he]&&x[he]!=="")try{JSON.parse(x[he])}catch(yt){const Ue={};throw Ue[he]={code:"invalid_json",message:yt.toString()},new At({status:400,response:{data:Ue}})}A.addValueToFormData(ae,he,x[he])}for(const he in L){const yt=A.toArray(L[he]);for(const Ue of yt)ae.append(he,Ue)}for(const he in I){const yt=A.toArray(I[he]);for(const Ue of yt)ae.append(he+"."+Ue,"")}return ae}function He(){o?hi("You have unsaved changes. Do you really want to discard them?",()=>{qe()}):qe()}async function qe(){let x=y?structuredClone(y):null;if(x){x.id="",x.created="",x.updated="";const ae=(u==null?void 0:u.schema)||[];for(const be of ae)be.type==="file"&&delete x[be.name]}et(),ne(x),await rn(),t(26,R="")}function rt(x){(x.ctrlKey||x.metaKey)&&x.code=="KeyS"&&(x.preventDefault(),x.stopPropagation(),lt(!1))}const de=()=>He(),Z=()=>Se(),Te=()=>Y(),Ge=()=>_t(),ot=()=>et();function Pt(x){T=x,t(1,T)}function ri(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function si(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function Fn(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function vn(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function Pn(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function mn(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function li(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function le(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function at(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function hn(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}function un(x,ae){n.$$.not_equal(L[ae.name],x)&&(L[ae.name]=x,t(2,L))}function Rn(x,ae){n.$$.not_equal(I[ae.name],x)&&(I[ae.name]=x,t(3,I))}function qn(x,ae){n.$$.not_equal(T[ae.name],x)&&(T[ae.name]=x,t(1,T))}return n.$$set=x=>{"params"in x&&t(23,p=x.params)},n.$$.update=()=>{var x,ae;n.$$.dirty[0]&384&&!f&&u.id&&(Me(b.get("recordId")),F=!0),n.$$.dirty[0]&128&&t(12,i=(u==null?void 0:u.type)==="auth"),n.$$.dirty[0]&128&&(x=u==null?void 0:u.schema)!=null&&x.find(be=>be.type==="editor"),n.$$.dirty[0]&128&&t(30,r=(ae=u==null?void 0:u.schema)==null?void 0:ae.find(be=>be.type==="text")),n.$$.dirty[0]&1073741826&&t(14,l=r?T[r.name]:"record"),n.$$.dirty[0]&12&&t(29,s=A.hasNonEmptyProps(L)||A.hasNonEmptyProps(I)),n.$$.dirty[0]&2&&t(27,P=JSON.stringify(T)),n.$$.dirty[0]&738197504&&t(6,o=s||R!=P),n.$$.dirty[0]&33554432&&t(4,K=!y||!y.id),n.$$.dirty[0]&112&&t(13,a=!U&&(K||o)),n.$$.dirty[0]&134217760&&(U||Tt(P)),n.$$.dirty[0]&268435584&&u&&(te==null?void 0:te.id)!=(u==null?void 0:u.id)&&H()},[Y,T,L,I,K,U,o,u,f,k,E,W,i,a,l,m,_,_t,et,lt,Se,He,rt,p,ne,y,R,P,te,s,r,de,Z,Te,Ge,ot,Pt,ri,si,Fn,vn,Pn,mn,li,le,at,hn,un,Rn,qn]}class A0 extends ve{constructor(e){super(),ke(this,e,N0,I0,ye,{params:23,show:24,hide:0},null,[-1,-1,-1])}get show(){return this.$$.ctx[24]}get hide(){return this.$$.ctx[0]}}function nu(n){let e,t,i;return{c(){e=w("div"),e.innerHTML='<figure class="logo"><img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/> <span class="txt">Pocket<strong>CMS</strong></span></figure>',t=q(),i=w("div"),h(e,"class","block txt-center m-b-lg"),h(i,"class","clearfix")},m(r,l){S(r,e,l),S(r,t,l),S(r,i,l)},d(r){r&&(v(e),v(t),v(i))}}}function L0(n){let e,t,i,r=!n[0]&&nu();const l=n[1].default,s=ut(l,n,n[2],null);return{c(){e=w("div"),r&&r.c(),t=q(),s&&s.c(),h(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(o,a){S(o,e,a),r&&r.m(e,null),C(e,t),s&&s.m(e,null),i=!0},p(o,a){o[0]?r&&(r.d(1),r=null):r||(r=nu(),r.c(),r.m(e,t)),s&&s.p&&(!i||a&4)&&ct(s,l,o,o[2],i?ft(l,o[2],a,null):dt(o[2]),null)},i(o){i||(O(s,o),i=!0)},o(o){N(s,o),i=!1},d(o){o&&v(e),r&&r.d(),s&&s.d(o)}}}function F0(n){let e,t;return e=new Ln({props:{class:"full-page",center:!0,$$slots:{default:[L0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&5&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function P0(n,e,t){let{$$slots:i={},$$scope:r}=e,{nobranding:l=!1}=e;return n.$$set=s=>{"nobranding"in s&&t(0,l=s.nobranding),"$$scope"in s&&t(2,r=s.$$scope)},[l,i,r]}class R0 extends ve{constructor(e){super(),ke(this,e,P0,F0,ye,{nobranding:0})}}function q0(n){let e,t,i,r,l,s,o,a;return{c(){e=w("label"),t=re("Email"),r=q(),l=w("input"),h(e,"for",i=n[8]),h(l,"type","email"),h(l,"id",s=n[8]),l.required=!0,l.autofocus=!0},m(u,f){S(u,e,f),C(e,t),S(u,r,f),S(u,l,f),Be(l,n[0]),l.focus(),o||(a=ee(l,"input",n[4]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&h(e,"for",i),f&256&&s!==(s=u[8])&&h(l,"id",s),f&1&&l.value!==u[0]&&Be(l,u[0])},d(u){u&&(v(e),v(r),v(l)),o=!1,a()}}}function j0(n){let e,t,i,r,l,s,o,a;return{c(){e=w("label"),t=re("Password"),r=q(),l=w("input"),h(e,"for",i=n[8]),h(l,"type","password"),h(l,"id",s=n[8]),l.required=!0},m(u,f){S(u,e,f),C(e,t),S(u,r,f),S(u,l,f),Be(l,n[1]),o||(a=ee(l,"input",n[5]),o=!0)},p(u,f){f&256&&i!==(i=u[8])&&h(e,"for",i),f&256&&s!==(s=u[8])&&h(l,"id",s),f&2&&l.value!==u[1]&&Be(l,u[1])},d(u){u&&(v(e),v(r),v(l)),o=!1,a()}}}function V0(n){let e,t,i,r,l,s,o,a,u,f,c;return r=new xe({props:{class:"form-field required",name:"identity",$$slots:{default:[q0,({uniqueId:m})=>({8:m}),({uniqueId:m})=>m?256:0]},$$scope:{ctx:n}}}),s=new xe({props:{class:"form-field required",name:"password",$$slots:{default:[j0,({uniqueId:m})=>({8:m}),({uniqueId:m})=>m?256:0]},$$scope:{ctx:n}}}),{c(){e=w("form"),t=w("div"),t.innerHTML="<h4>Admin sign in</h4>",i=q(),$(r.$$.fragment),l=q(),$(s.$$.fragment),o=q(),a=w("button"),a.innerHTML='<span class="txt">Login</span> <i class="ri-arrow-right-line"></i>',h(t,"class","content txt-center m-b-base"),h(a,"type","submit"),h(a,"class","btn btn-lg btn-block btn-next"),J(a,"btn-disabled",n[2]),J(a,"btn-loading",n[2]),h(e,"class","block")},m(m,d){S(m,e,d),C(e,t),C(e,i),Q(r,e,null),C(e,l),Q(s,e,null),C(e,o),C(e,a),u=!0,f||(c=ee(e,"submit",Xe(n[3])),f=!0)},p(m,d){const _={};d&769&&(_.$$scope={dirty:d,ctx:m}),r.$set(_);const p={};d&770&&(p.$$scope={dirty:d,ctx:m}),s.$set(p),(!u||d&4)&&J(a,"btn-disabled",m[2]),(!u||d&4)&&J(a,"btn-loading",m[2])},i(m){u||(O(r.$$.fragment,m),O(s.$$.fragment,m),u=!0)},o(m){N(r.$$.fragment,m),N(s.$$.fragment,m),u=!1},d(m){m&&v(e),X(r),X(s),f=!1,c()}}}function W0(n){let e,t;return e=new R0({props:{$$slots:{default:[V0]},$$scope:{ctx:n}}}),{c(){$(e.$$.fragment)},m(i,r){Q(e,i,r),t=!0},p(i,[r]){const l={};r&519&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(O(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){X(e,i)}}}function H0(n,e,t){let i;Ke(n,us,c=>t(6,i=c));const r=new URLSearchParams(i);let l=r.get("demoEmail")||"",s=r.get("demoPassword")||"",o=!1;function a(){if(!o)return t(2,o=!0),Ne.collection("pcms__users").authWithPassword(l,s).then(()=>{$m(),Di("/")}).catch(()=>{vs("Invalid login credentials.")}).finally(()=>{t(2,o=!1)})}function u(){l=this.value,t(0,l)}function f(){s=this.value,t(1,s)}return[l,s,o,a,u,f]}class U0 extends ve{constructor(e){super(),ke(this,e,H0,W0,ye,{})}}const z0={"/login":Hi({component:U0,conditions:[n=>!Ne.authStore.isValid],userData:{showAppSidebar:!1}}),"/collections":Hi({component:jg,conditions:[n=>Ne.authStore.isValid],userData:{showAppSidebar:!0}}),"/collections/:collectionId/":Hi({component:A0,conditions:[n=>Ne.authStore.isValid],userData:{showAppSidebar:!0}}),"*":Hi({component:gh,userData:{showAppSidebar:!1}})};function iu(n){let e,t,i,r,l,s,o,a,u,f,c,m,d,_,p,b;return d=new Ni({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[Y0]},$$scope:{ctx:n}}}),{c(){var g;e=w("aside"),t=w("a"),t.innerHTML='<img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/>',i=q(),r=w("nav"),l=w("a"),l.innerHTML='<i class="ri-database-2-line"></i>',s=q(),o=w("a"),o.innerHTML='<i class="ri-tools-line"></i>',a=q(),u=w("div"),f=w("img"),m=q(),$(d.$$.fragment),h(t,"href","/"),h(t,"class","logo logo-sm"),h(l,"href","/collections"),h(l,"class","menu-item"),h(l,"aria-label","Collections"),h(o,"href","/settings"),h(o,"class","menu-item"),h(o,"aria-label","Settings"),h(r,"class","main-menu"),sn(f.src,c="./images/avatars/avatar"+(((g=n[3])==null?void 0:g.avatar)||0)+".svg")||h(f,"src",c),h(f,"alt","Avatar"),h(f,"aria-hidden","true"),h(u,"tabindex","0"),h(u,"role","button"),h(u,"aria-label","Logged admin menu"),h(u,"class","thumb thumb-circle link-hint closable"),h(e,"class","app-sidebar")},m(g,y){S(g,e,y),C(e,t),C(e,i),C(e,r),C(r,l),C(r,s),C(r,o),C(e,a),C(e,u),C(u,f),C(u,m),Q(d,u,null),_=!0,p||(b=[We(Ki.call(null,t)),We(Ki.call(null,l)),We(Rs.call(null,l,{path:"/collections/?.*",className:"current-route"})),We(Je.call(null,l,{text:"Collections",position:"right"})),We(Ki.call(null,o)),We(Rs.call(null,o,{path:"/settings/?.*",className:"current-route"})),We(Je.call(null,o,{text:"Settings",position:"right"}))],p=!0)},p(g,y){var k;(!_||y&8&&!sn(f.src,c="./images/avatars/avatar"+(((k=g[3])==null?void 0:k.avatar)||0)+".svg"))&&h(f,"src",c);const T={};y&256&&(T.$$scope={dirty:y,ctx:g}),d.$set(T)},i(g){_||(O(d.$$.fragment,g),_=!0)},o(g){N(d.$$.fragment,g),_=!1},d(g){g&&v(e),X(d),p=!1,De(b)}}}function Y0(n){let e,t,i;return{c(){e=w("button"),e.innerHTML='<i class="ri-logout-circle-line" aria-hidden="true"></i> <span class="txt">Logout</span>',h(e,"type","button"),h(e,"class","dropdown-item closable"),h(e,"role","menuitem")},m(r,l){S(r,e,l),t||(i=ee(e,"click",n[6]),t=!0)},p:G,d(r){r&&v(e),t=!1,i()}}}function B0(n){var d;let e,t,i,r,l,s,o,a,u,f,c;document.title=e=A.joinNonEmpty([n[1],n[2],"PocketCMS"]," - ");let m=((d=n[3])==null?void 0:d.id)&&n[0]&&iu(n);return s=new Dc({props:{routes:z0}}),s.$on("routeLoading",n[4]),s.$on("conditionsFailed",n[5]),a=new ah({}),f=new jm({}),{c(){t=q(),i=w("div"),m&&m.c(),r=q(),l=w("div"),$(s.$$.fragment),o=q(),$(a.$$.fragment),u=q(),$(f.$$.fragment),h(l,"class","app-body"),h(i,"class","app-layout")},m(_,p){S(_,t,p),S(_,i,p),m&&m.m(i,null),C(i,r),C(i,l),Q(s,l,null),C(l,o),Q(a,l,null),S(_,u,p),Q(f,_,p),c=!0},p(_,[p]){var b;(!c||p&6)&&e!==(e=A.joinNonEmpty([_[1],_[2],"PocketCMS"]," - "))&&(document.title=e),(b=_[3])!=null&&b.id&&_[0]?m?(m.p(_,p),p&9&&O(m,1)):(m=iu(_),m.c(),O(m,1),m.m(i,r)):m&&(ue(),N(m,1,1,()=>{m=null}),fe())},i(_){c||(O(m),O(s.$$.fragment,_),O(a.$$.fragment,_),O(f.$$.fragment,_),c=!0)},o(_){N(m),N(s.$$.fragment,_),N(a.$$.fragment,_),N(f.$$.fragment,_),c=!1},d(_){_&&(v(t),v(i),v(u)),m&&m.d(),X(s),X(a),X(f,_)}}}function K0(n,e,t){let i,r,l;Ke(n,sr,c=>t(1,i=c)),Ke(n,dh,c=>t(2,r=c)),Ke(n,If,c=>t(3,l=c));let s=!1,o;function a(c){var m,d,_,p;((m=c==null?void 0:c.detail)==null?void 0:m.location)!==o&&(t(0,s=!!((_=(d=c==null?void 0:c.detail)==null?void 0:d.userData)!=null&&_.showAppSidebar)),o=(p=c==null?void 0:c.detail)==null?void 0:p.location,lu(sr,i="",i),pi({}),Cf())}function u(){Di("/")}function f(){Ne.logout()}return[s,i,r,l,a,u,f]}class Z0 extends ve{constructor(e){super(),ke(this,e,K0,B0,ye,{})}}new Z0({target:document.getElementById("app")});export{A as C,ve as S,h as a,S as b,Ke as c,v as d,w as e,dn as f,Ct as g,oe as h,ke as i,ac as j,G as n,Ft as o,ye as s};
